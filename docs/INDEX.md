# docs/ Index

> Auto-generated: 2026-02-07. Pure inventory ‚Äî no judgment or mutation.
> 
> Headings extracted: H1, H2, H3. Links are relative to docs/.

**115 files | 1204 KB total**

## Folder Summary

| Folder | Files | Size (KB) |
|--------|------:|----------:|
| root | 58 | 716 |
| Requests and Reports | 10 | 97 |
| benchmarks | 1 | 3 |
| bugs | 17 | 114 |
| compass | 3 | 17 |
| drafts | 3 | 18 |
| issues | 6 | 26 |
| learner | 2 | 13 |
| paths | 6 | 139 |
| reference | 1 | 4 |
| reviews | 8 | 57 |

---

## Root (docs/) (58 files, 716 KB)

### [00_ORIGINAL_CONCEPT.md](00_ORIGINAL_CONCEPT.md) ‚Äî 4.5 KB | Topic: ck3-modding | Type: early-concept

- [The Core Idea](00_ORIGINAL_CONCEPT.md#L3)
- [Why This Is a Good Idea](00_ORIGINAL_CONCEPT.md#L35)
  - [Detect silent overrides](00_ORIGINAL_CONCEPT.md#L42)
  - [Compatch design](00_ORIGINAL_CONCEPT.md#L45)
  - [Diff vs vanilla](00_ORIGINAL_CONCEPT.md#L48)
- [Hard Parts / Risks](00_ORIGINAL_CONCEPT.md#L53)
  - [Multiple files defining same scope:](00_ORIGINAL_CONCEPT.md#L61)
  - [On_actions, scripted effects, triggers:](00_ORIGINAL_CONCEPT.md#L66)
  - [Localization:](00_ORIGINAL_CONCEPT.md#L70)
- [How to Improve / Structure the Idea](00_ORIGINAL_CONCEPT.md#L76)
  - [2. Multi-layer provenance metadata instead of just comments](00_ORIGINAL_CONCEPT.md#L87)
  - [3. Diff views built-in](00_ORIGINAL_CONCEPT.md#L107)
  - [4. Conflict detector](00_ORIGINAL_CONCEPT.md#L114)
  - [5. At first, restrict scope](00_ORIGINAL_CONCEPT.md#L121)
- [Conclusion](00_ORIGINAL_CONCEPT.md#L129)

### [01_PARSER_AND_MERGER_CONCEPTS.md](01_PARSER_AND_MERGER_CONCEPTS.md) ‚Äî 4.5 KB | Topic: parser | Type: early-concept

*(No section headings found)*

### [02_BUILDER_DESIGN_CURRENT_STATE.md](02_BUILDER_DESIGN_CURRENT_STATE.md) ‚Äî 16.5 KB | Topic: parser | Type: early-concept

- [Overview](02_BUILDER_DESIGN_CURRENT_STATE.md#L7)
- [Current Architecture](02_BUILDER_DESIGN_CURRENT_STATE.md#L13)
  - [File Processing Pipeline](02_BUILDER_DESIGN_CURRENT_STATE.md#L15)
  - [File Routing (file_routes.py)](02_BUILDER_DESIGN_CURRENT_STATE.md#L47)
- [Current Parser (`ck3raven/parser/`)](02_BUILDER_DESIGN_CURRENT_STATE.md#L70)
  - [Components](02_BUILDER_DESIGN_CURRENT_STATE.md#L72)
  - [Lexer Notes](02_BUILDER_DESIGN_CURRENT_STATE.md#L80)
  - [AST Node Types](02_BUILDER_DESIGN_CURRENT_STATE.md#L93)
  - [AST Dataclasses](02_BUILDER_DESIGN_CURRENT_STATE.md#L105)
  - [Operators Supported](02_BUILDER_DESIGN_CURRENT_STATE.md#L115)
  - [Token Types](02_BUILDER_DESIGN_CURRENT_STATE.md#L119)
- [Open Questions](02_BUILDER_DESIGN_CURRENT_STATE.md#L125)
  - [1. AST for Everything?](02_BUILDER_DESIGN_CURRENT_STATE.md#L127)
  - [2. What Existing Parsers Do](02_BUILDER_DESIGN_CURRENT_STATE.md#L144)
  - [3. Lookup Data Handler](02_BUILDER_DESIGN_CURRENT_STATE.md#L163)
  - [4. Phase Ordering](02_BUILDER_DESIGN_CURRENT_STATE.md#L198)
  - [5. Reference Data vs Reference Extraction](02_BUILDER_DESIGN_CURRENT_STATE.md#L216)
- [External Parser References](02_BUILDER_DESIGN_CURRENT_STATE.md#L231)
  - [Worth Studying](02_BUILDER_DESIGN_CURRENT_STATE.md#L233)
  - [Key Insights from External Parsers](02_BUILDER_DESIGN_CURRENT_STATE.md#L255)
- [Development Areas](02_BUILDER_DESIGN_CURRENT_STATE.md#L281)
  - [Immediate (Current Sprint)](02_BUILDER_DESIGN_CURRENT_STATE.md#L283)
  - [Short-term](02_BUILDER_DESIGN_CURRENT_STATE.md#L297)
  - [Medium-term](02_BUILDER_DESIGN_CURRENT_STATE.md#L307)
- [Files Involved](02_BUILDER_DESIGN_CURRENT_STATE.md#L320)
- [Decision Log](02_BUILDER_DESIGN_CURRENT_STATE.md#L345)
- [Questions for User](02_BUILDER_DESIGN_CURRENT_STATE.md#L357)

### [02_EXISTING_TOOLS_AND_FEASIBILITY.md](02_EXISTING_TOOLS_AND_FEASIBILITY.md) ‚Äî 5.2 KB | Topic: parser | Type: early-concept

- [1. Does anyone already have such a parser?](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L3)
- [2. How technically hard is this?](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L29)
  - [Skill level](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L31)
  - [Main technical chunks](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L45)
  - [What AI *can* realistically help with](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L85)
  - [What AI *cannot* safely do alone (yet)](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L107)
- [TL;DR](02_EXISTING_TOOLS_AND_FEASIBILITY.md#L144)

### [03_PARSER_LANDSCAPE.md](03_PARSER_LANDSCAPE.md) ‚Äî 15.2 KB | Topic: parser | Type: early-concept

- [The Clausewitz Format](03_PARSER_LANDSCAPE.md#L7)
  - [Basic Syntax](03_PARSER_LANDSCAPE.md#L11)
  - [Edge Cases (from pdx.tools blog)](03_PARSER_LANDSCAPE.md#L34)
- [Parser Comparison](03_PARSER_LANDSCAPE.md#L50)
  - [1. jomini (Rust) - Performance King](03_PARSER_LANDSCAPE.md#L52)
  - [2. CWTools (F#) - Validation Champion](03_PARSER_LANDSCAPE.md#L92)
  - [3. pyradox (Python) - Simple Python Parser](03_PARSER_LANDSCAPE.md#L132)
  - [4. jomini.js (JavaScript/WASM)](03_PARSER_LANDSCAPE.md#L195)
- [Parsing Strategies](03_PARSER_LANDSCAPE.md#L207)
  - [Strategy A: Full AST (CWTools, current ck3raven)](03_PARSER_LANDSCAPE.md#L209)
  - [Strategy B: Tape/Event Parsing (jomini)](03_PARSER_LANDSCAPE.md#L225)
  - [Strategy C: Direct Deserialization (jomini derive)](03_PARSER_LANDSCAPE.md#L240)
  - [Strategy D: Hybrid (Proposed for ck3raven)](03_PARSER_LANDSCAPE.md#L255)
- [Recommended Approach for ck3raven](03_PARSER_LANDSCAPE.md#L272)
  - [1. Keep the Lexer](03_PARSER_LANDSCAPE.md#L274)
  - [2. Add Extraction Modes](03_PARSER_LANDSCAPE.md#L278)
  - [3. Per-Folder Routing](03_PARSER_LANDSCAPE.md#L296)
  - [4. Study jomini for Patterns](03_PARSER_LANDSCAPE.md#L308)
- [Resources](03_PARSER_LANDSCAPE.md#L317)
- [Deep Dive: CWTools](03_PARSER_LANDSCAPE.md#L328)
  - [Why Study CWTools?](03_PARSER_LANDSCAPE.md#L332)
  - [CWTools Architecture](03_PARSER_LANDSCAPE.md#L339)
  - [CWTools Schema Files (.cwt)](03_PARSER_LANDSCAPE.md#L359)
  - [CWTools Limitations](03_PARSER_LANDSCAPE.md#L381)
  - [What We Can Learn](03_PARSER_LANDSCAPE.md#L387)
- [Deep Dive: jomini (Rust)](03_PARSER_LANDSCAPE.md#L396)
  - [Why Study jomini?](03_PARSER_LANDSCAPE.md#L400)
  - [jomini Architecture](03_PARSER_LANDSCAPE.md#L407)
  - [Tape Parsing Explained](03_PARSER_LANDSCAPE.md#L432)
  - [JominiDeserialize Derive Macro](03_PARSER_LANDSCAPE.md#L447)
  - [Applicability to ck3raven](03_PARSER_LANDSCAPE.md#L463)
  - [Recommended Investigation](03_PARSER_LANDSCAPE.md#L474)
- [Next Steps](03_PARSER_LANDSCAPE.md#L483)

### [03_TRADITION_RESOLVER_V0_DESIGN.md](03_TRADITION_RESOLVER_V0_DESIGN.md) ‚Äî 9.8 KB | Topic: parser | Type: early-concept

- [0. Scope & assumptions for v0](03_TRADITION_RESOLVER_V0_DESIGN.md#L9)
- [1. Inputs and outputs](03_TRADITION_RESOLVER_V0_DESIGN.md#L32)
  - [1.1 Inputs](03_TRADITION_RESOLVER_V0_DESIGN.md#L34)
  - [1.2 Outputs](03_TRADITION_RESOLVER_V0_DESIGN.md#L54)
- [2. High-level pipeline](03_TRADITION_RESOLVER_V0_DESIGN.md#L93)
- [3. Core components](03_TRADITION_RESOLVER_V0_DESIGN.md#L109)
  - [3.1 Playset reader](03_TRADITION_RESOLVER_V0_DESIGN.md#L111)
  - [3.2 File scanner](03_TRADITION_RESOLVER_V0_DESIGN.md#L131)
  - [3.3 Lexer (tokenizer)](03_TRADITION_RESOLVER_V0_DESIGN.md#L152)
  - [3.4 Parser (tradition-level AST)](03_TRADITION_RESOLVER_V0_DESIGN.md#L173)
  - [3.5 Tradition registry + merge logic](03_TRADITION_RESOLVER_V0_DESIGN.md#L233)
  - [3.6 Exporter](03_TRADITION_RESOLVER_V0_DESIGN.md#L274)
- [4. CLI & workflow](03_TRADITION_RESOLVER_V0_DESIGN.md#L327)

### [04_VIRTUAL_MERGE_EXPLAINED.md](04_VIRTUAL_MERGE_EXPLAINED.md) ‚Äî 5.1 KB | Topic: ck3-modding | Type: early-concept

- [2. What types of CK3 blocks a virtual merge is useful for](04_VIRTUAL_MERGE_EXPLAINED.md#L37)
  - [(A) Objects that are fully overridden in-game](04_VIRTUAL_MERGE_EXPLAINED.md#L43)
- [3. Types of Blocks Where Virtual Merge Is *Not* Needed (because CK3 merges na...](04_VIRTUAL_MERGE_EXPLAINED.md#L144)
  - [A) on_actions](04_VIRTUAL_MERGE_EXPLAINED.md#L150)
  - [B) Localization files](04_VIRTUAL_MERGE_EXPLAINED.md#L161)
  - [Final block (actual game result)](04_VIRTUAL_MERGE_EXPLAINED.md#L204)
  - [Synthetic merged block (everything reachable across mods)](04_VIRTUAL_MERGE_EXPLAINED.md#L208)
  - [Diff highlighting what was removed or altered.](04_VIRTUAL_MERGE_EXPLAINED.md#L212)
- [TL;DR](04_VIRTUAL_MERGE_EXPLAINED.md#L222)
  - [A **virtual merge** is:](04_VIRTUAL_MERGE_EXPLAINED.md#L224)
  - [It applies to:](04_VIRTUAL_MERGE_EXPLAINED.md#L228)
  - [CK3 natively merges:](04_VIRTUAL_MERGE_EXPLAINED.md#L240)

### [05_ACCURATE_MERGE_OVERRIDE_RULES.md](05_ACCURATE_MERGE_OVERRIDE_RULES.md) ‚Äî 6.9 KB | Topic: ck3-modding | Type: early-concept

- [Official Paradox Documentation (Verbatim)](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L7)
- [1. The Critical Rule for on_actions](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L30)
  - [Each named on_action can have **exactly ONE** of each:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L32)
  - [Lists inside on_actions **APPEND/MERGE**:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L41)
- [2. Why This Matters](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L54)
- [3. How Mods Correctly Extend On_Actions](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L68)
  - [Best Practice: Chain custom on_actions from vanilla](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L70)
  - [Result after CK3 merges:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L102)
- [4. Example of a Conflict](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L122)
  - [Vanilla:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L124)
  - [Mod A:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L134)
  - [Result: CONFLICT](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L144)
  - [Correct approach:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L150)
- [5. Example with Multiple Mods Working Correctly](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L168)
  - [Vanilla:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L170)
  - [Mod A (CAD):](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L184)
  - [Mod B (TCT):](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L201)
  - [Final merged result:](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L218)
- [6. Complete on_action Structure Reference](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L240)
- [TL;DR - The Accurate Rules](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L264)
  - [‚úÖ APPENDS (Lists merge across files)](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L266)
  - [‚ùå CONFLICTS (Only ONE per named on_action, last loaded wins)](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L274)
  - [‚úÖ Best Practice](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L280)
- [Implementation Note for Game State Emulator](05_ACCURATE_MERGE_OVERRIDE_RULES.md#L293)

### [06_CONTAINER_MERGE_OVERRIDE_TABLE.md](06_CONTAINER_MERGE_OVERRIDE_TABLE.md) ‚Äî 27.7 KB | Topic: parser | Type: early-concept

- [The 4 Core Merge Policies](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L10)
  - [1. OVERRIDE (Most Common)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L14)
  - [2. CONTAINER_MERGE (Special)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L23)
  - [3. PER_KEY_OVERRIDE (Flat Files)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L32)
  - [4. LIST_APPEND (Rare)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L41)
- [File-Level Behavior: Same Filename vs Different Filename](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L52)
  - [The Golden Rule](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L58)
  - [Full File Override (Same Filename)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L63)
  - [Key-Level Merge (Different Filename)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L92)
  - [LIOS vs FIOS Load Order](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L116)
  - [Localization `replace/` Subfolder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L143)
  - [Summary Table: File-Level Resolution](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L153)
  - [Implications for Emulator](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L163)
- [Complete Content Type Reference](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L179)
  - [common/ Folder - Named Block Containers](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L183)
  - [events/ Folder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L300)
  - [history/ Folder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L306)
  - [localization/ Folder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L317)
  - [gfx/ Folder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L323)
  - [gui/ Folder](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L329)
- [A. Cultures & Traditions](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L353)
  - [1. `common/culture/traditions/*.txt`](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L355)
  - [2. `common/culture/cultures/*.txt`](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L362)
- [B. Events](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L374)
- [C. Decisions](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L387)
- [D. Scripted Effects & Scripted Triggers](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L398)
- [E. on_actions ‚Äî The Complex One (CORRECTED)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L416)
  - [Actual File Structure (NO wrapper!)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L426)
  - [Merge Behavior Per Block Type](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L443)
  - [Key Insight](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L458)
  - [The Correct Modding Pattern](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L469)
- [F. Laws, Government Types, Tenets, Doctrines, Game Rules, Men-at-Arms Types](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L490)
- [G. Localization](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L516)
- [H. `defines` and other oddballs](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L529)
- [Summary Table (high-level) - CORRECTED](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L542)
  - [File-Level Resolution (First Pass)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L544)
  - [Key-Level Resolution (Second Pass)](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L553)
- [Updating the Tradition-Resolver Design with This Complexity](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L577)
- [Parser Stays Generic, Resolver Becomes Type-Aware](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L651)
- [The Tradition-Resolver v0 with Future Expansion Hooks](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L673)
  - [v0 Implementation](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L677)
  - [Design Notes for v1+](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L685)
  - [Virtual Merge for Human Inspection](06_CONTAINER_MERGE_OVERRIDE_TABLE.md#L697)

### [07_TEST_MOD_AND_LOGGING_COMPATCH.md](07_TEST_MOD_AND_LOGGING_COMPATCH.md) ‚Äî 5.9 KB | Topic: logging | Type: early-concept

- [1. Test Mod with Decisions](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L10)
  - [Concept](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L12)
  - [What this gives you:](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L28)
  - [How to improve this idea](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L33)
- [2. Logging Compatch Generator](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L63)
  - [Concept](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L67)
  - [How to make it powerful & safe](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L93)
- [How Both Tools Could Work Together](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L128)
  - [Step 1: Run the Game State Emulator](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L130)
  - [Step 2: Generate a Test Harness + Logging Compatch](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L135)
  - [Step 3: Run CK3 with the debug + logging mods](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L141)
- [Assessment](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L150)
  - [Are these good ideas?](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L152)
  - [Main improvements suggested:](07_TEST_MOD_AND_LOGGING_COMPATCH.md#L159)

### [08_MAP_MOD_CONVERSION_AGENT.md](08_MAP_MOD_CONVERSION_AGENT.md) ‚Äî 12.2 KB | Topic: parser | Type: early-concept

- [Problem Statement](08_MAP_MOD_CONVERSION_AGENT.md#L9)
- [Analysis: More Bookmarks+ Scale](08_MAP_MOD_CONVERSION_AGENT.md#L21)
  - [The Numbers](08_MAP_MOD_CONVERSION_AGENT.md#L23)
- [The Compatching Challenge](08_MAP_MOD_CONVERSION_AGENT.md#L36)
  - [1. Landed Title References Are Everywhere](08_MAP_MOD_CONVERSION_AGENT.md#L38)
  - [2. Holy Sites Are Tied to Specific Baronies](08_MAP_MOD_CONVERSION_AGENT.md#L49)
  - [3. Geographic Region Triggers](08_MAP_MOD_CONVERSION_AGENT.md#L57)
  - [4. The Ripple Effect](08_MAP_MOD_CONVERSION_AGENT.md#L65)
- [Proposed Solution: Map Conversion Agent](08_MAP_MOD_CONVERSION_AGENT.md#L73)
  - [Core Concept](08_MAP_MOD_CONVERSION_AGENT.md#L75)
  - [Phase 1: Build the Mapping Index](08_MAP_MOD_CONVERSION_AGENT.md#L79)
  - [Phase 2: MCP Tools for Map Conversion Agent](08_MAP_MOD_CONVERSION_AGENT.md#L115)
  - [Phase 3: Mapping Confidence Levels](08_MAP_MOD_CONVERSION_AGENT.md#L126)
  - [Phase 4: Heuristics for Auto-Mapping](08_MAP_MOD_CONVERSION_AGENT.md#L139)
  - [Phase 5: Agent Workflow](08_MAP_MOD_CONVERSION_AGENT.md#L148)
- [Why This Is Feasible](08_MAP_MOD_CONVERSION_AGENT.md#L174)
- [Implementation Requirements](08_MAP_MOD_CONVERSION_AGENT.md#L188)
  - [Database Extensions](08_MAP_MOD_CONVERSION_AGENT.md#L190)
  - [Title Parser Enhancement](08_MAP_MOD_CONVERSION_AGENT.md#L210)
  - [Fuzzy Matcher](08_MAP_MOD_CONVERSION_AGENT.md#L218)
  - [Conversion Engine](08_MAP_MOD_CONVERSION_AGENT.md#L227)
  - [UI for Ambiguous Cases](08_MAP_MOD_CONVERSION_AGENT.md#L234)
- [Potential Use Cases](08_MAP_MOD_CONVERSION_AGENT.md#L240)
- [Success Metrics](08_MAP_MOD_CONVERSION_AGENT.md#L249)
- [Related Work](08_MAP_MOD_CONVERSION_AGENT.md#L258)

### [ARCHITECTURE.md](ARCHITECTURE.md) ‚Äî 6.3 KB | Topic: ck3-modding

- [A) Boundary, authority, and safety concepts](ARCHITECTURE.md#L7)
- [B) Identity, addressing, and world modeling concepts](ARCHITECTURE.md#L49)
- [C) File operation semantics concepts](ARCHITECTURE.md#L84)
- [D) CK3 domain parsing and compatching concepts (ck3raven core)](ARCHITECTURE.md#L109)
- [E) UX / tooling integration concepts](ARCHITECTURE.md#L159)
- [F) Build, test, and maintenance concepts](ARCHITECTURE.md#L180)

### [ARCHITECTURE_TODO_JAN31.md](ARCHITECTURE_TODO_JAN31.md) ‚Äî 7.9 KB | Topic: policy | Type: todo

- [Completed Today (January 31, 2026)](ARCHITECTURE_TODO_JAN31.md#L8)
- [Priority Items (Remaining)](ARCHITECTURE_TODO_JAN31.md#L26)
  - [1. Add ROOT_VSCODE Canonical Domain](ARCHITECTURE_TODO_JAN31.md#L28)
  - [2. Consider ROOT_OTHER Catch-All Domain](ARCHITECTURE_TODO_JAN31.md#L31)
  - [3. Refactor WorldAdapter to Use RootCategory](ARCHITECTURE_TODO_JAN31.md#L34)
  - [4. Remove Parallel Domain Systems](ARCHITECTURE_TODO_JAN31.md#L37)
  - [6. Integrate Canonical Tokens into Enforcement](ARCHITECTURE_TODO_JAN31.md#L45)
  - [7. Audit ck3_exec vs ck3_file Consistency](ARCHITECTURE_TODO_JAN31.md#L48)
  - [8. Map RootCategory to Filesystem Paths](ARCHITECTURE_TODO_JAN31.md#L51)
  - [9. Update Workspace Config to Define Domain Paths](ARCHITECTURE_TODO_JAN31.md#L54)
  - [10. Redesign agentView (Tools Sidebar) for Participant Architecture](ARCHITECTURE_TODO_JAN31.md#L57)
  - [11. Fix Failed Initialization Not Updating Status Correctly](ARCHITECTURE_TODO_JAN31.md#L103)
- [Related Issues (Resolved)](ARCHITECTURE_TODO_JAN31.md#L121)
  - [~~Broken .disabled Extension Folder~~](ARCHITECTURE_TODO_JAN31.md#L123)
  - [~~claude-code Chat Participant Error~~](ARCHITECTURE_TODO_JAN31.md#L130)
- [Architecture Context](ARCHITECTURE_TODO_JAN31.md#L138)
- [Related Documentation](ARCHITECTURE_TODO_JAN31.md#L148)

### [bug report ck3contract hangs.md](bug report ck3contract hangs.md) ‚Äî 6.7 KB | Topic: contract | Type: bug-report

*(No section headings found)*

### [CANONICAL CONTRACT SYSTEM.md](CANONICAL CONTRACT SYSTEM.md) ‚Äî 28.1 KB | Topic: policy | Type: canonical

- [0. Purpose](CANONICAL CONTRACT SYSTEM.md#L9)
- [1. Foundational Principle](CANONICAL CONTRACT SYSTEM.md#L24)
  - [Geographic Authority Principle](CANONICAL CONTRACT SYSTEM.md#L26)
- [1.1 Visibility Versus Authority](CANONICAL CONTRACT SYSTEM.md#L45)
- [2. Contracts](CANONICAL CONTRACT SYSTEM.md#L56)
- [3. Zero Compatibility Rule](CANONICAL CONTRACT SYSTEM.md#L70)
- [4. Root Categories](CANONICAL CONTRACT SYSTEM.md#L87)
- [5. Contract Schema Version 1](CANONICAL CONTRACT SYSTEM.md#L109)
- [6. Operations](CANONICAL CONTRACT SYSTEM.md#L126)
- [7. Targets](CANONICAL CONTRACT SYSTEM.md#L142)
- [8. Work Declaration](CANONICAL CONTRACT SYSTEM.md#L156)
- [9. Symbol Intent](CANONICAL CONTRACT SYSTEM.md#L169)
- [10. Forbidden Concepts](CANONICAL CONTRACT SYSTEM.md#L184)
- [11. Execution Modes](CANONICAL CONTRACT SYSTEM.md#L197)
  - [ck3lens](CANONICAL CONTRACT SYSTEM.md#L199)
  - [ck3raven-dev](CANONICAL CONTRACT SYSTEM.md#L205)
- [12. Capability Matrix](CANONICAL CONTRACT SYSTEM.md#L215)
  - [12.1 Capability Levels](CANONICAL CONTRACT SYSTEM.md#L231)
  - [12.2 Canonical Capability Matrix](CANONICAL CONTRACT SYSTEM.md#L240)
- [13. Enforcement Philosophy](CANONICAL CONTRACT SYSTEM.md#L288)
- [Phase 1: Contract Law](CANONICAL CONTRACT SYSTEM.md#L306)
- [Phase 1.5: Deterministic Evidence and Symbol Control](CANONICAL CONTRACT SYSTEM.md#L322)
  - [Properties introduced](CANONICAL CONTRACT SYSTEM.md#L330)
- [Phase 2: Deterministic Gates](CANONICAL CONTRACT SYSTEM.md#L376)
- [Phase 3: Execution Enforcement](CANONICAL CONTRACT SYSTEM.md#L395)
- [14. Safety Rule](CANONICAL CONTRACT SYSTEM.md#L408)
- [15. Final Principle](CANONICAL CONTRACT SYSTEM.md#L420)
- [Overview](CANONICAL CONTRACT SYSTEM.md#L437)
- [Directory Structure](CANONICAL CONTRACT SYSTEM.md#L451)
- [Tool 1: Linter Lock (`linter_lock.py`)](CANONICAL CONTRACT SYSTEM.md#L479)
  - [Purpose](CANONICAL CONTRACT SYSTEM.md#L481)
  - [Scope](CANONICAL CONTRACT SYSTEM.md#L486)
  - [Commands](CANONICAL CONTRACT SYSTEM.md#L491)
  - [Key Functions](CANONICAL CONTRACT SYSTEM.md#L513)
  - [Workflow: Agent Modifies arch_lint](CANONICAL CONTRACT SYSTEM.md#L523)
  - [Lock File Schema](CANONICAL CONTRACT SYSTEM.md#L534)
  - [Verification Output](CANONICAL CONTRACT SYSTEM.md#L550)
- [Tool 2: Locked Lint Runner (`run_arch_lint_locked.py`)](CANONICAL CONTRACT SYSTEM.md#L569)
  - [Purpose](CANONICAL CONTRACT SYSTEM.md#L571)
  - [Usage](CANONICAL CONTRACT SYSTEM.md#L578)
  - [Example](CANONICAL CONTRACT SYSTEM.md#L584)
  - [Output](CANONICAL CONTRACT SYSTEM.md#L590)
  - [Report Fields](CANONICAL CONTRACT SYSTEM.md#L599)
  - [Watermark](CANONICAL CONTRACT SYSTEM.md#L616)
  - [Failure Modes](CANONICAL CONTRACT SYSTEM.md#L626)
- [Tool 3: Symbols Lock (`symbols_lock.py`)](CANONICAL CONTRACT SYSTEM.md#L638)
  - [Purpose](CANONICAL CONTRACT SYSTEM.md#L640)
  - [Key Properties](CANONICAL CONTRACT SYSTEM.md#L645)
  - [Commands](CANONICAL CONTRACT SYSTEM.md#L653)
  - [Workflow: Contract Symbol Audit](CANONICAL CONTRACT SYSTEM.md#L669)
  - [Example: Create Snapshot](CANONICAL CONTRACT SYSTEM.md#L678)
  - [Example: Check for New Symbols](CANONICAL CONTRACT SYSTEM.md#L697)
  - [Snapshot Schema](CANONICAL CONTRACT SYSTEM.md#L726)
  - [Key Functions](CANONICAL CONTRACT SYSTEM.md#L742)
- [Integration with Contracts](CANONICAL CONTRACT SYSTEM.md#L754)
  - [At Contract Open](CANONICAL CONTRACT SYSTEM.md#L756)
  - [At Contract Close (Audit)](CANONICAL CONTRACT SYSTEM.md#L766)
- [Canonical Locations](CANONICAL CONTRACT SYSTEM.md#L794)
- [Prohibited Actions](CANONICAL CONTRACT SYSTEM.md#L805)
- [Phase 1.5 Component Status](CANONICAL CONTRACT SYSTEM.md#L817)
- [Phase 1.5C: Token Registry Specification](CANONICAL CONTRACT SYSTEM.md#L828)
  - [Purpose](CANONICAL CONTRACT SYSTEM.md#L830)
  - [Token Schema](CANONICAL CONTRACT SYSTEM.md#L839)
  - [Token Lifecycle](CANONICAL CONTRACT SYSTEM.md#L860)
  - [NST (New Symbol Token)](CANONICAL CONTRACT SYSTEM.md#L871)
  - [LXE (Lint Exception Token)](CANONICAL CONTRACT SYSTEM.md#L890)
  - [MIT (Mode Initialization Token)](CANONICAL CONTRACT SYSTEM.md#L910)
  - [Token Validation at Contract Close](CANONICAL CONTRACT SYSTEM.md#L930)
  - [Implementation Requirements](CANONICAL CONTRACT SYSTEM.md#L943)
- [Phase 1.5 Trailing Work](CANONICAL CONTRACT SYSTEM.md#L961)
  - [Remaining Implementation Tasks](CANONICAL CONTRACT SYSTEM.md#L963)
  - [Verification Criteria](CANONICAL CONTRACT SYSTEM.md#L984)
- [Strategic Analysis: Architectural Debt](CANONICAL CONTRACT SYSTEM.md#L995)
  - [Problem Summary](CANONICAL CONTRACT SYSTEM.md#L997)
  - [Primary Violation Categories](CANONICAL CONTRACT SYSTEM.md#L1002)
  - [Specific Files Requiring Refactor](CANONICAL CONTRACT SYSTEM.md#L1013)
  - [Recommended Cleanup Sequence](CANONICAL CONTRACT SYSTEM.md#L1058)
  - [Success Criteria](CANONICAL CONTRACT SYSTEM.md#L1085)
- [References](CANONICAL CONTRACT SYSTEM.md#L1096)

### [CANONICAL REFACTOR INSTRUCTIONS.md](CANONICAL REFACTOR INSTRUCTIONS.md) ‚Äî 14.0 KB | Type: canonical

*(No section headings found)*

### [Canonical Reply System Architecture.md](Canonical Reply System Architecture.md) ‚Äî 11.1 KB | Topic: reply-system | Type: canonical

  - [**Document 1: The Architecture Specification**](Canonical Reply System Architecture.md#L3)
- [**1\. Core Philosophy: "Replies, Not Errors"**](Canonical Reply System Architecture.md#L17)
  - [**The Razor-Sharp Separation of Concerns**](Canonical Reply System Architecture.md#L24)
  - [**3.1 The Schema**](Canonical Reply System Architecture.md#L55)
  - [**3.2 Canonical Reply Code Format**](Canonical Reply System Architecture.md#L73)
- [**Phase 1: Infrastructure & Safety Net (Immediate)**](Canonical Reply System Architecture.md#L280)
- [**Phase 2: Domain Adoption (The Refactor)**](Canonical Reply System Architecture.md#L295)
- [**Phase 3: Strict Mode (Cleanup)**](Canonical Reply System Architecture.md#L308)

### [CANONICAL_ARCHITECTURE.md](CANONICAL_ARCHITECTURE.md) ‚Äî 33.1 KB | Topic: policy | Type: canonical

- [Canonical Permissions Model](CANONICAL_ARCHITECTURE.md#L9)
- [Quick Reference (Read This First)](CANONICAL_ARCHITECTURE.md#L20)
- [Table of Contents](CANONICAL_ARCHITECTURE.md#L34)
- [1. Enforcement Architecture](CANONICAL_ARCHITECTURE.md#L54)
  - [Key Points](CANONICAL_ARCHITECTURE.md#L58)
  - [Enforcement Scope](CANONICAL_ARCHITECTURE.md#L65)
  - [Usage Pattern](CANONICAL_ARCHITECTURE.md#L73)
  - [What Enforcement Checks](CANONICAL_ARCHITECTURE.md#L90)
- [2. Resolution Architecture](CANONICAL_ARCHITECTURE.md#L102)
  - [Key Points](CANONICAL_ARCHITECTURE.md#L106)
  - [What Resolution Does](CANONICAL_ARCHITECTURE.md#L113)
  - [Usage Pattern](CANONICAL_ARCHITECTURE.md#L126)
  - [Resolution vs Enforcement](CANONICAL_ARCHITECTURE.md#L136)
- [3. Playset Architecture](CANONICAL_ARCHITECTURE.md#L147)
  - [Key Points](CANONICAL_ARCHITECTURE.md#L151)
  - [Data Flow](CANONICAL_ARCHITECTURE.md#L158)
  - [Mod Types](CANONICAL_ARCHITECTURE.md#L164)
- [4. Path Resolution](CANONICAL_ARCHITECTURE.md#L176)
  - [Canonical Path Normalization Pipeline (MANDATORY)](CANONICAL_ARCHITECTURE.md#L178)
  - [Prohibited Patterns](CANONICAL_ARCHITECTURE.md#L194)
  - [Canonical Path Utility Requirement](CANONICAL_ARCHITECTURE.md#L201)
  - [Domain Classification](CANONICAL_ARCHITECTURE.md#L236)
  - [Resolution Flow](CANONICAL_ARCHITECTURE.md#L246)
- [5. MCP Tool Architecture](CANONICAL_ARCHITECTURE.md#L260)
  - [Required Components](CANONICAL_ARCHITECTURE.md#L264)
  - [Canonical Tool Pattern](CANONICAL_ARCHITECTURE.md#L275)
  - [NO-ORACLE RULES for MCP Tools](CANONICAL_ARCHITECTURE.md#L320)
  - [No-Oracle Invariant](CANONICAL_ARCHITECTURE.md#L351)
  - [Canonical Tool Flow](CANONICAL_ARCHITECTURE.md#L357)
  - [Mode-Aware Behavior](CANONICAL_ARCHITECTURE.md#L365)
  - [Execution Model](CANONICAL_ARCHITECTURE.md#L374)
  - [Address Types](CANONICAL_ARCHITECTURE.md#L390)
- [6. Banned Terms](CANONICAL_ARCHITECTURE.md#L403)
  - [Permission / Capability Oracles (HARD BAN)](CANONICAL_ARCHITECTURE.md#L409)
  - [Parallel Authority Structures (HARD BAN)](CANONICAL_ARCHITECTURE.md#L427)
  - [Visibility / Scope Caching (HARD BAN - December 2025)](CANONICAL_ARCHITECTURE.md#L453)
  - [Legacy Format Support (HARD BAN - December 2025)](CANONICAL_ARCHITECTURE.md#L469)
  - [Bridge Playset Duplication (HARD BAN - January 2026)](CANONICAL_ARCHITECTURE.md#L477)
  - [Required Replacements](CANONICAL_ARCHITECTURE.md#L505)
- [7. File Locations](CANONICAL_ARCHITECTURE.md#L519)
  - [Canonical Source Files](CANONICAL_ARCHITECTURE.md#L521)
  - [Archived (DO NOT USE)](CANONICAL_ARCHITECTURE.md#L533)
- [Related Documents](CANONICAL_ARCHITECTURE.md#L543)
- [Checklist for New Code](CANONICAL_ARCHITECTURE.md#L555)
- [8. Capability Handles Pattern (December 2025)](CANONICAL_ARCHITECTURE.md#L572)
  - [Overview](CANONICAL_ARCHITECTURE.md#L574)
  - [DbHandle](CANONICAL_ARCHITECTURE.md#L592)
  - [FsHandle](CANONICAL_ARCHITECTURE.md#L617)
  - [_CAP_TOKEN Pattern](CANONICAL_ARCHITECTURE.md#L642)
  - [Handle Minting](CANONICAL_ARCHITECTURE.md#L663)
- [9. Mode-Aware Addressing](CANONICAL_ARCHITECTURE.md#L685)
  - [ck3lens Mode](CANONICAL_ARCHITECTURE.md#L687)
  - [ck3raven-dev Mode](CANONICAL_ARCHITECTURE.md#L705)
  - [Addressing Summary](CANONICAL_ARCHITECTURE.md#L723)
- [10. Single WorldAdapter Architecture](CANONICAL_ARCHITECTURE.md#L732)
  - [Path Resolution is Structural, Not Permission-Based](CANONICAL_ARCHITECTURE.md#L738)
  - [Mode Matters for Enforcement, Not Resolution](CANONICAL_ARCHITECTURE.md#L749)
  - [Visibility Filtering Applies to Database Queries Only](CANONICAL_ARCHITECTURE.md#L761)
  - [Banned Patterns](CANONICAL_ARCHITECTURE.md#L771)
- [11. arch_lint v2.2](CANONICAL_ARCHITECTURE.md#L787)
  - [Purpose](CANONICAL_ARCHITECTURE.md#L791)
  - [Usage](CANONICAL_ARCHITECTURE.md#L802)
  - [Configuration](CANONICAL_ARCHITECTURE.md#L818)
  - [Integration](CANONICAL_ARCHITECTURE.md#L839)
- [12. _*_internal Method Naming Convention](CANONICAL_ARCHITECTURE.md#L845)
  - [Example](CANONICAL_ARCHITECTURE.md#L854)
  - [Why This Matters](CANONICAL_ARCHITECTURE.md#L869)
- [13. AST Identity Invariant (January 2026)](CANONICAL_ARCHITECTURE.md#L877)
  - [Core Principle](CANONICAL_ARCHITECTURE.md#L881)
  - [Implications](CANONICAL_ARCHITECTURE.md#L890)
  - [Schema Constraint](CANONICAL_ARCHITECTURE.md#L898)
  - [Worker Requirements](CANONICAL_ARCHITECTURE.md#L905)
  - [Symbol/Reference Extraction](CANONICAL_ARCHITECTURE.md#L925)
  - [Vestigial `file_id` Column](CANONICAL_ARCHITECTURE.md#L931)
  - [Compatibility with Envelopes](CANONICAL_ARCHITECTURE.md#L938)
  - [Non-Negotiable](CANONICAL_ARCHITECTURE.md#L946)
- [14. Single-Writer DB Architecture (January 2026)](CANONICAL_ARCHITECTURE.md#L960)
  - [Core Principle](CANONICAL_ARCHITECTURE.md#L964)
  - [Implications](CANONICAL_ARCHITECTURE.md#L970)
  - [Why This Matters](CANONICAL_ARCHITECTURE.md#L979)
  - [Canonical File Locations](CANONICAL_ARCHITECTURE.md#L991)
  - [MCP Tool Pattern](CANONICAL_ARCHITECTURE.md#L1001)
  - [Non-Negotiable](CANONICAL_ARCHITECTURE.md#L1016)

### [CANONICAL_LOGS.md](CANONICAL_LOGS.md) ‚Äî 23.5 KB | Topic: contract | Type: canonical

- [Canonical Invariants (MANDATORY)](CANONICAL_LOGS.md#L9)
- [Problem Statement](CANONICAL_LOGS.md#L24)
- [Scope](CANONICAL_LOGS.md#L44)
  - [IN SCOPE (This Specification)](CANONICAL_LOGS.md#L46)
  - [OUT OF SCOPE (Separate System)](CANONICAL_LOGS.md#L53)
- [Architecture Overview](CANONICAL_LOGS.md#L60)
  - [Critical Design Decision: Separate Log Files](CANONICAL_LOGS.md#L62)
- [Log File Location](CANONICAL_LOGS.md#L103)
- [Log Format](CANONICAL_LOGS.md#L119)
- [Timestamp Standardization (CRITICAL)](CANONICAL_LOGS.md#L142)
- [Trace ID Correlation](CANONICAL_LOGS.md#L159)
- [Log Levels](CANONICAL_LOGS.md#L184)
- [Categories](CANONICAL_LOGS.md#L197)
- [Key Logging Points](CANONICAL_LOGS.md#L225)
  - [MCP Server (MANDATORY)](CANONICAL_LOGS.md#L227)
  - [Extension (MANDATORY)](CANONICAL_LOGS.md#L239)
  - [Contracts (MANDATORY)](CANONICAL_LOGS.md#L250)
- [Fail-Safe Behavior (MANDATORY)](CANONICAL_LOGS.md#L260)
- [Implementation Files](CANONICAL_LOGS.md#L274)
- [Python Implementation](CANONICAL_LOGS.md#L285)
- [TypeScript Implementation](CANONICAL_LOGS.md#L391)
- [Log Rotation](CANONICAL_LOGS.md#L543)
- [Log Aggregator Tool](CANONICAL_LOGS.md#L581)
- [Performance Considerations](CANONICAL_LOGS.md#L658)
- [Relationship to Existing Systems](CANONICAL_LOGS.md#L667)
- [Configuration](CANONICAL_LOGS.md#L684)
- [Validation Criteria](CANONICAL_LOGS.md#L697)
- [Changelog](CANONICAL_LOGS.md#L711)

### [CHAT_PARTICIPANT.md](CHAT_PARTICIPANT.md) ‚Äî 6.7 KB | Topic: journal

- [Overview](CHAT_PARTICIPANT.md#L9)
  - [Interface Decision](CHAT_PARTICIPANT.md#L13)
- [Architecture](CHAT_PARTICIPANT.md#L24)
  - [File Structure](CHAT_PARTICIPANT.md#L26)
  - [Key Components](CHAT_PARTICIPANT.md#L39)
- [Journal System](CHAT_PARTICIPANT.md#L100)
  - [Purpose](CHAT_PARTICIPANT.md#L102)
  - [Storage Location](CHAT_PARTICIPANT.md#L110)
  - [Event Types](CHAT_PARTICIPANT.md#L120)
  - [Size Handling (Q6 Decision)](CHAT_PARTICIPANT.md#L131)
  - [Journal Writer ([journal.ts](../tools/ck3lens-explorer/src/chat/journal.ts))](CHAT_PARTICIPANT.md#L146)
- [Commands](CHAT_PARTICIPANT.md#L166)
  - [Registered Commands](CHAT_PARTICIPANT.md#L168)
  - [Health Diagnostics](CHAT_PARTICIPANT.md#L178)
- [Configuration](CHAT_PARTICIPANT.md#L188)
  - [Settings](CHAT_PARTICIPANT.md#L190)
  - [package.json Contributions](CHAT_PARTICIPANT.md#L200)
- [Known Limitations](CHAT_PARTICIPANT.md#L216)
  - [Response Truncation](CHAT_PARTICIPANT.md#L218)
  - [maxTokens Setting](CHAT_PARTICIPANT.md#L221)
  - [No Proposed API Features](CHAT_PARTICIPANT.md#L224)
- [Development](CHAT_PARTICIPANT.md#L229)
  - [Build](CHAT_PARTICIPANT.md#L231)
  - [Watch Mode](CHAT_PARTICIPANT.md#L238)
  - [Debug](CHAT_PARTICIPANT.md#L244)
- [Related Documents](CHAT_PARTICIPANT.md#L252)

### [CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md) ‚Äî 61.1 KB | Topic: journal | Type: implementation-plan

- [Decision Lock Summary](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L11)
  - [Scope Lock](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L25)
- [Table of Contents](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L33)
- [1. Package.json Contributions](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L45)
  - [1.1 Chat Participant Registration](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L47)
  - [1.2 New Commands](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L63)
  - [1.3 New Configuration Setting](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L95)
  - [1.4 Command Summary](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L110)
- [2. File/Module Layout](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L122)
  - [2.1 New Directory Structure](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L124)
  - [2.2 Module Responsibilities](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L139)
- [3. Journal Storage Architecture](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L152)
  - [3.1 Directory Structure](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L154)
  - [3.2 Storage Rules](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L164)
  - [3.3 UUID Generation (Q7)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L174)
  - [3.4 Size Limit Handling (Q6)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L189)
  - [3.5 Event Types](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L214)
- [4. Participant Handler Design](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L229)
  - [4.1 Tool Orchestration (Q1)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L231)
  - [4.2 System Prompt (Q5 - FINAL)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L264)
  - [4.3 Tool Set Filtering (Q4)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L278)
- [5. Implementation Phases](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L295)
  - [Phase 5.1: Journal Foundation](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L297)
  - [Phase 5.2: Participant Handler](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L889)
  - [Phase 5.3: Health & Diagnostics](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1220)
  - [Phase 5.4: Commands (Tag/Action)](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1375)
  - [Phase 5.5: Search](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1523)
  - [Phase 5.6: Extension Integration](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1739)
- [6. Non-Negotiable Acceptance Tests](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1770)
  - [Manual Test Procedure](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1785)
- [7. Estimated Effort](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1808)
- [Implementation Order](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1823)
- [Appendix: Key Decisions Summary](CHAT_PARTICIPANT_V1_IMPLEMENTATION_PLAN.md#L1853)

### [CK3_COMPATCHING_TIPS.md](CK3_COMPATCHING_TIPS.md) ‚Äî 5.3 KB | Topic: ck3-modding

- [1. Merge Policies Quick Reference](CK3_COMPATCHING_TIPS.md#L9)
- [2. Overriding Events from Other Mods](CK3_COMPATCHING_TIPS.md#L23)
  - [Key Insight: Events Use OVERRIDE Policy](CK3_COMPATCHING_TIPS.md#L25)
  - [Common Mistake](CK3_COMPATCHING_TIPS.md#L48)
  - [When to Use This Pattern](CK3_COMPATCHING_TIPS.md#L62)
  - [When NOT to Use This Pattern](CK3_COMPATCHING_TIPS.md#L68)
- [3. Extending on_actions Safely](CK3_COMPATCHING_TIPS.md#L75)
  - [The Problem](CK3_COMPATCHING_TIPS.md#L77)
  - [Safe Pattern: Use the on_actions List](CK3_COMPATCHING_TIPS.md#L81)
  - [Why This Works](CK3_COMPATCHING_TIPS.md#L100)
- [4. File Naming Conventions](CK3_COMPATCHING_TIPS.md#L108)
  - [Load Order Within a Mod](CK3_COMPATCHING_TIPS.md#L116)
  - [Load Order Between Mods](CK3_COMPATCHING_TIPS.md#L122)
- [5. Debugging Conflicts](CK3_COMPATCHING_TIPS.md#L128)
  - [Using ck3_conflicts Tool](CK3_COMPATCHING_TIPS.md#L130)
  - [Using ck3_search Tool](CK3_COMPATCHING_TIPS.md#L138)
- [6. Common Compatch Scenarios](CK3_COMPATCHING_TIPS.md#L147)
  - [Scenario: Two Mods Define Same Trait](CK3_COMPATCHING_TIPS.md#L149)
  - [Scenario: Event Chain Broken](CK3_COMPATCHING_TIPS.md#L158)
  - [Scenario: on_action Effects Conflict](CK3_COMPATCHING_TIPS.md#L167)
- [7. Testing Compatch Changes](CK3_COMPATCHING_TIPS.md#L177)
- [Appendix: Merge Policy Details](CK3_COMPATCHING_TIPS.md#L186)

### [CK3LENS_POLICY_ARCHITECTURE.md](CK3LENS_POLICY_ARCHITECTURE.md) ‚Äî 4.8 KB | Topic: policy

- [1. The Policy Boundary](CK3LENS_POLICY_ARCHITECTURE.md#L10)
- [2. Geography & Permissions](CK3LENS_POLICY_ARCHITECTURE.md#L21)
- [3. Enforcement Logic (`enforce_policy`)](CK3LENS_POLICY_ARCHITECTURE.md#L46)
  - [Inputs](CK3LENS_POLICY_ARCHITECTURE.md#L50)
  - [Outputs (Decision)](CK3LENS_POLICY_ARCHITECTURE.md#L57)
  - [Logic Flow (Pseudo-code)](CK3LENS_POLICY_ARCHITECTURE.md#L63)
- [4. Contracts (The Write Gate)](CK3LENS_POLICY_ARCHITECTURE.md#L88)
  - [Required Intent Types](CK3LENS_POLICY_ARCHITECTURE.md#L92)
  - [Contract Validation](CK3LENS_POLICY_ARCHITECTURE.md#L97)
- [5. Token Tiers](CK3LENS_POLICY_ARCHITECTURE.md#L106)
- [6. CK3Lens WIP Workspace](CK3LENS_POLICY_ARCHITECTURE.md#L119)
- [7. Banned Mechanisms](CK3LENS_POLICY_ARCHITECTURE.md#L129)
- [8. Implementation Checklist](CK3LENS_POLICY_ARCHITECTURE.md#L137)

### [ck3raven Chat Participant V1 Brief.md](ck3raven Chat Participant V1 Brief.md) ‚Äî 9.3 KB | Topic: journal

- [**0\. Decision Lock**](ck3raven Chat Participant V1 Brief.md#L7)
- [**2\. Non-Goals (V1)**](ck3raven Chat Participant V1 Brief.md#L26)
  - [**3.1 Chat Entry**](ck3raven Chat Participant V1 Brief.md#L37)
  - [**3.2 Journal Storage**](ck3raven Chat Participant V1 Brief.md#L42)
  - [**3.3 Commands (V1)**](ck3raven Chat Participant V1 Brief.md#L50)
  - [**3.4 Status**](ck3raven Chat Participant V1 Brief.md#L58)
  - [**4.1 Common Fields (All Events)**](ck3raven Chat Participant V1 Brief.md#L73)
  - [**4.2 session\_start**](ck3raven Chat Participant V1 Brief.md#L94)
  - [**4.3 turn**](ck3raven Chat Participant V1 Brief.md#L105)
  - [**4.4 tool\_call**](ck3raven Chat Participant V1 Brief.md#L128)
  - [**4.5 tag**](ck3raven Chat Participant V1 Brief.md#L148)
  - [**4.6 action**](ck3raven Chat Participant V1 Brief.md#L161)
  - [**4.7 health**](ck3raven Chat Participant V1 Brief.md#L177)
  - [**5.1 Extension Contributions**](ck3raven Chat Participant V1 Brief.md#L197)
  - [**5.2 Session Lifecycle**](ck3raven Chat Participant V1 Brief.md#L206)
  - [**5.3 Journal Writer (Core)**](ck3raven Chat Participant V1 Brief.md#L217)
  - [**5.4 Tag/Action Commands**](ck3raven Chat Participant V1 Brief.md#L232)
  - [**5.5 Search (V1)**](ck3raven Chat Participant V1 Brief.md#L242)
  - [**5.6 Known Conflict Warnings**](ck3raven Chat Participant V1 Brief.md#L252)
  - [**5.7 MCP Orchestration Hook**](ck3raven Chat Participant V1 Brief.md#L261)
  - [**7.1 Participant**](ck3raven Chat Participant V1 Brief.md#L293)
  - [**7.2 Journal**](ck3raven Chat Participant V1 Brief.md#L298)
  - [**7.3 Tool Logging**](ck3raven Chat Participant V1 Brief.md#L304)
  - [**7.4 Tagging**](ck3raven Chat Participant V1 Brief.md#L308)
  - [**7.5 Actions**](ck3raven Chat Participant V1 Brief.md#L312)
  - [**7.6 Search**](ck3raven Chat Participant V1 Brief.md#L316)
  - [**7.7 Conflicts Warning**](ck3raven Chat Participant V1 Brief.md#L320)

### [CK3RAVEN_DEV_POLICY_ARCHITECTURE.md](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md) ‚Äî 3.2 KB | Topic: policy

- [1. Purpose & Boundary](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L10)
  - [The Inviolable Rule](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L17)
- [2. Resolution in Dev Mode](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L26)
  - [Addressing Difference](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L35)
- [3. Policy Matrix (`enforce_policy`)](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L42)
- [4. Contracts (Infrastructure)](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L54)
  - [Intent Types](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L58)
  - [Target Resolution](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L65)
- [5. Token System](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L72)
- [6. Execution (`ck3_exec`)](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L83)
- [7. Banned Concepts](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L91)
- [8. Implementation Checklist](CK3RAVEN_DEV_POLICY_ARCHITECTURE.md#L98)

### [CLW_DECISIONS.md](CLW_DECISIONS.md) ‚Äî 4.3 KB | Topic: playset

- [Status: COMPLETE (Phase 1)](CLW_DECISIONS.md#L3)
- [‚úÖ ACCEPTED & IMPLEMENTED](CLW_DECISIONS.md#L9)
  - [1. Policy Rules Configuration](CLW_DECISIONS.md#L11)
  - [2. Path Restrictions for ck3lens Mode](CLW_DECISIONS.md#L16)
  - [3. Playset JSON System](CLW_DECISIONS.md#L21)
  - [4. Agent Instruction Block](CLW_DECISIONS.md#L27)
  - [5. Pre-commit Hooks](CLW_DECISIONS.md#L33)
  - [6. CI Workflow](CLW_DECISIONS.md#L38)
- [üîß ENHANCED (Beyond Original Spec)](CLW_DECISIONS.md#L45)
  - [1. Sub-Agent Templates](CLW_DECISIONS.md#L47)
  - [2. Policy Rules Severity Levels](CLW_DECISIONS.md#L52)
  - [3. Workspace Config Integration](CLW_DECISIONS.md#L58)
- [üìã DOCUMENTED FOR LATER (Phase 2)](CLW_DECISIONS.md#L65)
  - [1. Clone Detection](CLW_DECISIONS.md#L67)
  - [2. Database Schema Versioning](CLW_DECISIONS.md#L77)
  - [3. MCP Tool Telemetry](CLW_DECISIONS.md#L86)
- [üö´ REJECTED](CLW_DECISIONS.md#L97)
  - [None](CLW_DECISIONS.md#L99)
- [Verification Commands](CLW_DECISIONS.md#L105)
- [Next Steps](CLW_DECISIONS.md#L123)

### [Concepts lens - EARLY DRAFT SCRATCHBOOK.md](Concepts lens - EARLY DRAFT SCRATCHBOOK.md) ‚Äî 64.2 KB | Topic: parser

- [Overview](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L5)
- [Directory Structure](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L45)
  - [Architectural Boundaries](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L160)
  - [Separation of Concerns](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L199)
  - [Key Principles](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L209)
- [Core Modules](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L231)
  - [Builder Daemon (`builder/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L233)
- [File Routing](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L263)
  - [Routing Decision Tree](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L270)
  - [Complete Routing Table](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L288)
  - [Why Lookup vs AST?](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L322)
  - [Lookup Tables Schema (Planned)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L335)
  - [Tables to DELETE (Wrong Approach)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L419)
  - [Builder Daemon Updates Required](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L430)
  - [Parser (`src/ck3raven/parser/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L558)
  - [Resolver (`src/ck3raven/resolver/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L581)
  - [Conflict Analyzer (`src/ck3raven/resolver/conflict_analyzer.py`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L609)
  - [Contributions Manager (`src/ck3raven/resolver/manager.py`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L634)
  - [Playset Configuration (`playsets/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L676)
  - [Database (`src/ck3raven/db/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L779)
  - [MCP Server (`tools/ck3lens_mcp/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L815)
- [Data Flow](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L889)
  - [Ingestion](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L891)
  - [Conflict Analysis](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L901)
  - [Resolution](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L910)
- [Agent Integration](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L921)
  - [Tool Sets (VS Code)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L923)
  - [Critical Rules for Agents](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L930)
- [Database Statistics (Typical)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L939)
- [Key Design Decisions](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L952)
- [Future Work](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L963)
  - [Update Detection System (Implemented)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L965)
  - [Change Logging System (Pending)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L974)
  - [Log Parsing Module](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L980)
  - [Emulator (Phase 2)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L987)
  - [Map Mod Conversion Agent (Phase 5)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L992)
- [VS Code Extension (`tools/ck3lens-explorer/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1001)
  - [Architecture](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1005)
  - [Components](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1018)
  - [Playset Management](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1032)
  - [Validation Pipeline](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1045)
  - [Templates (Studio Panel)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1055)
  - [Compatch Helper (Phase 4)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1068)
- [Validation Tool Architecture](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1149)
  - [Overview](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1151)
  - [Components](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1177)
  - [Current State](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1185)
  - [Consolidation Plan](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1202)
  - [Database Files (Canonical Locations)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1245)
  - [Tools to Archive/Remove](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1253)
- [Policy Enforcement & CLI Wrapping Layer (CLW)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1266)
  - [Overview](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1268)
  - [Agent Modes](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1274)
  - [Architecture](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1281)
  - [Validation Rules](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1317)
  - [File Restrictions (ck3lens mode)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1333)
  - [Policy Files](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1349)
  - [Pre-commit Hooks](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1360)
  - [Emergency Bypass](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1374)
- [Debug Infrastructure](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1382)
  - [DebugSession (`builder/debug/`)](Concepts lens - EARLY DRAFT SCRATCHBOOK.md#L1384)

### [CONFLICT_ANALYSIS_ARCHITECTURE.md](CONFLICT_ANALYSIS_ARCHITECTURE.md) ‚Äî 4.9 KB | Topic: architecture

- [Overview](CONFLICT_ANALYSIS_ARCHITECTURE.md#L9)
- [Canonical Input/Output](CONFLICT_ANALYSIS_ARCHITECTURE.md#L18)
- [File-Level Conflicts](CONFLICT_ANALYSIS_ARCHITECTURE.md#L34)
  - [Detection Query](CONFLICT_ANALYSIS_ARCHITECTURE.md#L38)
  - [Prefix Analysis](CONFLICT_ANALYSIS_ARCHITECTURE.md#L52)
  - [Conflict Types](CONFLICT_ANALYSIS_ARCHITECTURE.md#L69)
- [Symbol-Level Conflicts](CONFLICT_ANALYSIS_ARCHITECTURE.md#L79)
  - [Detection Query](CONFLICT_ANALYSIS_ARCHITECTURE.md#L83)
  - [Symbol vs Reference](CONFLICT_ANALYSIS_ARCHITECTURE.md#L97)
- [Implementation Pattern](CONFLICT_ANALYSIS_ARCHITECTURE.md#L108)
- [What This Architecture Does NOT Do](CONFLICT_ANALYSIS_ARCHITECTURE.md#L146)
- [Related Documents](CONFLICT_ANALYSIS_ARCHITECTURE.md#L155)

### [CONTENT_KEYED_SCHEMA.md](CONTENT_KEYED_SCHEMA.md) ‚Äî 4.1 KB | Topic: qbuilder

- [Summary](CONTENT_KEYED_SCHEMA.md#L9)
- [Current Schema](CONTENT_KEYED_SCHEMA.md#L20)
  - [symbols table](CONTENT_KEYED_SCHEMA.md#L22)
  - [refs table](CONTENT_KEYED_SCHEMA.md#L39)
- [Key Invariants](CONTENT_KEYED_SCHEMA.md#L61)
  - [1. Content Identity](CONTENT_KEYED_SCHEMA.md#L63)
  - [2. No File Binding](CONTENT_KEYED_SCHEMA.md#L71)
  - [3. CASCADE Delete](CONTENT_KEYED_SCHEMA.md#L79)
  - [4. Deduplication](CONTENT_KEYED_SCHEMA.md#L83)
- [The Golden Join](CONTENT_KEYED_SCHEMA.md#L92)
- [Playset Filtering](CONTENT_KEYED_SCHEMA.md#L119)
- [Worker Behavior](CONTENT_KEYED_SCHEMA.md#L131)
  - [Symbol Extraction (`qbuilder/worker.py`)](CONTENT_KEYED_SCHEMA.md#L133)
  - [Reference Extraction](CONTENT_KEYED_SCHEMA.md#L140)
  - [Delete Cascade](CONTENT_KEYED_SCHEMA.md#L144)
- [Related Documentation](CONTENT_KEYED_SCHEMA.md#L153)

### [DB-WATCHER-DRAFT .md](DB-WATCHER-DRAFT .md) ‚Äî 12.7 KB | Topic: qbuilder

*(No section headings found)*

### [ipc-diagnostics-server.md](ipc-diagnostics-server.md) ‚Äî 12.0 KB | Topic: mcp

- [Overview](ipc-diagnostics-server.md#L3)
- [Architecture](ipc-diagnostics-server.md#L9)
- [Protocol](ipc-diagnostics-server.md#L44)
  - [Transport](ipc-diagnostics-server.md#L46)
  - [Port Discovery](ipc-diagnostics-server.md#L51)
- [Server API (VS Code Extension)](ipc-diagnostics-server.md#L58)
  - [File: `src/ipc/diagnosticsServer.ts`](ipc-diagnostics-server.md#L60)
- [Client API (MCP Server)](ipc-diagnostics-server.md#L231)
  - [File: `ck3lens/ipc_client.py`](ipc-diagnostics-server.md#L233)
  - [MCP Tool: `ck3_vscode`](ipc-diagnostics-server.md#L277)
- [Configuration](ipc-diagnostics-server.md#L305)
  - [VS Code Settings](ipc-diagnostics-server.md#L307)
  - [Example settings.json](ipc-diagnostics-server.md#L313)
- [Security Considerations](ipc-diagnostics-server.md#L320)
- [Error Handling](ipc-diagnostics-server.md#L327)
  - [Connection Errors](ipc-diagnostics-server.md#L329)
  - [Port Conflicts](ipc-diagnostics-server.md#L341)
- [Troubleshooting](ipc-diagnostics-server.md#L345)
  - [Server Not Starting](ipc-diagnostics-server.md#L347)
  - [Client Cannot Connect](ipc-diagnostics-server.md#L353)
  - [Stale Port File](ipc-diagnostics-server.md#L359)
- [File Locations](ipc-diagnostics-server.md#L363)
- [Comparison with Pylance MCP Tools](ipc-diagnostics-server.md#L373)

### [JOURNAL_EXTRACTOR_SPEC.md](JOURNAL_EXTRACTOR_SPEC.md) ‚Äî 8.7 KB | Topic: journal

- [**üéØ Project Goal**](JOURNAL_EXTRACTOR_SPEC.md#L15)
  - [**Scope**](JOURNAL_EXTRACTOR_SPEC.md#L19)
  - [**A. Workspace Identity & Discovery**](JOURNAL_EXTRACTOR_SPEC.md#L29)
  - [**B. CCE Pluggable Backends**](JOURNAL_EXTRACTOR_SPEC.md#L62)
  - [**C. CCE Deduplication & Fingerprinting**](JOURNAL_EXTRACTOR_SPEC.md#L70)
  - [**1\. Unified MCP Tooling Strategy**](JOURNAL_EXTRACTOR_SPEC.md#L83)
  - [**2\. CCE Canonical Logging Integration**](JOURNAL_EXTRACTOR_SPEC.md#L100)
  - [**3\. CCE Canonical Reply System**](JOURNAL_EXTRACTOR_SPEC.md#L118)
  - [**1\. CK3Raven: CCE Window Start**](JOURNAL_EXTRACTOR_SPEC.md#L140)
  - [**2\. CK3Raven: CCE Window Close**](JOURNAL_EXTRACTOR_SPEC.md#L147)
  - [**1\. manifest.json (CCE Source of Truth)**](JOURNAL_EXTRACTOR_SPEC.md#L159)
  - [**2\. CCE Security & Failure Policy**](JOURNAL_EXTRACTOR_SPEC.md#L187)
  - [**3\. CCE Explorer Integration**](JOURNAL_EXTRACTOR_SPEC.md#L192)

### [JOURNAL_IMPLEMENTATION_PLAN.md](JOURNAL_IMPLEMENTATION_PLAN.md) ‚Äî 14.4 KB | Topic: journal | Type: implementation-plan

- [Executive Summary](JOURNAL_IMPLEMENTATION_PLAN.md#L11)
- [Naming Conventions](JOURNAL_IMPLEMENTATION_PLAN.md#L21)
- [Component Architecture](JOURNAL_IMPLEMENTATION_PLAN.md#L33)
- [Decisions Summary (Q1‚ÄìQ17)](JOURNAL_IMPLEMENTATION_PLAN.md#L76)
- [Mandatory Spec Requirements](JOURNAL_IMPLEMENTATION_PLAN.md#L100)
  - [Log Categories (ext.journal.*)](JOURNAL_IMPLEMENTATION_PLAN.md#L102)
  - [Reply Codes (JRN-*)](JOURNAL_IMPLEMENTATION_PLAN.md#L112)
  - [Discovery Order (v3.1 Exact)](JOURNAL_IMPLEMENTATION_PLAN.md#L131)
  - [Manifest Schema (v2.0)](JOURNAL_IMPLEMENTATION_PLAN.md#L143)
  - [Fingerprint Algorithm](JOURNAL_IMPLEMENTATION_PLAN.md#L176)
- [Implementation Phases](JOURNAL_IMPLEMENTATION_PLAN.md#L188)
  - [Phase 1: Core Infrastructure (Extension)](JOURNAL_IMPLEMENTATION_PLAN.md#L190)
  - [Phase 2: Window Lifecycle](JOURNAL_IMPLEMENTATION_PLAN.md#L207)
  - [Phase 3: Extraction & Storage](JOURNAL_IMPLEMENTATION_PLAN.md#L235)
  - [Phase 4: MCP Tool](JOURNAL_IMPLEMENTATION_PLAN.md#L254)
  - [Phase 5: Explorer Integration](JOURNAL_IMPLEMENTATION_PLAN.md#L276)
- [Pre-Implementation Checklist](JOURNAL_IMPLEMENTATION_PLAN.md#L289)
- [Estimated Effort](JOURNAL_IMPLEMENTATION_PLAN.md#L301)
- [Changelog](JOURNAL_IMPLEMENTATION_PLAN.md#L315)

### [LENSWORLD.md](LENSWORLD.md) ‚Äî 5.3 KB | Topic: mcp

- [1. What LensWorld Is](LENSWORLD.md#L10)
- [2. What LensWorld Is Not (CRITICAL)](LENSWORLD.md#L22)
- [3. The Single Adapter Architecture](LENSWORLD.md#L34)
  - [Mode-Aware Resolution](LENSWORLD.md#L44)
- [4. Resolution Flow](LENSWORLD.md#L55)
  - [4.1 Input](LENSWORLD.md#L57)
  - [4.2 The Process](LENSWORLD.md#L61)
  - [4.3 Output (`ResolutionResult`)](LENSWORLD.md#L67)
- [5. Canonical Geography (Root Categories)](LENSWORLD.md#L87)
  - [Raw Path Handling](LENSWORLD.md#L102)
- [6. Usage in MCP Tools (The Canonical Pattern)](LENSWORLD.md#L108)
- [7. Anti-Patterns (BANNED)](LENSWORLD.md#L148)
- [8. Implementation Files](LENSWORLD.md#L160)

### [LOGGING_IMPLEMENTATION_PLAN.md](LOGGING_IMPLEMENTATION_PLAN.md) ‚Äî 25.5 KB | Topic: qbuilder | Type: implementation-plan

- [Executive Summary](LOGGING_IMPLEMENTATION_PLAN.md#L10)
- [Current State Analysis](LOGGING_IMPLEMENTATION_PLAN.md#L19)
  - [MCP Server (`tools/ck3lens_mcp/`)](LOGGING_IMPLEMENTATION_PLAN.md#L21)
  - [VS Code Extension (`tools/ck3lens-explorer/`)](LOGGING_IMPLEMENTATION_PLAN.md#L35)
  - [QBuilder Daemon (`qbuilder/`)](LOGGING_IMPLEMENTATION_PLAN.md#L48)
- [Phase 1: Python Logging Infrastructure](LOGGING_IMPLEMENTATION_PLAN.md#L59)
  - [Step 1.1: Create Logging Module](LOGGING_IMPLEMENTATION_PLAN.md#L63)
  - [Step 1.2: Create Log Rotation Utility](LOGGING_IMPLEMENTATION_PLAN.md#L215)
  - [Step 1.3: Add Logging to Server Initialization](LOGGING_IMPLEMENTATION_PLAN.md#L278)
  - [Step 1.4: Add Logging to Key MCP Events](LOGGING_IMPLEMENTATION_PLAN.md#L302)
- [Phase 2: TypeScript Logging Infrastructure](LOGGING_IMPLEMENTATION_PLAN.md#L335)
  - [Step 2.1: Create Structured Logger](LOGGING_IMPLEMENTATION_PLAN.md#L339)
  - [Step 2.2: Integrate Logger into Extension](LOGGING_IMPLEMENTATION_PLAN.md#L535)
  - [Step 2.3: Add MCP Provider Logging](LOGGING_IMPLEMENTATION_PLAN.md#L574)
- [Phase 3: Log Aggregator Tool](LOGGING_IMPLEMENTATION_PLAN.md#L589)
  - [Step 3.1: Create Aggregator Tool](LOGGING_IMPLEMENTATION_PLAN.md#L593)
- [Phase 4: Instrumentation & Polish](LOGGING_IMPLEMENTATION_PLAN.md#L692)
  - [Step 4.1: Contract Lifecycle Logging](LOGGING_IMPLEMENTATION_PLAN.md#L696)
  - [Step 4.2: Policy Enforcement Logging](LOGGING_IMPLEMENTATION_PLAN.md#L718)
  - [Step 4.3: Session/Mode Logging](LOGGING_IMPLEMENTATION_PLAN.md#L736)
  - [Step 4.4: QBuilder Timestamp Standardization](LOGGING_IMPLEMENTATION_PLAN.md#L751)
- [Verification Checklist](LOGGING_IMPLEMENTATION_PLAN.md#L772)
  - [Phase 1 Verification](LOGGING_IMPLEMENTATION_PLAN.md#L774)
  - [Phase 2 Verification](LOGGING_IMPLEMENTATION_PLAN.md#L784)
  - [Phase 3 Verification](LOGGING_IMPLEMENTATION_PLAN.md#L793)
  - [Phase 4 Verification](LOGGING_IMPLEMENTATION_PLAN.md#L801)
- [Files Changed Summary](LOGGING_IMPLEMENTATION_PLAN.md#L811)
  - [New Files](LOGGING_IMPLEMENTATION_PLAN.md#L813)
  - [Modified Files](LOGGING_IMPLEMENTATION_PLAN.md#L821)
- [Risk Assessment](LOGGING_IMPLEMENTATION_PLAN.md#L834)
- [Success Criteria](LOGGING_IMPLEMENTATION_PLAN.md#L845)
- [Next Steps](LOGGING_IMPLEMENTATION_PLAN.md#L855)

### [MCP_ARCHITECTURE.md](MCP_ARCHITECTURE.md) ‚Äî 22.0 KB | Topic: logging

- [Changelog](MCP_ARCHITECTURE.md#L9)
- [Critical Architecture Decision](MCP_ARCHITECTURE.md#L19)
- [Why Per-Instance Matters](MCP_ARCHITECTURE.md#L27)
  - [The Problem (Pre-December 2025)](MCP_ARCHITECTURE.md#L29)
  - [The Solution: Per-Instance IDs](MCP_ARCHITECTURE.md#L37)
- [Lifecycle & Zombie Prevention (CANONICAL)](MCP_ARCHITECTURE.md#L47)
  - [Canonical Requirements](MCP_ARCHITECTURE.md#L56)
  - [Validation Criteria](MCP_ARCHITECTURE.md#L156)
  - [Implementation Files](MCP_ARCHITECTURE.md#L168)
- [Mode Behavior (Separate from Zombie Prevention)](MCP_ARCHITECTURE.md#L179)
  - [Mode File Blanking on Activation](MCP_ARCHITECTURE.md#L183)
  - [Stale Mode File Cleanup](MCP_ARCHITECTURE.md#L200)
  - [Mode Is NOT a Reason for Stable Instance ID](MCP_ARCHITECTURE.md#L212)
- [Architecture Components](MCP_ARCHITECTURE.md#L220)
  - [1. Extension: mcpServerProvider.ts](MCP_ARCHITECTURE.md#L222)
  - [2. Extension: package.json Contribution](MCP_ARCHITECTURE.md#L238)
  - [3. MCP Server: agent_mode.py](MCP_ARCHITECTURE.md#L258)
  - [4. Extension: agentView.ts](MCP_ARCHITECTURE.md#L271)
- [Data Flow](MCP_ARCHITECTURE.md#L287)
- [BANNED: Static mcp.json](MCP_ARCHITECTURE.md#L317)
  - [How to Check](MCP_ARCHITECTURE.md#L342)
- [Troubleshooting](MCP_ARCHITECTURE.md#L353)
  - [Symptom: Mode changes in one window affect another](MCP_ARCHITECTURE.md#L355)
  - [Symptom: MCP server not starting](MCP_ARCHITECTURE.md#L373)
  - [Symptom: Zombie processes after reload](MCP_ARCHITECTURE.md#L386)
- [File Locations Summary](MCP_ARCHITECTURE.md#L397)
- [For Agents: DO NOT](MCP_ARCHITECTURE.md#L410)
- [For Agents: DO](MCP_ARCHITECTURE.md#L418)
- [Database Access: Read-Only MCP, Single-Writer Daemon](MCP_ARCHITECTURE.md#L428)
  - [Architecture](MCP_ARCHITECTURE.md#L432)
  - [Why Read-Only?](MCP_ARCHITECTURE.md#L453)
  - [MCP Tool Pattern](MCP_ARCHITECTURE.md#L462)
  - [File Locations](MCP_ARCHITECTURE.md#L477)
- [Related Documents](MCP_ARCHITECTURE.md#L489)
- [Diagnostic Logging (CANONICAL)](MCP_ARCHITECTURE.md#L499)
  - [Canonical Requirements](MCP_ARCHITECTURE.md#L509)
  - [Relationship: trace.log vs Debug Logs](MCP_ARCHITECTURE.md#L568)
  - [What Must Be Logged](MCP_ARCHITECTURE.md#L579)
  - [Validation Criteria](MCP_ARCHITECTURE.md#L602)
  - [Implementation Files](MCP_ARCHITECTURE.md#L612)

### [MCP_LOGS_JOURNAL_REFERENCE.md](MCP_LOGS_JOURNAL_REFERENCE.md) ‚Äî 10.6 KB | Topic: journal

- [Table of Contents](MCP_LOGS_JOURNAL_REFERENCE.md#L8)
- [ck3_logs - CK3 Game Log Analysis](MCP_LOGS_JOURNAL_REFERENCE.md#L16)
  - [Signature](MCP_LOGS_JOURNAL_REFERENCE.md#L20)
  - [Command Matrix](MCP_LOGS_JOURNAL_REFERENCE.md#L48)
  - [Memory Safety](MCP_LOGS_JOURNAL_REFERENCE.md#L66)
  - [Examples](MCP_LOGS_JOURNAL_REFERENCE.md#L86)
  - [Log File Locations](MCP_LOGS_JOURNAL_REFERENCE.md#L120)
  - [Priority Levels (error.log)](MCP_LOGS_JOURNAL_REFERENCE.md#L133)
  - [Known Limitations](MCP_LOGS_JOURNAL_REFERENCE.md#L143)
- [ck3_journal - Copilot Chat Session Archives](MCP_LOGS_JOURNAL_REFERENCE.md#L151)
  - [Signature](MCP_LOGS_JOURNAL_REFERENCE.md#L155)
  - [Commands](MCP_LOGS_JOURNAL_REFERENCE.md#L173)
  - [Hierarchy](MCP_LOGS_JOURNAL_REFERENCE.md#L182)
  - [Examples](MCP_LOGS_JOURNAL_REFERENCE.md#L195)
  - [Tag Syntax](MCP_LOGS_JOURNAL_REFERENCE.md#L221)
  - [Windows vs Sessions](MCP_LOGS_JOURNAL_REFERENCE.md#L232)
  - [Workspace Identity](MCP_LOGS_JOURNAL_REFERENCE.md#L239)
- [debug_get_logs - Infrastructure Debugging](MCP_LOGS_JOURNAL_REFERENCE.md#L245)
  - [Signature](MCP_LOGS_JOURNAL_REFERENCE.md#L251)
  - [Log Sources](MCP_LOGS_JOURNAL_REFERENCE.md#L263)
  - [Examples](MCP_LOGS_JOURNAL_REFERENCE.md#L271)
  - [Log Format (JSONL)](MCP_LOGS_JOURNAL_REFERENCE.md#L290)
  - [Categories](MCP_LOGS_JOURNAL_REFERENCE.md#L296)
- [Related Documentation](MCP_LOGS_JOURNAL_REFERENCE.md#L312)

### [Migration Protocol for Content-Identity Symbols & References.md](Migration Protocol for Content-Identity Symbols & References.md) ‚Äî 4.1 KB

- [Migration Summary](Migration Protocol for Content-Identity Symbols & References.md#L9)
- [0. Objective](Migration Protocol for Content-Identity Symbols & References.md#L23)
- [1. Preconditions](Migration Protocol for Content-Identity Symbols & References.md#L34)
  - [1.1 AST Identity Verification](Migration Protocol for Content-Identity Symbols & References.md#L36)
  - [1.2 Inventory (Mandatory)](Migration Protocol for Content-Identity Symbols & References.md#L46)
- [2. Flag-Day Rules](Migration Protocol for Content-Identity Symbols & References.md#L58)
- [3. Canonical Schema](Migration Protocol for Content-Identity Symbols & References.md#L69)
  - [3.1 Drop Legacy Tables](Migration Protocol for Content-Identity Symbols & References.md#L71)
  - [3.2 Create Canonical Tables](Migration Protocol for Content-Identity Symbols & References.md#L80)
  - [3.3 Required Indices](Migration Protocol for Content-Identity Symbols & References.md#L129)
- [4. Code Refactor Requirements](Migration Protocol for Content-Identity Symbols & References.md#L138)
  - [4.1 Extractors](Migration Protocol for Content-Identity Symbols & References.md#L140)
  - [4.2 Queries (Golden Join Only)](Migration Protocol for Content-Identity Symbols & References.md#L156)
- [5. Execution Steps](Migration Protocol for Content-Identity Symbols & References.md#L171)
- [6. Verification Checklist](Migration Protocol for Content-Identity Symbols & References.md#L185)
- [7. Deliverables](Migration Protocol for Content-Identity Symbols & References.md#L196)
- [8. Final Warning](Migration Protocol for Content-Identity Symbols & References.md#L206)

### [NEXT_SESSION_REFACTOR_PLAN.md](NEXT_SESSION_REFACTOR_PLAN.md) ‚Äî 5.3 KB | Topic: playset

- [CURRENT STATE ASSESSMENT](NEXT_SESSION_REFACTOR_PLAN.md#L9)
  - [Playset JSON: MOSTLY CORRECT ‚úÖ](NEXT_SESSION_REFACTOR_PLAN.md#L11)
  - [Code: PRE-REFACTOR STATE ‚ùå](NEXT_SESSION_REFACTOR_PLAN.md#L16)
- [QUESTIONS BEFORE PROCEEDING](NEXT_SESSION_REFACTOR_PLAN.md#L30)
  - [Q1: `mod_root` vs `local_mods_folder` disambiguation](NEXT_SESSION_REFACTOR_PLAN.md#L32)
  - [Q2: `mod_roots` (plural) vs `mod_paths`](NEXT_SESSION_REFACTOR_PLAN.md#L45)
  - [Q3: `local_mod_roots` handling](NEXT_SESSION_REFACTOR_PLAN.md#L55)
  - [Q4: Playset JSON `live_mods` key](NEXT_SESSION_REFACTOR_PLAN.md#L65)
- [IMPLEMENTATION PLAN](NEXT_SESSION_REFACTOR_PLAN.md#L73)
  - [Phase 1: Update PLAYSET_ARCHITECTURE.md](NEXT_SESSION_REFACTOR_PLAN.md#L75)
  - [Phase 2: Terminology Replacement (File by File)](NEXT_SESSION_REFACTOR_PLAN.md#L81)
  - [Phase 3: Remove Banned Keys from JSON](NEXT_SESSION_REFACTOR_PLAN.md#L136)
  - [Phase 4: Verification](NEXT_SESSION_REFACTOR_PLAN.md#L139)
- [STOP CONDITION](NEXT_SESSION_REFACTOR_PLAN.md#L149)
- [FILES TO MODIFY (Ordered by Dependency)](NEXT_SESSION_REFACTOR_PLAN.md#L160)
- [ESTIMATED CHANGES](NEXT_SESSION_REFACTOR_PLAN.md#L179)

### [NO_DUPLICATE_IMPLEMENTATIONS.md](NO_DUPLICATE_IMPLEMENTATIONS.md) ‚Äî 4.3 KB | Topic: parser

- [Agent Instruction Block](NO_DUPLICATE_IMPLEMENTATIONS.md#L3)
  - [Instruction: No Duplicate Implementations. Prefer Libraries.](NO_DUPLICATE_IMPLEMENTATIONS.md#L9)
- [Canonical Module Locations](NO_DUPLICATE_IMPLEMENTATIONS.md#L45)
- [Anti-Patterns to Avoid](NO_DUPLICATE_IMPLEMENTATIONS.md#L61)
  - [‚ùå Bad: Scattered Helper Functions](NO_DUPLICATE_IMPLEMENTATIONS.md#L63)
  - [‚úÖ Good: Single Canonical Location](NO_DUPLICATE_IMPLEMENTATIONS.md#L70)
  - [‚úÖ Good: Fix Core Code](NO_DUPLICATE_IMPLEMENTATIONS.md#L89)
- [Enforcement](NO_DUPLICATE_IMPLEMENTATIONS.md#L95)
- [Clone Detection (Phase 2)](NO_DUPLICATE_IMPLEMENTATIONS.md#L110)

### [PATHS_DESIGN_GUIDELINES.md](PATHS_DESIGN_GUIDELINES.md) ‚Äî 27.5 KB | Topic: paths | Type: design

- [Core Principle](PATHS_DESIGN_GUIDELINES.md#L10)
- [Path Categories](PATHS_DESIGN_GUIDELINES.md#L25)
  - [1. Canonical Domain Roots (Capability Matrix)](PATHS_DESIGN_GUIDELINES.md#L29)
  - [2. Infrastructure Paths (Derived)](PATHS_DESIGN_GUIDELINES.md#L32)
  - [3. User-Configurable Paths](PATHS_DESIGN_GUIDELINES.md#L35)
- [Complete Path Inventory](PATHS_DESIGN_GUIDELINES.md#L40)
  - [Canonical Domain Roots (Capability Matrix)](PATHS_DESIGN_GUIDELINES.md#L42)
  - [Infrastructure Paths (Derived from Roots)](PATHS_DESIGN_GUIDELINES.md#L60)
  - [User-Configurable Paths](PATHS_DESIGN_GUIDELINES.md#L80)
- [Banned Terms](PATHS_DESIGN_GUIDELINES.md#L93)
- [Design Rules](PATHS_DESIGN_GUIDELINES.md#L121)
  - [Rule 1: No Path Parameters](PATHS_DESIGN_GUIDELINES.md#L123)
  - [Rule 2: No Path Detection Methods](PATHS_DESIGN_GUIDELINES.md#L140)
  - [Rule 3: No Path Caching](PATHS_DESIGN_GUIDELINES.md#L158)
  - [Rule 4: Single Config Source](PATHS_DESIGN_GUIDELINES.md#L171)
  - [Rule 5: TypeScript Delegates to Python](PATHS_DESIGN_GUIDELINES.md#L184)
- [Configuration](PATHS_DESIGN_GUIDELINES.md#L204)
  - [File: `~/.ck3raven/roots.json`](PATHS_DESIGN_GUIDELINES.md#L206)
  - [Auto-Detection Order](PATHS_DESIGN_GUIDELINES.md#L234)
- [Implementation](PATHS_DESIGN_GUIDELINES.md#L244)
  - [New Module: `ck3lens/paths.py`](PATHS_DESIGN_GUIDELINES.md#L246)
- [TypeScript Integration](PATHS_DESIGN_GUIDELINES.md#L481)
  - [Bridge Method](PATHS_DESIGN_GUIDELINES.md#L485)
  - [TypeScript Usage](PATHS_DESIGN_GUIDELINES.md#L497)
  - [Bootstrap Problem](PATHS_DESIGN_GUIDELINES.md#L519)
- [Migration Plan](PATHS_DESIGN_GUIDELINES.md#L558)
  - [Phase 1: Create ck3lens/paths.py](PATHS_DESIGN_GUIDELINES.md#L560)
  - [Phase 2: Migrate capability_matrix.py](PATHS_DESIGN_GUIDELINES.md#L566)
  - [Phase 3: Migrate WorldRouter](PATHS_DESIGN_GUIDELINES.md#L573)
  - [Phase 4: Migrate WorldAdapter](PATHS_DESIGN_GUIDELINES.md#L580)
  - [Phase 5: Migrate workspace.py](PATHS_DESIGN_GUIDELINES.md#L586)
  - [Phase 6: Migrate server.py](PATHS_DESIGN_GUIDELINES.md#L594)
  - [Phase 7: Migrate bridge/server.py](PATHS_DESIGN_GUIDELINES.md#L600)
  - [Phase 8: Migrate pythonBridge.ts](PATHS_DESIGN_GUIDELINES.md#L606)
  - [Phase 9: Cleanup](PATHS_DESIGN_GUIDELINES.md#L613)
- [Files to Modify](PATHS_DESIGN_GUIDELINES.md#L622)
- [MCP Tool: ck3_paths](PATHS_DESIGN_GUIDELINES.md#L639)
- [arch_lint Updates (REQUIRED)](PATHS_DESIGN_GUIDELINES.md#L668)
  - [New Rule: PATH-01 (Parallel Path Aliases)](PATHS_DESIGN_GUIDELINES.md#L672)
  - [New Rule: PATH-02 (Hardcoded Default Constants)](PATHS_DESIGN_GUIDELINES.md#L698)
  - [New Rule: PATH-03 (Path Detection Methods)](PATHS_DESIGN_GUIDELINES.md#L715)
  - [New Rule: PATH-04 (Hardcoded Steam Paths)](PATHS_DESIGN_GUIDELINES.md#L734)
  - [Allowlist](PATHS_DESIGN_GUIDELINES.md#L750)
- [Verification](PATHS_DESIGN_GUIDELINES.md#L764)
- [Appendix: Hardcoded Paths Audit (February 1, 2026)](PATHS_DESIGN_GUIDELINES.md#L785)
  - [Python Files - VIOLATIONS](PATHS_DESIGN_GUIDELINES.md#L789)
  - [TypeScript Files - OK (Bootstrap Exception)](PATHS_DESIGN_GUIDELINES.md#L799)
  - [Temporary Scripts - DELETE](PATHS_DESIGN_GUIDELINES.md#L805)
  - [Migration Status](PATHS_DESIGN_GUIDELINES.md#L815)

### [PHASE_1_5_AGENT_INSTRUCTION.md](PHASE_1_5_AGENT_INSTRUCTION.md) ‚Äî 7.7 KB

- [Core Principle](PHASE_1_5_AGENT_INSTRUCTION.md#L7)
- [Phase 1.5 Purpose](PHASE_1_5_AGENT_INSTRUCTION.md#L17)
- [Canonical Flow](PHASE_1_5_AGENT_INSTRUCTION.md#L27)
- [Exception Tokens](PHASE_1_5_AGENT_INSTRUCTION.md#L43)
- [Token Issuance Model](PHASE_1_5_AGENT_INSTRUCTION.md#L57)
- [Linter Lock System](PHASE_1_5_AGENT_INSTRUCTION.md#L73)
- [Lock Requirements](PHASE_1_5_AGENT_INSTRUCTION.md#L85)
- [Linter Verification](PHASE_1_5_AGENT_INSTRUCTION.md#L104)
- [Linter Ruleset Updates](PHASE_1_5_AGENT_INSTRUCTION.md#L119)
- [Lock Version Policy](PHASE_1_5_AGENT_INSTRUCTION.md#L139)
- [Symbols Locker System](PHASE_1_5_AGENT_INSTRUCTION.md#L147)
- [Symbol Extraction](PHASE_1_5_AGENT_INSTRUCTION.md#L158)
- [Symbol Locker Output](PHASE_1_5_AGENT_INSTRUCTION.md#L172)
- [Audit Tool Responsibilities](PHASE_1_5_AGENT_INSTRUCTION.md#L182)
- [Implementation Order](PHASE_1_5_AGENT_INSTRUCTION.md#L196)
- [‚ö†Ô∏è Phase Boundary Rules (CRITICAL)](PHASE_1_5_AGENT_INSTRUCTION.md#L205)
  - [BUILD NOW (Phase 1.5) ‚Äî Evidence Construction](PHASE_1_5_AGENT_INSTRUCTION.md#L207)
  - [DO NOT BUILD YET (Phase 2) ‚Äî Deterministic Gates](PHASE_1_5_AGENT_INSTRUCTION.md#L229)
  - [Why This Separation?](PHASE_1_5_AGENT_INSTRUCTION.md#L246)
- [Hard Law](PHASE_1_5_AGENT_INSTRUCTION.md#L267)
- [Session Notes](PHASE_1_5_AGENT_INSTRUCTION.md#L275)
  - [January 26, 2026 Session](PHASE_1_5_AGENT_INSTRUCTION.md#L277)

### [PHASE_2_IMPLEMENTATION_PLAN.md](PHASE_2_IMPLEMENTATION_PLAN.md) ‚Äî 8.4 KB | Topic: policy | Type: implementation-plan

- [Executive Summary](PHASE_2_IMPLEMENTATION_PLAN.md#L10)
- [Phase 1.5 Completion Status](PHASE_2_IMPLEMENTATION_PLAN.md#L16)
  - [Completed Items (January 2026)](PHASE_2_IMPLEMENTATION_PLAN.md#L18)
  - [Phase 1.5 Bug Fixes (January 26, 2026)](PHASE_2_IMPLEMENTATION_PLAN.md#L33)
- [Phase 2 Goals](PHASE_2_IMPLEMENTATION_PLAN.md#L44)
  - [Primary Objective](PHASE_2_IMPLEMENTATION_PLAN.md#L46)
  - [Gate Outcomes](PHASE_2_IMPLEMENTATION_PLAN.md#L53)
- [Phase 2 Components](PHASE_2_IMPLEMENTATION_PLAN.md#L63)
  - [2.1 Contract Open Gates](PHASE_2_IMPLEMENTATION_PLAN.md#L65)
  - [2.2 Contract Close Gates](PHASE_2_IMPLEMENTATION_PLAN.md#L109)
  - [2.3 Pre-Commit Hook Integration](PHASE_2_IMPLEMENTATION_PLAN.md#L135)
  - [2.4 Branch-Based Workflow](PHASE_2_IMPLEMENTATION_PLAN.md#L159)
- [Implementation Order](PHASE_2_IMPLEMENTATION_PLAN.md#L180)
  - [Sprint 1: Close Gates (Week 1)](PHASE_2_IMPLEMENTATION_PLAN.md#L182)
  - [Sprint 2: Open Gates (Week 2)](PHASE_2_IMPLEMENTATION_PLAN.md#L189)
  - [Sprint 3: Pre-Commit Integration (Week 3)](PHASE_2_IMPLEMENTATION_PLAN.md#L196)
  - [Sprint 4: Branch Workflow (Week 4)](PHASE_2_IMPLEMENTATION_PLAN.md#L203)
- [Migration from Phase 1.5](PHASE_2_IMPLEMENTATION_PLAN.md#L212)
  - [No Breaking Changes](PHASE_2_IMPLEMENTATION_PLAN.md#L214)
  - [Gradual Enforcement](PHASE_2_IMPLEMENTATION_PLAN.md#L218)
- [Risks and Mitigations](PHASE_2_IMPLEMENTATION_PLAN.md#L228)
- [Success Criteria](PHASE_2_IMPLEMENTATION_PLAN.md#L239)
- [Appendix: Capability Matrix Reference](PHASE_2_IMPLEMENTATION_PLAN.md#L252)
  - [ck3lens Mode](PHASE_2_IMPLEMENTATION_PLAN.md#L256)
  - [ck3raven-dev Mode](PHASE_2_IMPLEMENTATION_PLAN.md#L267)

### [PLAYSET_ARCHITECTURE.md](PLAYSET_ARCHITECTURE.md) ‚Äî 11.9 KB | Topic: policy

- [Core Architectural Invariant (LOCKED)](PLAYSET_ARCHITECTURE.md#L11)
- [NO-ORACLE RULE (ENFORCED)](PLAYSET_ARCHITECTURE.md#L29)
  - [Banned Ideas (Regardless of Naming)](PLAYSET_ARCHITECTURE.md#L33)
  - [Banned Naming Patterns](PLAYSET_ARCHITECTURE.md#L39)
  - [Exception: UI Hints](PLAYSET_ARCHITECTURE.md#L46)
- [CANONICAL SOURCES (SINGLE POINTS OF TRUTH)](PLAYSET_ARCHITECTURE.md#L55)
  - [For Policy/Permission Decisions: `enforcement.py`](PLAYSET_ARCHITECTURE.md#L57)
  - [For Path Visibility/Resolution: `WorldAdapter`](PLAYSET_ARCHITECTURE.md#L83)
  - [Enforcement vs Visibility](PLAYSET_ARCHITECTURE.md#L100)
- [Core Principle: ONE ARRAY](PLAYSET_ARCHITECTURE.md#L111)
- [Simple Rules](PLAYSET_ARCHITECTURE.md#L119)
  - [Visibility](PLAYSET_ARCHITECTURE.md#L121)
  - [Editability](PLAYSET_ARCHITECTURE.md#L126)
  - [What is a Local Mod?](PLAYSET_ARCHITECTURE.md#L131)
- [Data Model](PLAYSET_ARCHITECTURE.md#L147)
  - [Session (DATA-ONLY)](PLAYSET_ARCHITECTURE.md#L149)
  - [PlaysetScope (VISIBILITY ONLY)](PLAYSET_ARCHITECTURE.md#L166)
  - [ResolutionResult (VISIBILITY + UI HINTS)](PLAYSET_ARCHITECTURE.md#L190)
- [Enforcement Flow](PLAYSET_ARCHITECTURE.md#L209)
- [Playset JSON Format](PLAYSET_ARCHITECTURE.md#L256)
- [Derived Values (Computed at Runtime)](PLAYSET_ARCHITECTURE.md#L289)
- [Anti-Patterns (BANNED)](PLAYSET_ARCHITECTURE.md#L301)
- [Summary](PLAYSET_ARCHITECTURE.md#L312)

### [POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md) ‚Äî 12.1 KB | Topic: policy | Type: implementation-plan

- [1. Problem Statement](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L9)
  - [Current State Audit](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L16)
- [2. Target Architecture](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L33)
  - [2.1 Centralized Gate Function](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L35)
  - [2.2 Mode-Specific Rules](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L98)
  - [2.3 Integration Pattern](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L136)
- [3. Implementation Phases](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L175)
  - [Phase 1: Core Enforcement Module](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L177)
  - [Phase 2: Integrate with ck3_file](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L191)
  - [Phase 3: Integrate with ck3_exec](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L203)
  - [Phase 4: Integrate with ck3_git](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L214)
  - [Phase 5: Integrate with Database Tools](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L228)
  - [Phase 6: Integrate with Specialized Tools](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L239)
  - [Phase 7: Testing and Validation](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L249)
- [4. Contract Schema Updates](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L264)
  - [Current Contract Fields](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L266)
  - [Required Additions](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L282)
- [5. Hard Gates (Immutable Rules)](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L296)
- [6. Trace Logging Requirements](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L311)
- [7. Migration Strategy](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L330)
  - [Step 1: Create Module (Non-Breaking)](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L332)
  - [Step 2: Integrate One Tool at a Time](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L337)
  - [Step 3: Deprecate Inline Checks](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L342)
  - [Step 4: Full Rollout](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L346)
- [8. Success Criteria](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L353)
- [9. Estimated Effort](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L364)
- [10. Open Questions](POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md#L379)

### [Proposed Fix for MCP DB Lock Bug.md](Proposed Fix for MCP DB Lock Bug.md) ‚Äî 13.0 KB | Topic: mcp

- [‚úÖ Resolution](Proposed Fix for MCP DB Lock Bug.md#L10)
  - [Implementation Files](Proposed Fix for MCP DB Lock Bug.md#L20)
- [Original Problem Statement (Historical)](Proposed Fix for MCP DB Lock Bug.md#L32)
- [Root Cause Analysis](Proposed Fix for MCP DB Lock Bug.md#L45)
  - [Current Connection Handling](Proposed Fix for MCP DB Lock Bug.md#L47)
  - [The Problem](Proposed Fix for MCP DB Lock Bug.md#L79)
  - [Daemon Connection (for comparison)](Proposed Fix for MCP DB Lock Bug.md#L86)
- [Proposed Solutions](Proposed Fix for MCP DB Lock Bug.md#L102)
  - [Solution 1: Add Timeouts to MCP Connection (Quick Fix)](Proposed Fix for MCP DB Lock Bug.md#L104)
  - [Solution 2: Separate Read/Write Connections (Better)](Proposed Fix for MCP DB Lock Bug.md#L136)
  - [Solution 3: Lock Detection with Graceful Fallback (Best)](Proposed Fix for MCP DB Lock Bug.md#L206)
  - [Solution 4: Async Connection with Cancellation (Advanced)](Proposed Fix for MCP DB Lock Bug.md#L299)
- [Recommended Implementation](Proposed Fix for MCP DB Lock Bug.md#L323)
  - [Phase 1: Quick Fix (Immediate)](Proposed Fix for MCP DB Lock Bug.md#L325)
  - [Phase 2: Better Errors (Short Term)](Proposed Fix for MCP DB Lock Bug.md#L336)
  - [Phase 3: Connection Pool (Medium Term)](Proposed Fix for MCP DB Lock Bug.md#L344)
  - [Phase 4: Consider Async (Long Term)](Proposed Fix for MCP DB Lock Bug.md#L353)
- [Testing Plan](Proposed Fix for MCP DB Lock Bug.md#L359)
  - [Test 1: Lock Detection](Proposed Fix for MCP DB Lock Bug.md#L361)
  - [Test 2: Timeout Recovery](Proposed Fix for MCP DB Lock Bug.md#L370)
  - [Test 3: WAL Read During Write](Proposed Fix for MCP DB Lock Bug.md#L379)
- [Files to Modify](Proposed Fix for MCP DB Lock Bug.md#L387)
- [Related Documents](Proposed Fix for MCP DB Lock Bug.md#L397)

### [QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md) ‚Äî 5.0 KB | Topic: qbuilder | Type: canonical

- [0. Prime Directive](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L13)
- [1. Canonical Role Separation](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L34)
- [2. Queue Singularity Law](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L64)
- [3. Content-Centric Model](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L78)
- [4. Non-Negotiable Data Identity Laws](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L90)
  - [Law 1 ‚Äî File Identity Is Fingerprint-Based](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L94)
  - [Law 2 ‚Äî Content Identity Is Hash-Based](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L103)
  - [Law 3 ‚Äî AST Identity Is Content + Parser Version](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L112)
  - [Law 4 ‚Äî Symbols and References Bind to Content, Not Files](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L123)
  - [Law 4b ‚Äî No Stored File Associations](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L139)
  - [Law 5 ‚Äî AST Deduplication Is Mandatory](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L147)
  - [Law 6 ‚Äî Envelopes Are Immutable](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L156)
  - [Law 7 ‚Äî MCP Is Enqueue-Only](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L165)
  - [Law 8 ‚Äî Timeouts Are Mandatory](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L174)
  - [Law 9 ‚Äî Legacy Code Is Guilty Until Proven Innocent](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L183)
- [5. The Golden Join (Required)](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L195)
- [6. Hard Bans](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L208)
- [7. Flag-Day Rule](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L219)
- [8. Success Criteria](QBuilder Canonical Architecture & Non-Negotiable Data Identity Laws.md#L230)

### [QBuilder Improvement Directive.md](QBuilder Improvement Directive.md) ‚Äî 7.0 KB | Topic: qbuilder
> **Note:** Also in bugs/

  - [**Step 1.1: Sanitize \_\_init\_\_.py Files**](QBuilder Improvement Directive.md#L47)
  - [**Step 1.2: Isolate AST Serialization (ast\_serde.py)**](QBuilder Improvement Directive.md#L60)
  - [**Step 1.3: Fix parser\_version.py (Lazy Git Execution)**](QBuilder Improvement Directive.md#L72)
  - [**Gate 1: AST Stability (Correctness)**](QBuilder Improvement Directive.md#L108)
  - [**Gate 2: Performance Targets**](QBuilder Improvement Directive.md#L114)
  - [**Gate 3: Control Flow**](QBuilder Improvement Directive.md#L120)

### [qbuilder_routing_table.md](qbuilder_routing_table.md) ‚Äî 7.2 KB | Topic: qbuilder

- [Processing Steps](qbuilder_routing_table.md#L15)
- [Envelopes](qbuilder_routing_table.md#L37)
- [File Type Matching Rules](qbuilder_routing_table.md#L59)
- [Open Routing Questions](qbuilder_routing_table.md#L100)
- [Validation](qbuilder_routing_table.md#L106)
- [Statistics](qbuilder_routing_table.md#L122)

### [README.md](README.md) ‚Äî 8.7 KB | Topic: parser

- [Document Index](README.md#L5)
  - [Core Architecture](README.md#L7)
  - [Design Documents](README.md#L15)
  - [Policy & Governance](README.md#L28)
  - [Research & Planning](README.md#L34)
- [Project Status (December 2025)](README.md#L42)
  - [‚úÖ Phase 1: Foundation - COMPLETE](README.md#L44)
  - [‚úÖ Phase 1.5: MCP Integration - COMPLETE](README.md#L52)
  - [‚úÖ Phase 1.7: CLI Wrapping Layer - COMPLETE](README.md#L59)
  - [üî≤ Phase 2: Game State Emulator - NEXT](README.md#L70)
  - [üî≤ Phase 3: Developer Tools](README.md#L78)
- [Utility Scripts](README.md#L87)
  - [Encoding Fix Script](README.md#L98)
- [Key Specifications](README.md#L112)
  - [Parser Specifications](README.md#L114)
  - [Merge Policy Specifications](README.md#L125)
  - [Database Specifications](README.md#L134)
- [Architecture Overview](README.md#L146)

### [SINGLE_WRITER_ARCHITECTURE.md](SINGLE_WRITER_ARCHITECTURE.md) ‚Äî 8.8 KB | Topic: qbuilder

- [Canonical Statement (non-negotiable)](SINGLE_WRITER_ARCHITECTURE.md#L9)
  - [Design intent](SINGLE_WRITER_ARCHITECTURE.md#L16)
- [Hard Boundary Rules](SINGLE_WRITER_ARCHITECTURE.md#L24)
  - [Rule A ‚Äî Read-only enforcement is mechanical, not advisory](SINGLE_WRITER_ARCHITECTURE.md#L26)
  - [Rule B ‚Äî Daemon owns queue + derived tables](SINGLE_WRITER_ARCHITECTURE.md#L39)
  - [Rule C ‚Äî File writes do not imply DB writes](SINGLE_WRITER_ARCHITECTURE.md#L43)
- [Database Ownership: Table-Level Authority](SINGLE_WRITER_ARCHITECTURE.md#L49)
  - [Authoritative writer: QBuilder Daemon (RW)](SINGLE_WRITER_ARCHITECTURE.md#L54)
  - [Read-only clients: MCP servers (RO)](SINGLE_WRITER_ARCHITECTURE.md#L81)
- [IPC Contract (Daemon API)](SINGLE_WRITER_ARCHITECTURE.md#L90)
  - [Transport & framing (minimal + robust)](SINGLE_WRITER_ARCHITECTURE.md#L92)
  - [Message envelope (canonical)](SINGLE_WRITER_ARCHITECTURE.md#L99)
  - [Response envelope (canonical)](SINGLE_WRITER_ARCHITECTURE.md#L110)
- [IPC Methods (Minimal Set)](SINGLE_WRITER_ARCHITECTURE.md#L138)
  - [1) health](SINGLE_WRITER_ARCHITECTURE.md#L140)
  - [2) enqueue_files](SINGLE_WRITER_ARCHITECTURE.md#L161)
  - [3) enqueue_scan](SINGLE_WRITER_ARCHITECTURE.md#L183)
  - [4) await_idle](SINGLE_WRITER_ARCHITECTURE.md#L206)
  - [5) get_status](SINGLE_WRITER_ARCHITECTURE.md#L220)
  - [6) shutdown (optional)](SINGLE_WRITER_ARCHITECTURE.md#L238)
- [Daemon Writer Election (Single Writer Guarantee)](SINGLE_WRITER_ARCHITECTURE.md#L247)
  - [Canonical writer lock](SINGLE_WRITER_ARCHITECTURE.md#L249)
- [Behavioral Rules for Agents (Agent-Facing)](SINGLE_WRITER_ARCHITECTURE.md#L264)
- [Suggested Minimal UI State Objects (VS Code Extension stays thin)](SINGLE_WRITER_ARCHITECTURE.md#L282)
  - [1) Connection + mode indicator](SINGLE_WRITER_ARCHITECTURE.md#L286)
  - [2) Queue summary badge](SINGLE_WRITER_ARCHITECTURE.md#L298)
  - [3) Active job panel](SINGLE_WRITER_ARCHITECTURE.md#L309)
- [Testing Contract (Quick + decisive)](SINGLE_WRITER_ARCHITECTURE.md#L325)
  - [Smoke tests](SINGLE_WRITER_ARCHITECTURE.md#L327)
  - [Negative tests](SINGLE_WRITER_ARCHITECTURE.md#L335)
- [File Locations](SINGLE_WRITER_ARCHITECTURE.md#L342)
- [Related Documents](SINGLE_WRITER_ARCHITECTURE.md#L354)

### [STICKY_BRANCH_DESIGN.md](STICKY_BRANCH_DESIGN.md) ‚Äî 8.9 KB | Topic: policy | Type: design

- [1. Goal](STICKY_BRANCH_DESIGN.md#L10)
- [2. Architectural Constraints (Non-Negotiable)](STICKY_BRANCH_DESIGN.md#L18)
  - [2.1 Single Enforcement Boundary](STICKY_BRANCH_DESIGN.md#L20)
  - [2.2 All Logic as Enforcement Subroutine](STICKY_BRANCH_DESIGN.md#L36)
- [3. Protected Branch Policy Data](STICKY_BRANCH_DESIGN.md#L44)
- [4. Command Classification](STICKY_BRANCH_DESIGN.md#L64)
  - [4.1 Read-Only Commands (No Branch Restriction)](STICKY_BRANCH_DESIGN.md#L66)
  - [4.2 Mutating Commands (Branch Restriction Applies)](STICKY_BRANCH_DESIGN.md#L76)
- [5. Sticky Branch Logic (Inside Enforcement)](STICKY_BRANCH_DESIGN.md#L88)
  - [5.1 Decision Matrix](STICKY_BRANCH_DESIGN.md#L105)
  - [5.2 Sticky Behavior Detail](STICKY_BRANCH_DESIGN.md#L115)
- [6. Auto-Switch as Explicit Mutation](STICKY_BRANCH_DESIGN.md#L133)
  - [6.1 Structured Action Result](STICKY_BRANCH_DESIGN.md#L137)
  - [6.2 Action Execution](STICKY_BRANCH_DESIGN.md#L150)
  - [6.3 Action Types](STICKY_BRANCH_DESIGN.md#L158)
- [7. Reply + Logging Compliance](STICKY_BRANCH_DESIGN.md#L172)
  - [7.1 Reply Status Codes](STICKY_BRANCH_DESIGN.md#L174)
  - [7.2 Denial Codes (Enforcement Only)](STICKY_BRANCH_DESIGN.md#L183)
  - [7.3 Required Log Fields](STICKY_BRANCH_DESIGN.md#L193)
- [8. Implementation Checklist](STICKY_BRANCH_DESIGN.md#L213)
  - [8.1 Files to Modify](STICKY_BRANCH_DESIGN.md#L215)
  - [8.2 Files that Must NOT Be Modified for Branch Logic](STICKY_BRANCH_DESIGN.md#L224)
- [9. Test Requirements](STICKY_BRANCH_DESIGN.md#L232)
  - [9.1 Boundary Tests](STICKY_BRANCH_DESIGN.md#L234)
  - [9.2 Protected Branch Tests](STICKY_BRANCH_DESIGN.md#L240)
  - [9.3 Read-Only Tests](STICKY_BRANCH_DESIGN.md#L250)
  - [9.4 Sticky Behavior Tests](STICKY_BRANCH_DESIGN.md#L256)
  - [9.5 Collaborative Mode Tests](STICKY_BRANCH_DESIGN.md#L264)
- [10. Optional Refinement: Explicit Branch Ensure](STICKY_BRANCH_DESIGN.md#L272)
- [11. Summary](STICKY_BRANCH_DESIGN.md#L292)

### [SUGGESTION_routing_table_exclusions.md](SUGGESTION_routing_table_exclusions.md) ‚Äî 3.1 KB | Topic: parser

- [CRITICAL: Parser Timeout Bug](SUGGESTION_routing_table_exclusions.md#L9)
  - [Affected Mods](SUGGESTION_routing_table_exclusions.md#L24)
  - [Recommendation for ck3raven-dev](SUGGESTION_routing_table_exclusions.md#L35)
- [Routing Table Exclusions (Still Valid)](SUGGESTION_routing_table_exclusions.md#L43)
- [Files Fixed by Exclusions](SUGGESTION_routing_table_exclusions.md#L82)
- [Parser Issues (Not Exclusions)](SUGGESTION_routing_table_exclusions.md#L95)
- [Priority](SUGGESTION_routing_table_exclusions.md#L105)

### [SYMBOL_CONTENT_MIGRATION_PLAN.md](SYMBOL_CONTENT_MIGRATION_PLAN.md) ‚Äî 14.2 KB | Topic: qbuilder

- [0. Precondition Verification](SYMBOL_CONTENT_MIGRATION_PLAN.md#L12)
  - [AST Identity Check ‚úÖ](SYMBOL_CONTENT_MIGRATION_PLAN.md#L14)
- [1. Complete Inventory](SYMBOL_CONTENT_MIGRATION_PLAN.md#L28)
  - [1.1 Code Paths That WRITE to symbols](SYMBOL_CONTENT_MIGRATION_PLAN.md#L30)
  - [1.2 Code Paths That WRITE to refs](SYMBOL_CONTENT_MIGRATION_PLAN.md#L39)
  - [1.3 Code Paths That READ from symbols](SYMBOL_CONTENT_MIGRATION_PLAN.md#L48)
  - [1.4 Code Paths That READ from refs](SYMBOL_CONTENT_MIGRATION_PLAN.md#L60)
  - [1.5 Dependent Lookup Tables](SYMBOL_CONTENT_MIGRATION_PLAN.md#L68)
  - [1.6 FTS Virtual Tables (Will Be Dropped/Recreated)](SYMBOL_CONTENT_MIGRATION_PLAN.md#L78)
- [2. Final DDL](SYMBOL_CONTENT_MIGRATION_PLAN.md#L87)
  - [2.1 Drop Legacy Tables](SYMBOL_CONTENT_MIGRATION_PLAN.md#L89)
  - [2.2 Create Canonical Tables](SYMBOL_CONTENT_MIGRATION_PLAN.md#L106)
  - [2.3 Create Indices](SYMBOL_CONTENT_MIGRATION_PLAN.md#L166)
  - [2.4 Create FTS Tables](SYMBOL_CONTENT_MIGRATION_PLAN.md#L183)
  - [2.5 Recreate Lookup Tables (FK to new symbols)](SYMBOL_CONTENT_MIGRATION_PLAN.md#L201)
- [3. Code Changes Required](SYMBOL_CONTENT_MIGRATION_PLAN.md#L249)
  - [3.1 qbuilder/worker.py - Symbol Extraction](SYMBOL_CONTENT_MIGRATION_PLAN.md#L251)
  - [3.2 qbuilder/worker.py - Ref Extraction](SYMBOL_CONTENT_MIGRATION_PLAN.md#L268)
  - [3.3 qbuilder/api.py - delete_file()](SYMBOL_CONTENT_MIGRATION_PLAN.md#L280)
  - [3.4 db_queries.py - Golden Join Pattern](SYMBOL_CONTENT_MIGRATION_PLAN.md#L300)
  - [3.5 Playset Filtering](SYMBOL_CONTENT_MIGRATION_PLAN.md#L327)
  - [3.6 ck3_db_delete Tool](SYMBOL_CONTENT_MIGRATION_PLAN.md#L338)
- [4. Execution Sequence](SYMBOL_CONTENT_MIGRATION_PLAN.md#L348)
  - [Phase 0: Pre-Migration](SYMBOL_CONTENT_MIGRATION_PLAN.md#L350)
  - [Phase 1: Schema Migration](SYMBOL_CONTENT_MIGRATION_PLAN.md#L371)
  - [Phase 2: Deploy Code](SYMBOL_CONTENT_MIGRATION_PLAN.md#L383)
  - [Phase 3: Full Rebuild](SYMBOL_CONTENT_MIGRATION_PLAN.md#L390)
- [5. Verification Checklist](SYMBOL_CONTENT_MIGRATION_PLAN.md#L404)
  - [Schema Verification](SYMBOL_CONTENT_MIGRATION_PLAN.md#L406)
  - [Deduplication Verification](SYMBOL_CONTENT_MIGRATION_PLAN.md#L416)
  - [Golden Join Verification](SYMBOL_CONTENT_MIGRATION_PLAN.md#L437)
  - [Grep Verification](SYMBOL_CONTENT_MIGRATION_PLAN.md#L454)
- [6. Files To Modify (Summary)](SYMBOL_CONTENT_MIGRATION_PLAN.md#L466)
- [7. Rollback Plan](SYMBOL_CONTENT_MIGRATION_PLAN.md#L482)
- [8. Success Criteria](SYMBOL_CONTENT_MIGRATION_PLAN.md#L498)

### [SYNTAX_VALIDATOR_RESEARCH.md](SYNTAX_VALIDATOR_RESEARCH.md) ‚Äî 10.7 KB

- [Best-in-Class Validators Analyzed](SYNTAX_VALIDATOR_RESEARCH.md#L5)
- [Feature Comparison Matrix](SYNTAX_VALIDATOR_RESEARCH.md#L14)
  - [1. Core Parsing & Diagnostics](SYNTAX_VALIDATOR_RESEARCH.md#L16)
  - [2. Semantic Analysis](SYNTAX_VALIDATOR_RESEARCH.md#L27)
  - [3. Code Actions & Fixes](SYNTAX_VALIDATOR_RESEARCH.md#L37)
  - [4. LSP Integration](SYNTAX_VALIDATOR_RESEARCH.md#L45)
  - [5. Rules & Configuration](SYNTAX_VALIDATOR_RESEARCH.md#L58)
  - [6. CK3-Specific Features (Unique)](SYNTAX_VALIDATOR_RESEARCH.md#L67)
- [Current CK3Raven Strengths](SYNTAX_VALIDATOR_RESEARCH.md#L82)
  - [What We Have](SYNTAX_VALIDATOR_RESEARCH.md#L84)
  - [What We Can Build (Have Foundations)](SYNTAX_VALIDATOR_RESEARCH.md#L112)
- [Recommended Development Roadmap](SYNTAX_VALIDATOR_RESEARCH.md#L132)
  - [Phase 1: Complete Core Validation (Priority: HIGH) ‚úÖ IMPLEMENTED](SYNTAX_VALIDATOR_RESEARCH.md#L134)
  - [Phase 2: LSP Server (Priority: HIGH)](SYNTAX_VALIDATOR_RESEARCH.md#L195)
  - [Phase 3: Code Actions (Priority: MEDIUM)](SYNTAX_VALIDATOR_RESEARCH.md#L231)
  - [Phase 4: Rule Engine (Priority: LOW)](SYNTAX_VALIDATOR_RESEARCH.md#L254)
- [LSP Implementation Notes](SYNTAX_VALIDATOR_RESEARCH.md#L280)
  - [Recommended Stack](SYNTAX_VALIDATOR_RESEARCH.md#L282)
  - [Key LSP Capabilities to Implement](SYNTAX_VALIDATOR_RESEARCH.md#L296)
- [Priority Features by Impact](SYNTAX_VALIDATOR_RESEARCH.md#L322)
  - [Highest Impact (Implement First)](SYNTAX_VALIDATOR_RESEARCH.md#L324)
  - [Medium Impact](SYNTAX_VALIDATOR_RESEARCH.md#L330)
  - [Lower Impact (Nice to Have)](SYNTAX_VALIDATOR_RESEARCH.md#L336)
- [Appendix: ESLint Rule Categories (Reference)](SYNTAX_VALIDATOR_RESEARCH.md#L344)

### [TODO_NO_ORACLE_REFACTOR_DEC30.md](TODO_NO_ORACLE_REFACTOR_DEC30.md) ‚Äî 5.3 KB | Topic: contract | Type: todo

- [Branch: `agent/no-oracle-refactor-dec30`](TODO_NO_ORACLE_REFACTOR_DEC30.md#L3)
- [Completed This Session (Session 2 - Evening)](TODO_NO_ORACLE_REFACTOR_DEC30.md#L7)
  - [Machine-Specific Path Fixes](TODO_NO_ORACLE_REFACTOR_DEC30.md#L9)
  - [NO-ORACLE Refactor Progress](TODO_NO_ORACLE_REFACTOR_DEC30.md#L21)
- [‚ö†Ô∏è CRITICAL PENDING: BANNED Concepts Still in Codebase](TODO_NO_ORACLE_REFACTOR_DEC30.md#L29)
  - [1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY](TODO_NO_ORACLE_REFACTOR_DEC30.md#L31)
  - [2. `build_lens_from_scope()` (db_queries.py lines 220-324) - GUILTY](TODO_NO_ORACLE_REFACTOR_DEC30.md#L45)
  - [3. `normalize_path_for_comparison()` (world_adapter.py) - VERDICT PENDING](TODO_NO_ORACLE_REFACTOR_DEC30.md#L57)
- [‚ö†Ô∏è MAJOR PENDING: Contract & Token System](TODO_NO_ORACLE_REFACTOR_DEC30.md#L65)
- [PENDING: Setup Wizard](TODO_NO_ORACLE_REFACTOR_DEC30.md#L77)
- [PENDING: Documentation Updates (Low Priority)](TODO_NO_ORACLE_REFACTOR_DEC30.md#L88)
- [Previous Session (Session 1) Completed Items](TODO_NO_ORACLE_REFACTOR_DEC30.md#L99)
- [Previous Session Outstanding Items (Still Need Fixing)](TODO_NO_ORACLE_REFACTOR_DEC30.md#L111)
  - [`ck3_create_override_patch()` - BROKEN](TODO_NO_ORACLE_REFACTOR_DEC30.md#L113)
  - [Bridge Server Schema](TODO_NO_ORACLE_REFACTOR_DEC30.md#L117)
  - [WIP Workspace](TODO_NO_ORACLE_REFACTOR_DEC30.md#L121)
- [Next Session Priority Order](TODO_NO_ORACLE_REFACTOR_DEC30.md#L127)
- [Git Status](TODO_NO_ORACLE_REFACTOR_DEC30.md#L139)

### [TOOL_CONSOLIDATION_PROPOSAL.md](TOOL_CONSOLIDATION_PROPOSAL.md) ‚Äî 11.4 KB | Topic: mcp | Type: proposal | Status: deprecated

- [Executive Summary](TOOL_CONSOLIDATION_PROPOSAL.md#L9)
- [Current Tool Inventory (30 tools)](TOOL_CONSOLIDATION_PROPOSAL.md#L20)
- [Proposed Consolidations](TOOL_CONSOLIDATION_PROPOSAL.md#L57)
  - [1. `ck3_status` - Unified Status Tool](TOOL_CONSOLIDATION_PROPOSAL.md#L59)
  - [2. `ck3_db` - Unified Database Tool](TOOL_CONSOLIDATION_PROPOSAL.md#L85)
  - [3. `ck3_resolver` - Rename from `ck3_conflicts`](TOOL_CONSOLIDATION_PROPOSAL.md#L119)
  - [4. `ck3_script` - Rename from `ck3_validate`](TOOL_CONSOLIDATION_PROPOSAL.md#L141)
  - [5. `ck3_search` - Expanded to Include File Search](TOOL_CONSOLIDATION_PROPOSAL.md#L168)
  - [6. REMOVE `ck3_token` (Deprecated)](TOOL_CONSOLIDATION_PROPOSAL.md#L205)
- [Proposed Tool List After Consolidation](TOOL_CONSOLIDATION_PROPOSAL.md#L216)
- [Implementation Notes](TOOL_CONSOLIDATION_PROPOSAL.md#L264)
  - [Breaking Changes](TOOL_CONSOLIDATION_PROPOSAL.md#L266)
  - [Reply System Integration](TOOL_CONSOLIDATION_PROPOSAL.md#L275)
  - [Mode-Aware Behavior](TOOL_CONSOLIDATION_PROPOSAL.md#L279)
- [Open Questions](TOOL_CONSOLIDATION_PROPOSAL.md#L287)
- [Approval Checklist](TOOL_CONSOLIDATION_PROPOSAL.md#L296)
- [Timeline](TOOL_CONSOLIDATION_PROPOSAL.md#L306)

### [VISUALIZATION_DESIGN.md](VISUALIZATION_DESIGN.md) ‚Äî 7.9 KB | Topic: playset | Type: design

- [Overview](VISUALIZATION_DESIGN.md#L8)
- [User Stories](VISUALIZATION_DESIGN.md#L17)
  - [US-1: Browse Playset Structure](VISUALIZATION_DESIGN.md#L19)
  - [US-2: View File with Parsed Data](VISUALIZATION_DESIGN.md#L28)
  - [US-3: Compare Mod Contributions](VISUALIZATION_DESIGN.md#L37)
- [Technical Architecture](VISUALIZATION_DESIGN.md#L47)
  - [Option A: VS Code Webview Extension](VISUALIZATION_DESIGN.md#L49)
  - [Option B: MCP Tool + Terminal UI](VISUALIZATION_DESIGN.md#L59)
  - [Option C: Local Web Server + Browser](VISUALIZATION_DESIGN.md#L68)
  - [Recommended: Option A (VS Code Extension) with Option C as MVP](VISUALIZATION_DESIGN.md#L78)
- [MVP Implementation Plan](VISUALIZATION_DESIGN.md#L84)
  - [Phase 1: Data API (MCP Tools)](VISUALIZATION_DESIGN.md#L86)
  - [Phase 2: Web Server](VISUALIZATION_DESIGN.md#L99)
  - [Phase 3: VS Code Integration](VISUALIZATION_DESIGN.md#L115)
- [Data Model](VISUALIZATION_DESIGN.md#L122)
  - [File Tree Node](VISUALIZATION_DESIGN.md#L124)
  - [File Detail](VISUALIZATION_DESIGN.md#L143)
- [UI Mockup](VISUALIZATION_DESIGN.md#L159)
- [MCP Tools to Add](VISUALIZATION_DESIGN.md#L179)
  - [ck3_list_folder](VISUALIZATION_DESIGN.md#L181)
  - [ck3_get_file_detail](VISUALIZATION_DESIGN.md#L201)
- [Implementation Timeline](VISUALIZATION_DESIGN.md#L222)
- [Open Questions](VISUALIZATION_DESIGN.md#L235)
- [Related Files](VISUALIZATION_DESIGN.md#L255)

## docs/Requests and Reports/ (10 files, 97 KB)

### [BUG_REPORT_mcp_server.md](Requests and Reports/BUG_REPORT_mcp_server.md) ‚Äî 4.7 KB | Topic: mcp | Type: bug-report

- [Issue 1: TokenTier ImportError (BLOCKING)](Requests and Reports/BUG_REPORT_mcp_server.md#L9)
  - [Error](Requests and Reports/BUG_REPORT_mcp_server.md#L11)
  - [Stack Trace](Requests and Reports/BUG_REPORT_mcp_server.md#L16)
  - [Root Cause](Requests and Reports/BUG_REPORT_mcp_server.md#L26)
  - [Fix](Requests and Reports/BUG_REPORT_mcp_server.md#L29)
  - [Find All References](Requests and Reports/BUG_REPORT_mcp_server.md#L46)
  - [Verification](Requests and Reports/BUG_REPORT_mcp_server.md#L51)
- [Issue 2: Non-Canonical Path Resolution (Low Priority)](Requests and Reports/BUG_REPORT_mcp_server.md#L58)
  - [Problem](Requests and Reports/BUG_REPORT_mcp_server.md#L63)
  - [Issues](Requests and Reports/BUG_REPORT_mcp_server.md#L76)
  - [Recommended Fix (When Refactoring)](Requests and Reports/BUG_REPORT_mcp_server.md#L82)
- [Issue 3: PYTHONPATH May Be Incomplete](Requests and Reports/BUG_REPORT_mcp_server.md#L93)
  - [Current (line 229)](Requests and Reports/BUG_REPORT_mcp_server.md#L95)
  - [Problem](Requests and Reports/BUG_REPORT_mcp_server.md#L100)
  - [Recommended Fix](Requests and Reports/BUG_REPORT_mcp_server.md#L103)
- [Issue 4: Missing __init__.py Validation](Requests and Reports/BUG_REPORT_mcp_server.md#L111)
  - [Current (lines 220-223)](Requests and Reports/BUG_REPORT_mcp_server.md#L113)
  - [Problem](Requests and Reports/BUG_REPORT_mcp_server.md#L119)
  - [Verification](Requests and Reports/BUG_REPORT_mcp_server.md#L122)
- [Action Items](Requests and Reports/BUG_REPORT_mcp_server.md#L135)
- [Related Commits](Requests and Reports/BUG_REPORT_mcp_server.md#L146)
- [Related Documentation](Requests and Reports/BUG_REPORT_mcp_server.md#L151)

### [bug_report_playset_mods_command_2026-02-04.md](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md) ‚Äî 4.7 KB | Topic: playset | Type: bug-report

- [Summary](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L9)
- [Root Cause](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L21)
  - [What `server.py` expects (lines 2499-2511):](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L25)
  - [What `ModEntry` actually has (`ck3lens/workspace.py` lines 59-84):](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L38)
  - [Missing attributes in `ModEntry`:](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L51)
- [Evidence](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L61)
- [Files Involved](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L83)
- [Fix Options](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L92)
  - [Option A: Add missing attributes to ModEntry (Recommended)](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L94)
  - [Option B: Fix server.py to match current ModEntry schema](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L117)
- [Recommendation](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L154)
- [Verification Test](Requests and Reports/bug_report_playset_mods_command_2026-02-04.md#L165)

### [bug_report_playset_mods_empty_2026-02-02.md](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md) ‚Äî 8.9 KB | Topic: policy | Type: bug-report

- [Issues Summary](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L10)
- [Issue 1: WorldAdapter Visibility Bypass (CRITICAL)](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L22)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L24)
  - [Evidence](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L30)
  - [Tool Visibility Matrix](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L59)
  - [Expected Behavior](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L68)
  - [Files to Investigate](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L74)
- [Issue 2: No Schema Validation on Playset Load](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L82)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L84)
  - [Expected Behavior](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L103)
  - [Current Behavior](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L110)
  - [Files to Investigate](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L117)
- [Issue 3: ck3_playset(mods) Returns Empty](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L125)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L127)
  - [Evidence](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L136)
  - [Root Cause Hypothesis](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L152)
  - [Files to Investigate](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L156)
- [Issue 4: Workspace Config Contains Playset Data](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L164)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L166)
  - [Why This Is Wrong](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L177)
  - [Expected Structure](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L184)
- [Issue 5: Terminology - vanilla_root ‚Üí ROOT_GAME](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L200)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L202)
  - [Expected](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L209)
- [Issue 6: ck3lens Mode Cannot Edit Playset Files](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L218)
  - [Problem](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L220)
  - [Why This Is Wrong](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L229)
  - [Expected Behavior](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L236)
  - [Current Workaround](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L245)
- [Immediate Fix Required (BLOCKED - see Issue 6)](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L251)
- [Test Cases for Verification After Fixes](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L289)
- [Reproduction Steps](Requests and Reports/bug_report_playset_mods_empty_2026-02-02.md#L315)

### [bug_report_session_state_hydration_2026-02-04.md](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md) ‚Äî 8.6 KB | Topic: playset | Type: bug-report

- [Summary](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L11)
- [Root Cause: Dual Session Systems](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L17)
  - [System 1: `_get_session()` - **WORKS**](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L19)
  - [System 2: `_get_session_scope()` - **BROKEN**](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L27)
- [The Specific Bug in `_get_session_scope()`](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L37)
- [Evidence: Two Different Results](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L63)
  - [`ck3_get_workspace_config()` - Uses `_get_session()`](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L65)
- [Affected Code Paths](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L85)
- [Fix: Delete `_get_session_scope()`, Use `_get_session()` Everywhere](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L98)
  - [Why This Is The Right Fix](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L100)
- [Fix Instructions](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L113)
  - [Step 1: Delete `_get_session_scope()` (lines 500-557)](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L115)
  - [Step 2: Delete `_session_scope` Global](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L119)
  - [Step 3: Refactor `_ck3_playset_internal` to Use `_get_session()`](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L128)
  - [Step 4: Fix `mods` Command](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L154)
  - [Step 5: Fix `switch` Command](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L181)
  - [Step 6: Ensure `Session` Class Has Required Properties](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L205)
  - [Step 7: Add `ModEntry.to_dict()` Method If Missing](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L215)
- [Files To Modify](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L233)
- [Validation Checklist](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L248)
- [Related Issues](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L261)
- [Test Commands](Requests and Reports/bug_report_session_state_hydration_2026-02-04.md#L269)

### [Canonical Logging Remediation Plan.md](Requests and Reports/Canonical Logging Remediation Plan.md) ‚Äî 4.8 KB | Topic: logging | Type: canonical

- [**Canonical Logs ‚Äî Remediation Plan: "Dual-Write" Implementation**](Requests and Reports/Canonical Logging Remediation Plan.md#L7)
  - [**Context (Read Carefully)**](Requests and Reports/Canonical Logging Remediation Plan.md#L9)
  - [**Step 1: Import Canonical Logger**](Requests and Reports/Canonical Logging Remediation Plan.md#L27)
  - [**Step 2: Instrument the "Dual-Write"**](Requests and Reports/Canonical Logging Remediation Plan.md#L35)
  - [**Step 3: Instrument Exceptions**](Requests and Reports/Canonical Logging Remediation Plan.md#L74)
  - [**Gate 1 ‚Äî Tool Coverage**](Requests and Reports/Canonical Logging Remediation Plan.md#L107)
  - [**Gate 2 ‚Äî Log Content**](Requests and Reports/Canonical Logging Remediation Plan.md#L116)
  - [**Gate 3 ‚Äî Retrieval**](Requests and Reports/Canonical Logging Remediation Plan.md#L126)

### [ck3_logs_tool_feedback.md](Requests and Reports/ck3_logs_tool_feedback.md) ‚Äî 17.4 KB | Topic: logging

- [üêõ Bug Reports](Requests and Reports/ck3_logs_tool_feedback.md#L9)
  - [BUG-2: Cascade Detection Missing Cross-File Relationships](Requests and Reports/ck3_logs_tool_feedback.md#L27)
  - [BUG-3: `mod_filter` Partial Match Too Greedy](Requests and Reports/ck3_logs_tool_feedback.md#L36)
- [üöÄ Feature Requests](Requests and Reports/ck3_logs_tool_feedback.md#L45)
  - [FR-1: Raw Log Export Command](Requests and Reports/ck3_logs_tool_feedback.md#L47)
  - [FR-2: Cascade Root Cause Linking](Requests and Reports/ck3_logs_tool_feedback.md#L62)
  - [FR-3: Error Deduplication with Counts](Requests and Reports/ck3_logs_tool_feedback.md#L87)
  - [FR-4: Error-to-Symbol Resolution](Requests and Reports/ck3_logs_tool_feedback.md#L102)
  - [FR-5: Mod Attribution Accuracy](Requests and Reports/ck3_logs_tool_feedback.md#L112)
  - [FR-6: Log Diff Between Sessions](Requests and Reports/ck3_logs_tool_feedback.md#L121)
  - [FR-7: Priority Auto-Classification Tuning](Requests and Reports/ck3_logs_tool_feedback.md#L136)
  - [FR-8: Integration with ck3_conflicts](Requests and Reports/ck3_logs_tool_feedback.md#L147)
- [üîó Cross-Log Analysis (game.log / debug.log / error.log)](Requests and Reports/ck3_logs_tool_feedback.md#L154)
  - [Current State Assessment](Requests and Reports/ck3_logs_tool_feedback.md#L156)
  - [GAP-1: No Cross-Log Correlation](Requests and Reports/ck3_logs_tool_feedback.md#L179)
  - [GAP-2: game.log Missing Mod Attribution](Requests and Reports/ck3_logs_tool_feedback.md#L195)
  - [GAP-3: debug.log Underutilized](Requests and Reports/ck3_logs_tool_feedback.md#L208)
  - [GAP-4: No Unified Error View](Requests and Reports/ck3_logs_tool_feedback.md#L222)
  - [GAP-5: game.log Has Better File Context](Requests and Reports/ck3_logs_tool_feedback.md#L236)
  - [GAP-6: Mod Error Summary Missing](Requests and Reports/ck3_logs_tool_feedback.md#L253)
  - [GAP-7: Source File (C++ Location) Analysis](Requests and Reports/ck3_logs_tool_feedback.md#L274)
  - [Summary: Cross-Log Feature Matrix](Requests and Reports/ck3_logs_tool_feedback.md#L290)
- [üìä Empirical Correlation Analysis](Requests and Reports/ck3_logs_tool_feedback.md#L305)
  - [Evidence: Same Errors Appear in Both Logs](Requests and Reports/ck3_logs_tool_feedback.md#L307)
  - [High-Value Use Cases](Requests and Reports/ck3_logs_tool_feedback.md#L321)
  - [Quantified Value](Requests and Reports/ck3_logs_tool_feedback.md#L388)
  - [Recommendation Priority](Requests and Reports/ck3_logs_tool_feedback.md#L399)
- [üìã Session Observations](Requests and Reports/ck3_logs_tool_feedback.md#L410)
  - [What Worked Well](Requests and Reports/ck3_logs_tool_feedback.md#L412)
  - [Pain Points](Requests and Reports/ck3_logs_tool_feedback.md#L418)
  - [Workflow Suggestion](Requests and Reports/ck3_logs_tool_feedback.md#L424)
- [Summary](Requests and Reports/ck3_logs_tool_feedback.md#L432)

### [FIX_PLAN_playset_visibility_issues.md](Requests and Reports/FIX_PLAN_playset_visibility_issues.md) ‚Äî 10.8 KB | Topic: policy | Type: fix-plan

- [Summary of Issues](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L9)
- [Canonical Architecture Alignment](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L26)
  - [Key Principles (from CANONICAL_ARCHITECTURE.md)](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L28)
  - [Visibility Scope Clarification](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L35)
- [Fix Plan](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L44)
  - [Phase 1: Data Fix (Immediate)](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L46)
  - [Phase 2: Schema Validation](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L63)
  - [Phase 3: Move Playsets to User Domain](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L85)
  - [Phase 4: Remove Oracle Functions](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L113)
  - [Phase 5: Visibility Filtering Architecture](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L146)
  - [Phase 6: Fix Vanilla/Mod Write Enforcement](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L178)
  - [Phase 7: Fix ck3raven-dev Addressing (Inverted Behavior)](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L200)
- [Questions for User](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L230)
- [Validation Tests](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L245)
- [Appendix: Banned Terms Found](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L271)
- [Implementation Order](Requests and Reports/FIX_PLAN_playset_visibility_issues.md#L281)

### [FR-2025-02-02-log-and-journal-enhancements.md](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md) ‚Äî 5.7 KB | Topic: journal

- [Context](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L10)
- [FR-1: Log Source Path Override](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L20)
  - [Problem](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L22)
  - [Proposed Solution](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L28)
  - [Acceptance Criteria](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L44)
- [FR-2: Analysis Export to WIP](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L52)
  - [Problem](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L54)
  - [Proposed Solution](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L60)
  - [Output Format](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L77)
  - [Acceptance Criteria](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L84)
- [FR-3: Journal Complete MCP Trace Capture](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L93)
  - [Problem](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L95)
  - [Current State](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L102)
  - [Proposed Solution](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L111)
  - [Configuration Options](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L133)
  - [Acceptance Criteria](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L144)
- [Implementation Notes](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L155)
  - [Priority Order](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L157)
  - [Dependencies](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L162)
  - [Related Work](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L166)
- [User Story](Requests and Reports/FR-2025-02-02-log-and-journal-enhancements.md#L172)

### [PROPOSED_EDITS_playset_visibility_fixes.md](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md) ‚Äî 13.1 KB | Topic: policy

- [Overview](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L9)
- [Phase 1: Data Fix (Immediate) ‚úÖ Quick Win](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L15)
- [Phase 2: Schema Validation ‚úÖ Quick Win](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L35)
- [Phase 3: Move Playsets to User Domain ‚ö†Ô∏è NEEDS DECISION](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L64)
  - [‚ùì QUESTION 1: Move playsets to `~/.ck3raven/playsets/`?](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L95)
- [Phase 4: Remove Oracle Functions](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L105)
  - [‚ùì QUESTION 2: Include oracle removal in this fix batch?](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L149)
- [Phase 5: Visibility Filtering ‚ö†Ô∏è NEEDS DECISION](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L158)
  - [Part A: Fix `ck3_search_mods`](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L162)
  - [Part B: Handle `ck3_db_query` (raw SQL)](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L187)
  - [‚ùì QUESTION 3: How should `ck3_db_query` handle visibility?](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L197)
- [Phase 6: Fix Vanilla/Mod Write Enforcement üî¥ Critical Security Bug](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L207)
- [Phase 7: Fix ck3raven-dev Addressing üî¥ Critical Bug](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L254)
- [Summary: Questions Requiring User Decision](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L310)
- [Recommended Implementation Order](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L320)
- [User Decisions (2026-02-03)](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L337)
  - [Additional Non-Negotiables (from review)](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L345)
  - [Approved Implementation Order](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L351)
- [Validation Battery (Post-Implementation)](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L365)
- [Status: APPROVED ‚Äî Implementation Starting](Requests and Reports/PROPOSED_EDITS_playset_visibility_fixes.md#L381)

### [REPLY_CODE_AUDIT_2026-02-03.md](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md) ‚Äî 18.6 KB | Topic: policy

- [Executive Summary](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L8)
  - [The Problem](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L10)
  - [Key Violations Found](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L14)
- [Canonical Format Specification](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L25)
  - [Format: `LAYER-AREA-TYPE-NNN`](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L27)
  - [Layer Ownership Rules (Decision-Locked)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L36)
- [Complete Code Inventory](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L47)
  - [1. MCP-SYS-S-900 ‚Äî Legacy Wrap (DELETE CANDIDATE)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L49)
  - [2. MCP-SYS-I-901 ‚Äî Invalid Input](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L72)
  - [3. MCP-SYS-D-903 ‚Äî Policy Denied](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L83)
  - [4. MCP-SYS-E-001 ‚Äî System Error](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L92)
  - [5. DB-CONN-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L117)
  - [6. FILE-OP-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L127)
  - [7. FOLDER-OP-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L139)
  - [8. PLAYSET-OP-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L148)
  - [9. GIT-CMD-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L159)
  - [10. REPAIR-OP-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L168)
  - [11. CONTRACT-OP-* Codes ‚Äî **CRITICAL VIOLATIONS**](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L178)
  - [12. SEARCH-OP-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L199)
  - [13. PARSE-AST-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L212)
  - [14. JRN-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L222)
  - [15. DB-QUERY-* Codes (Non-Canonical)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L231)
  - [16. Non-Canonical Codes Introduced Today (February 3, 2026)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L240)
- [Proposed Canonical Code Registry](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L253)
  - [WA (World Adapter) ‚Äî May emit: S, I, E](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L255)
  - [EN (Enforcement) ‚Äî May emit: S, D, E](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L277)
  - [CT (Contract System) ‚Äî May emit: S, I, E](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L289)
  - [MCP (Infrastructure) ‚Äî May emit: E, I (for tool input)](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L299)
- [Summary Statistics](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L308)
- [Recommended Actions](Requests and Reports/REPLY_CODE_AUDIT_2026-02-03.md#L320)

## docs/benchmarks/ (1 files, 3 KB)

### [qbuilder_baseline_20260207.md](benchmarks/qbuilder_baseline_20260207.md) ‚Äî 2.8 KB | Topic: qbuilder

- [Phase 0 Results](benchmarks/qbuilder_baseline_20260207.md#L6)
  - [Metric 1: Subprocess Parse Time](benchmarks/qbuilder_baseline_20260207.md#L8)
  - [Metric 2: Import Chain Overhead](benchmarks/qbuilder_baseline_20260207.md#L22)
  - [Metric 3: Full Build Estimate](benchmarks/qbuilder_baseline_20260207.md#L30)
- [Findings](benchmarks/qbuilder_baseline_20260207.md#L39)
  - [Phase 1.5 (Daemon --fresh): ‚úÖ ALREADY IMPLEMENTED](benchmarks/qbuilder_baseline_20260207.md#L41)
  - [Phase 1.1-1.3: Still Beneficial](benchmarks/qbuilder_baseline_20260207.md#L45)
  - [Recommendation](benchmarks/qbuilder_baseline_20260207.md#L57)
- [Commands Used](benchmarks/qbuilder_baseline_20260207.md#L66)

## docs/bugs/ (17 files, 114 KB)

### [BUG_ck3_search_game_folder_filter.md](bugs/BUG_ck3_search_game_folder_filter.md) ‚Äî 2.3 KB | Type: bug-report

- [Summary](bugs/BUG_ck3_search_game_folder_filter.md#L3)
- [Environment](bugs/BUG_ck3_search_game_folder_filter.md#L6)
- [Steps to Reproduce](bugs/BUG_ck3_search_game_folder_filter.md#L10)
- [Expected Behavior](bugs/BUG_ck3_search_game_folder_filter.md#L22)
- [Actual Behavior](bugs/BUG_ck3_search_game_folder_filter.md#L29)
  - [Example Incorrect Adjacency Results:](bugs/BUG_ck3_search_game_folder_filter.md#L37)
- [Impact](bugs/BUG_ck3_search_game_folder_filter.md#L51)
- [Root Cause Analysis](bugs/BUG_ck3_search_game_folder_filter.md#L57)
- [Suggested Fix](bugs/BUG_ck3_search_game_folder_filter.md#L60)
- [Workaround](bugs/BUG_ck3_search_game_folder_filter.md#L63)

### [bug_contract_turn_termination.md](bugs/bug_contract_turn_termination.md) ‚Äî 6.8 KB | Topic: contract | Type: bug-report

- [Summary](bugs/bug_contract_turn_termination.md#L10)
- [Evidence](bugs/bug_contract_turn_termination.md#L14)
  - [Trace File Analysis](bugs/bug_contract_turn_termination.md#L16)
  - [Contract Validation Retries](bugs/bug_contract_turn_termination.md#L38)
  - [Orphaned Contract Epidemic](bugs/bug_contract_turn_termination.md#L47)
- [Root Cause Analysis](bugs/bug_contract_turn_termination.md#L58)
  - [Primary Cause: Context Window Exhaustion](bugs/bug_contract_turn_termination.md#L60)
  - [Contributing Factors](bugs/bug_contract_turn_termination.md#L70)
  - [What This Is NOT](bugs/bug_contract_turn_termination.md#L81)
- [Impact](bugs/bug_contract_turn_termination.md#L88)
- [Recommended Mitigations](bugs/bug_contract_turn_termination.md#L95)
  - [Short-term (reduce context pressure)](bugs/bug_contract_turn_termination.md#L97)
  - [Medium-term (architectural)](bugs/bug_contract_turn_termination.md#L105)
  - [Long-term](bugs/bug_contract_turn_termination.md#L111)
- [Reproduction](bugs/bug_contract_turn_termination.md#L119)
- [Related](bugs/bug_contract_turn_termination.md#L127)

### [bug_daemon_ignores_sigint.md](bugs/bug_daemon_ignores_sigint.md) ‚Äî 4.2 KB | Topic: qbuilder | Type: bug-report

- [Summary](bugs/bug_daemon_ignores_sigint.md#L9)
- [Symptoms](bugs/bug_daemon_ignores_sigint.md#L13)
- [Existing Shutdown Infrastructure (NOT WIRED UP)](bugs/bug_daemon_ignores_sigint.md#L31)
- [Root Cause](bugs/bug_daemon_ignores_sigint.md#L48)
- [Recommended Fix](bugs/bug_daemon_ignores_sigint.md#L58)
  - [1. Add CLI `stop` Command](bugs/bug_daemon_ignores_sigint.md#L60)
  - [2. Add MCP `stop` Command](bugs/bug_daemon_ignores_sigint.md#L82)
  - [3. Wire Signal Handler to Worker](bugs/bug_daemon_ignores_sigint.md#L92)
  - [4. IPC Shutdown Should Also Set Worker Flag](bugs/bug_daemon_ignores_sigint.md#L118)
- [Platform Note](bugs/bug_daemon_ignores_sigint.md#L127)
- [Related](bugs/bug_daemon_ignores_sigint.md#L133)
- [Testing](bugs/bug_daemon_ignores_sigint.md#L138)

### [bug_mod_name_wip_asymmetry.md](bugs/bug_mod_name_wip_asymmetry.md) ‚Äî 6.7 KB | Topic: policy | Type: bug-report | Status: resolved

- [Summary](bugs/bug_mod_name_wip_asymmetry.md#L10)
- [Affected Commands](bugs/bug_mod_name_wip_asymmetry.md#L17)
- [Root Cause](bugs/bug_mod_name_wip_asymmetry.md#L30)
- [Workaround (current)](bugs/bug_mod_name_wip_asymmetry.md#L55)
- [Proposed Fix: Unify All Commands Through normalize_path_input](bugs/bug_mod_name_wip_asymmetry.md#L62)
  - [Option A: Minimal fix (extend normalize_path_input to all commands)](bugs/bug_mod_name_wip_asymmetry.md#L64)
  - [Option B: Replace mod_name pseudo-values with explicit addressing (user prefe...](bugs/bug_mod_name_wip_asymmetry.md#L82)
- [Additional Findings](bugs/bug_mod_name_wip_asymmetry.md#L112)
  - [1. _file_read_live is redundant with _file_read_raw](bugs/bug_mod_name_wip_asymmetry.md#L114)
  - [2. _file_list also has two code paths](bugs/bug_mod_name_wip_asymmetry.md#L118)
  - [3. Enforcement only runs for write commands](bugs/bug_mod_name_wip_asymmetry.md#L129)
- [File Locations](bugs/bug_mod_name_wip_asymmetry.md#L133)

### [bug_paths_doctor_sidebar.md](bugs/bug_paths_doctor_sidebar.md) ‚Äî 2.1 KB | Topic: paths | Type: bug-report

- [Summary](bugs/bug_paths_doctor_sidebar.md#L9)
- [Expected Behavior](bugs/bug_paths_doctor_sidebar.md#L18)
- [Current Behavior](bugs/bug_paths_doctor_sidebar.md#L25)
- [Root Cause Analysis](bugs/bug_paths_doctor_sidebar.md#L32)
  - [Issue 1: runPathsDoctor() never called on startup](bugs/bug_paths_doctor_sidebar.md#L34)
  - [Issue 2: openPathsConfig command implementation](bugs/bug_paths_doctor_sidebar.md#L38)
- [Files Involved](bugs/bug_paths_doctor_sidebar.md#L44)
- [Proposed Fix](bugs/bug_paths_doctor_sidebar.md#L53)
- [Verification Steps](bugs/bug_paths_doctor_sidebar.md#L63)

### [bug_playset_switching.md](bugs/bug_playset_switching.md) ‚Äî 3.1 KB | Topic: qbuilder | Type: bug-report

- [Summary](bugs/bug_playset_switching.md#L9)
- [Symptoms](bugs/bug_playset_switching.md#L13)
- [Root Cause Analysis](bugs/bug_playset_switching.md#L20)
  - [Multiple Playset Resolution Paths](bugs/bug_playset_switching.md#L22)
  - [Code Evidence](bugs/bug_playset_switching.md#L34)
- [Recommended Fix](bugs/bug_playset_switching.md#L50)
  - [Option A: Unified Resolution Function](bugs/bug_playset_switching.md#L52)
  - [Option B: Always Pass Explicit Path](bugs/bug_playset_switching.md#L71)
- [Related Issues](bugs/bug_playset_switching.md#L82)
- [Testing](bugs/bug_playset_switching.md#L87)

### [bug_qbuilder_fresh_no_discovery.md](bugs/bug_qbuilder_fresh_no_discovery.md) ‚Äî 2.4 KB | Topic: qbuilder | Type: bug-report

- [Summary](bugs/bug_qbuilder_fresh_no_discovery.md#L9)
- [Symptoms](bugs/bug_qbuilder_fresh_no_discovery.md#L13)
- [Root Cause](bugs/bug_qbuilder_fresh_no_discovery.md#L29)
- [Recommended Fix](bugs/bug_qbuilder_fresh_no_discovery.md#L39)
- [Expected Behavior After Fix](bugs/bug_qbuilder_fresh_no_discovery.md#L54)
- [Related Code](bugs/bug_qbuilder_fresh_no_discovery.md#L71)
- [Testing](bugs/bug_qbuilder_fresh_no_discovery.md#L76)

### [bug_qbuilder_subprocess_import_chain.md](bugs/bug_qbuilder_subprocess_import_chain.md) ‚Äî 13.1 KB | Topic: qbuilder | Type: bug-report

- [Summary](bugs/bug_qbuilder_subprocess_import_chain.md#L10)
- [Symptoms](bugs/bug_qbuilder_subprocess_import_chain.md#L18)
- [Root Cause Analysis](bugs/bug_qbuilder_subprocess_import_chain.md#L28)
  - [The Import Chain](bugs/bug_qbuilder_subprocess_import_chain.md#L30)
  - [Why This Kills Performance](bugs/bug_qbuilder_subprocess_import_chain.md#L84)
- [Evidence from Build Queue Data](bugs/bug_qbuilder_subprocess_import_chain.md#L96)
  - [Completion Times (33 completed items)](bugs/bug_qbuilder_subprocess_import_chain.md#L98)
  - [Error Analysis (40 errors ‚Äî ALL timeouts)](bugs/bug_qbuilder_subprocess_import_chain.md#L107)
  - [Queue Distribution](bugs/bug_qbuilder_subprocess_import_chain.md#L123)
- [Recommended Fix](bugs/bug_qbuilder_subprocess_import_chain.md#L140)
  - [Option A: Inline Pure Functions + Stub sys.modules (Quick Fix, ~30 min)](bugs/bug_qbuilder_subprocess_import_chain.md#L142)
  - [Option B: Persistent Worker Subprocess (Better, 2-4 hours)](bugs/bug_qbuilder_subprocess_import_chain.md#L193)
  - [Option C: Fix `__init__.py` Lazy Loading (Correct, ~1 hour)](bugs/bug_qbuilder_subprocess_import_chain.md#L223)
  - [Recommendation](bugs/bug_qbuilder_subprocess_import_chain.md#L260)
- [Files to Modify](bugs/bug_qbuilder_subprocess_import_chain.md#L266)
- [How to Verify](bugs/bug_qbuilder_subprocess_import_chain.md#L277)
- [Related Issues](bugs/bug_qbuilder_subprocess_import_chain.md#L295)
- [Appendix: Import Chain Visualization](bugs/bug_qbuilder_subprocess_import_chain.md#L305)

### [bug_shutdown_unreachable.md](bugs/bug_shutdown_unreachable.md) ‚Äî 7.3 KB | Topic: qbuilder | Type: bug-report

- [Summary](bugs/bug_shutdown_unreachable.md#L9)
- [Current State](bugs/bug_shutdown_unreachable.md#L13)
  - [What Exists (ipc_server.py lines 412-419)](bugs/bug_shutdown_unreachable.md#L15)
  - [Current CLI Commands (cli.py)](bugs/bug_shutdown_unreachable.md#L33)
  - [Current MCP Commands](bugs/bug_shutdown_unreachable.md#L47)
- [Impact](bugs/bug_shutdown_unreachable.md#L57)
- [Recommended Fix](bugs/bug_shutdown_unreachable.md#L63)
  - [1. Add CLI `stop` Command](bugs/bug_shutdown_unreachable.md#L65)
  - [2. Add MCP `stop` Command](bugs/bug_shutdown_unreachable.md#L138)
  - [3. Fix Shutdown Handler to Actually Stop Worker](bugs/bug_shutdown_unreachable.md#L184)
- [Testing](bugs/bug_shutdown_unreachable.md#L230)
- [Related](bugs/bug_shutdown_unreachable.md#L247)

### [CHAT_SESSION_BUG_INVESTIGATION.md](bugs/CHAT_SESSION_BUG_INVESTIGATION.md) ‚Äî 5.1 KB | Topic: extension | Type: bug-report

- [Problem Summary](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L8)
- [Root Cause Identified](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L16)
- [Current Status](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L32)
- [Next Steps (Do These Now)](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L46)
  - [Step 1: Check NEW Logs for URIError](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L48)
  - [Step 2: Try Opening as Plain Folder (Not .code-workspace)](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L67)
  - [Step 3: Disable Extensions One-by-One](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L82)
  - [Step 4: Nuclear Option - New Clean Window](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L97)
- [Key Evidence (Reference)](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L109)
  - [Comparison Table](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L111)
  - [Extension Differences (ONLY in broken window)](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L120)
  - [Data Integrity Check](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L129)
- [Log Locations Reference](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L140)
- [Updated Hypothesis](bugs/CHAT_SESSION_BUG_INVESTIGATION.md#L151)

### [feature_contextual_hints_mcp.md](bugs/feature_contextual_hints_mcp.md) ‚Äî 12.7 KB | Topic: contract | Type: bug-report

- [Problem Statement](bugs/feature_contextual_hints_mcp.md#L9)
- [Solution Overview](bugs/feature_contextual_hints_mcp.md#L21)
- [Use Cases](bugs/feature_contextual_hints_mcp.md#L43)
  - [Case 1: Contract Rejection ‚Üí Field Checklist](bugs/feature_contextual_hints_mcp.md#L45)
  - [Case 2: Search Returns Empty ‚Üí Exhaustive Search Guidance](bugs/feature_contextual_hints_mcp.md#L97)
  - [Case 3: Write Denied ‚Üí Show Writable Paths + Escalation Path](bugs/feature_contextual_hints_mcp.md#L171)
  - [Case 4: Mode Init ‚Üí Structured Tool Awareness](bugs/feature_contextual_hints_mcp.md#L220)
  - [Case 5: Repeated Similar Calls ‚Üí Suggest Better Approach](bugs/feature_contextual_hints_mcp.md#L274)
- [Implementation Notes](bugs/feature_contextual_hints_mcp.md#L331)
  - [Where to Add Hint Logic](bugs/feature_contextual_hints_mcp.md#L333)
  - [Hint Injection Pattern](bugs/feature_contextual_hints_mcp.md#L344)
  - [Keeping Hints Lightweight](bugs/feature_contextual_hints_mcp.md#L366)
- [Summary Table](bugs/feature_contextual_hints_mcp.md#L374)
- [Success Criteria](bugs/feature_contextual_hints_mcp.md#L386)

### [feature_unified_qbuilder_mcp.md](bugs/feature_unified_qbuilder_mcp.md) ‚Äî 6.3 KB | Topic: qbuilder | Type: bug-report

- [Problem Statement](bugs/feature_unified_qbuilder_mcp.md#L9)
- [Goals](bugs/feature_unified_qbuilder_mcp.md#L19)
- [Proposed API](bugs/feature_unified_qbuilder_mcp.md#L31)
  - [Command: `start`](bugs/feature_unified_qbuilder_mcp.md#L33)
  - [Command: `status`](bugs/feature_unified_qbuilder_mcp.md#L53)
  - [Command: `stop`](bugs/feature_unified_qbuilder_mcp.md#L76)
  - [Command: `switch_playset`](bugs/feature_unified_qbuilder_mcp.md#L89)
  - [Command: `logs`](bugs/feature_unified_qbuilder_mcp.md#L107)
  - [Command: `rebuild_file`](bugs/feature_unified_qbuilder_mcp.md#L120)
- [Implementation Approach](bugs/feature_unified_qbuilder_mcp.md#L135)
  - [Recommended: Hybrid (Subprocess + IPC)](bugs/feature_unified_qbuilder_mcp.md#L137)
- [IPC Protocol Extensions](bugs/feature_unified_qbuilder_mcp.md#L158)
- [Error Handling](bugs/feature_unified_qbuilder_mcp.md#L183)
- [Progress Reporting](bugs/feature_unified_qbuilder_mcp.md#L195)
- [Migration Path](bugs/feature_unified_qbuilder_mcp.md#L207)
- [Open Questions](bugs/feature_unified_qbuilder_mcp.md#L216)
- [Success Criteria](bugs/feature_unified_qbuilder_mcp.md#L225)

### [feature_user_initiated_mode_switch.md](bugs/feature_user_initiated_mode_switch.md) ‚Äî 3.9 KB | Type: bug-report

- [Problem Statement](bugs/feature_user_initiated_mode_switch.md#L9)
- [Current Behavior](bugs/feature_user_initiated_mode_switch.md#L18)
- [Proposed Solutions](bugs/feature_user_initiated_mode_switch.md#L27)
  - [Option A: User Token (Recommended - Simplest)](bugs/feature_user_initiated_mode_switch.md#L29)
  - [Option B: Confirmation Gate](bugs/feature_user_initiated_mode_switch.md#L52)
  - [Option C: Explicit Switch Command](bugs/feature_user_initiated_mode_switch.md#L68)
  - [Option D: Session Lock](bugs/feature_user_initiated_mode_switch.md#L82)
- [Recommendation](bugs/feature_user_initiated_mode_switch.md#L100)
- [Security Considerations](bugs/feature_user_initiated_mode_switch.md#L115)
- [Affected Code](bugs/feature_user_initiated_mode_switch.md#L126)

### [JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md) ‚Äî 4.9 KB | Topic: journal | Type: bug-report

- [Fix Implementation (2026-02-07)](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L10)
  - [Summary](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L12)
  - [Files Modified](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L19)
  - [Key Patterns](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L33)
- [Original Symptoms](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L59)
- [Root Cause Analysis](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L68)
  - [The Smoking Gun](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L70)
  - [Timeline of the Crash](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L81)
  - [Why Ext Dev Host Works](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L99)
  - [File Operations That Cause Locks](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L105)
- [Files Involved](bugs/JOURNAL_EXTRACTOR_CHAT_SESSION_LOSS.md#L117)

### [QBuilder Improvement Directive.md](bugs/QBuilder Improvement Directive.md) ‚Äî 7.0 KB | Topic: qbuilder | Type: bug-report
> **Note:** Also in root docs/

  - [**Step 1.1: Sanitize \_\_init\_\_.py Files**](bugs/QBuilder Improvement Directive.md#L47)
  - [**Step 1.2: Isolate AST Serialization (ast\_serde.py)**](bugs/QBuilder Improvement Directive.md#L60)
  - [**Step 1.3: Fix parser\_version.py (Lazy Git Execution)**](bugs/QBuilder Improvement Directive.md#L72)
  - [**Gate 1: AST Stability (Correctness)**](bugs/QBuilder Improvement Directive.md#L108)
  - [**Gate 2: Performance Targets**](bugs/QBuilder Improvement Directive.md#L114)
  - [**Gate 3: Control Flow**](bugs/QBuilder Improvement Directive.md#L120)

### [QBuilder Performance Fix Plan.md](bugs/QBuilder Performance Fix Plan.md) ‚Äî 16.2 KB | Topic: qbuilder | Type: bug-report

  - [**Primary Instruction: Fix Imports & Decouple (Immediate Mandatory Action)**](bugs/QBuilder Performance Fix Plan.md#L67)
  - [**1\. Import-Cost Instrumentation**](bugs/QBuilder Performance Fix Plan.md#L115)
  - [**2\. AST Stability Test**](bugs/QBuilder Performance Fix Plan.md#L127)
- [DETAILED IMPLEMENTATION PLAN (Agent Review Ready)](bugs/QBuilder Performance Fix Plan.md#L138)
  - [TASK 1: Create `parser/ast_serde.py` (NEW FILE)](bugs/QBuilder Performance Fix Plan.md#L145)
  - [TASK 2: Update `parser/__init__.py`](bugs/QBuilder Performance Fix Plan.md#L254)
  - [TASK 3: Update `runtime.py` Subprocess Code](bugs/QBuilder Performance Fix Plan.md#L276)
  - [TASK 4: Fix `parser_version.py` (Lazy Git)](bugs/QBuilder Performance Fix Plan.md#L296)
  - [TASK 5: Update `db/ast_cache.py` (Backward Compatibility)](bugs/QBuilder Performance Fix Plan.md#L329)
  - [TASK 6: Clean Up `ck3raven/__init__.py`](bugs/QBuilder Performance Fix Plan.md#L347)
  - [TASK 7 (OPTIONAL): Clean Up `db/__init__.py`](bugs/QBuilder Performance Fix Plan.md#L383)
  - [VERIFICATION CHECKLIST](bugs/QBuilder Performance Fix Plan.md#L414)
  - [RISK ASSESSMENT](bugs/QBuilder Performance Fix Plan.md#L454)
  - [ROLLBACK PLAN](bugs/QBuilder Performance Fix Plan.md#L465)

### [qbuilder_implementation_plan.md](bugs/qbuilder_implementation_plan.md) ‚Äî 9.7 KB | Topic: qbuilder | Type: bug-report

- [Problem Recap](bugs/qbuilder_implementation_plan.md#L9)
- [Baseline Benchmark (Do This First)](bugs/qbuilder_implementation_plan.md#L18)
- [Step 1: Sanitize `__init__.py` Import Chains](bugs/qbuilder_implementation_plan.md#L40)
  - [What to Change](bugs/qbuilder_implementation_plan.md#L44)
  - [Verification](bugs/qbuilder_implementation_plan.md#L78)
  - [Risk Assessment](bugs/qbuilder_implementation_plan.md#L91)
- [Step 2: Extract Pure Parser Functions to `parser/ast_serde.py`](bugs/qbuilder_implementation_plan.md#L100)
  - [What to Change](bugs/qbuilder_implementation_plan.md#L104)
  - [Verification](bugs/qbuilder_implementation_plan.md#L133)
- [Step 3: Fix `parser_version.py` Git Call](bugs/qbuilder_implementation_plan.md#L146)
  - [What to Change](bugs/qbuilder_implementation_plan.md#L150)
  - [Verification](bugs/qbuilder_implementation_plan.md#L188)
- [Phase 2 (Future): Persistent Worker Pool](bugs/qbuilder_implementation_plan.md#L199)
  - [Concept](bugs/qbuilder_implementation_plan.md#L203)
  - [Why Defer](bugs/qbuilder_implementation_plan.md#L214)
  - [Design Considerations](bugs/qbuilder_implementation_plan.md#L221)
- [Execution Checklist](bugs/qbuilder_implementation_plan.md#L229)
- [File Locations](bugs/qbuilder_implementation_plan.md#L260)

## docs/compass/ (3 files, 17 KB)

### [DESIGN_BRIEF.md](compass/DESIGN_BRIEF.md) ‚Äî 8.7 KB | Topic: playset | Type: design

- [Project Identity](compass/DESIGN_BRIEF.md#L9)
- [Architecture](compass/DESIGN_BRIEF.md#L17)
  - [Integration with ck3raven](compass/DESIGN_BRIEF.md#L19)
- [Database Schema Additions](compass/DESIGN_BRIEF.md#L47)
  - [Map Systems Table](compass/DESIGN_BRIEF.md#L49)
  - [Title Mappings](compass/DESIGN_BRIEF.md#L64)
  - [Province Mappings](compass/DESIGN_BRIEF.md#L82)
  - [Holy Site Mappings](compass/DESIGN_BRIEF.md#L99)
  - [Region Mappings](compass/DESIGN_BRIEF.md#L117)
- [Playset Strategy](compass/DESIGN_BRIEF.md#L134)
- [Mapping Types](compass/DESIGN_BRIEF.md#L149)
- [Confidence Scoring](compass/DESIGN_BRIEF.md#L162)
- [Matching Algorithms](compass/DESIGN_BRIEF.md#L173)
- [MCP Tools](compass/DESIGN_BRIEF.md#L183)
  - [Query Tools](compass/DESIGN_BRIEF.md#L185)
  - [Analysis Tools](compass/DESIGN_BRIEF.md#L206)
  - [Build Tools](compass/DESIGN_BRIEF.md#L224)
- [Workflow](compass/DESIGN_BRIEF.md#L247)
  - [Phase 1: Setup](compass/DESIGN_BRIEF.md#L249)
  - [Phase 2: Extract & Match](compass/DESIGN_BRIEF.md#L256)
  - [Phase 3: Human Review](compass/DESIGN_BRIEF.md#L263)
  - [Phase 4: Use Mappings](compass/DESIGN_BRIEF.md#L269)
- [Policy Considerations](compass/DESIGN_BRIEF.md#L277)
  - [ck3compass-dev Mode](compass/DESIGN_BRIEF.md#L279)
- [Success Criteria](compass/DESIGN_BRIEF.md#L290)
- [Open Questions](compass/DESIGN_BRIEF.md#L301)
- [Dependencies](compass/DESIGN_BRIEF.md#L310)

### [QUANTITATIVE_ANALYSIS.md](compass/QUANTITATIVE_ANALYSIS.md) ‚Äî 6.4 KB | Topic: ck3-modding

- [Executive Summary](compass/QUANTITATIVE_ANALYSIS.md#L10)
- [Map Infrastructure](compass/QUANTITATIVE_ANALYSIS.md#L23)
  - [Provinces (definition.csv)](compass/QUANTITATIVE_ANALYSIS.md#L25)
  - [File Sizes](compass/QUANTITATIVE_ANALYSIS.md#L35)
- [Title Hierarchy](compass/QUANTITATIVE_ANALYSIS.md#L46)
  - [Counts by Tier](compass/QUANTITATIVE_ANALYSIS.md#L48)
  - [Implications](compass/QUANTITATIVE_ANALYSIS.md#L59)
- [Religious Infrastructure](compass/QUANTITATIVE_ANALYSIS.md#L67)
  - [Holy Sites](compass/QUANTITATIVE_ANALYSIS.md#L69)
  - [Example Mapping Discovery](compass/QUANTITATIVE_ANALYSIS.md#L76)
- [History Files](compass/QUANTITATIVE_ANALYSIS.md#L88)
- [Scripted Content](compass/QUANTITATIVE_ANALYSIS.md#L97)
  - [Title References in Vanilla Decisions](compass/QUANTITATIVE_ANALYSIS.md#L99)
  - [MB+ Override Pattern](compass/QUANTITATIVE_ANALYSIS.md#L110)
- [Geographical Regions](compass/QUANTITATIVE_ANALYSIS.md#L129)
- [Culture and Other Content](compass/QUANTITATIVE_ANALYSIS.md#L143)
- [File Types Affected by Map Mods](compass/QUANTITATIVE_ANALYSIS.md#L157)
  - [Primary (Direct References)](compass/QUANTITATIVE_ANALYSIS.md#L159)
  - [Secondary (Scripted References)](compass/QUANTITATIVE_ANALYSIS.md#L170)
  - [Tertiary (Implicit Dependencies)](compass/QUANTITATIVE_ANALYSIS.md#L181)
- [Mapping Complexity Estimate](compass/QUANTITATIVE_ANALYSIS.md#L192)
  - [Straightforward (Automatable)](compass/QUANTITATIVE_ANALYSIS.md#L194)
  - [Requires Algorithm](compass/QUANTITATIVE_ANALYSIS.md#L199)
  - [Requires Human Review](compass/QUANTITATIVE_ANALYSIS.md#L204)
- [Conclusion](compass/QUANTITATIVE_ANALYSIS.md#L212)

### [README.md](compass/README.md) ‚Äî 2.1 KB

- [Overview](compass/README.md#L7)
- [Problem Statement](compass/README.md#L11)
- [Solution](compass/README.md#L20)
- [Documentation](compass/README.md#L27)
- [Key Insight](compass/README.md#L34)
- [Prerequisites](compass/README.md#L44)
- [Next Steps (When Ready)](compass/README.md#L53)

## docs/drafts/ (3 files, 18 KB)

### [ck3_conflicts_design.md](drafts/ck3_conflicts_design.md) ‚Äî 5.2 KB | Type: draft | Status: draft

- [Overview](drafts/ck3_conflicts_design.md#L7)
- [Commands](drafts/ck3_conflicts_design.md#L11)
- [NOT in this tool](drafts/ck3_conflicts_design.md#L139)
- [Risk Assessment Logic](drafts/ck3_conflicts_design.md#L144)
- [Implementation Plan](drafts/ck3_conflicts_design.md#L172)

### [INITIALIZATION_PROPOSAL.md](drafts/INITIALIZATION_PROPOSAL.md) ‚Äî 8.7 KB | Topic: contract | Type: draft | Status: draft

- [Overview](drafts/INITIALIZATION_PROPOSAL.md#L9)
- [1. ck3lens Mode ‚Äî Purpose and Responsibilities](drafts/INITIALIZATION_PROPOSAL.md#L17)
  - [1.1 What ck3lens Exists to Do](drafts/INITIALIZATION_PROPOSAL.md#L19)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L36)
- [2. LensWorld ‚Äî What You See and Why It Exists](drafts/INITIALIZATION_PROPOSAL.md#L42)
  - [2.1 The Core Idea](drafts/INITIALIZATION_PROPOSAL.md#L44)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L62)
- [3. What LensWorld Contains](drafts/INITIALIZATION_PROPOSAL.md#L68)
  - [3.1 Active Playset (Database View)](drafts/INITIALIZATION_PROPOSAL.md#L72)
  - [3.2 Active Local Mods (Filesystem View)](drafts/INITIALIZATION_PROPOSAL.md#L81)
  - [3.3 CK3 Utility Scope](drafts/INITIALIZATION_PROPOSAL.md#L90)
  - [3.4 Registry Scope](drafts/INITIALIZATION_PROPOSAL.md#L96)
  - [3.5 Playsets Scope](drafts/INITIALIZATION_PROPOSAL.md#L102)
  - [3.6 WIP Scope](drafts/INITIALIZATION_PROPOSAL.md#L107)
  - [3.7 CK3Raven Source Code (Read-Only in ck3lens)](drafts/INITIALIZATION_PROPOSAL.md#L114)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L119)
- [4. Guardrail Clarification](drafts/INITIALIZATION_PROPOSAL.md#L132)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L143)
- [5. Contracts in ck3lens](drafts/INITIALIZATION_PROPOSAL.md#L153)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L166)
- [6. Builder-Daemon and Playsets](drafts/INITIALIZATION_PROPOSAL.md#L172)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L185)
- [7. ck3raven-dev Mode ‚Äî Purpose and Responsibilities](drafts/INITIALIZATION_PROPOSAL.md#L191)
  - [7.1 What ck3raven-dev Exists to Do](drafts/INITIALIZATION_PROPOSAL.md#L193)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L206)
- [8. Git Workflow (ck3raven-dev)](drafts/INITIALIZATION_PROPOSAL.md#L212)
  - [8.1 Per-Contract Branches](drafts/INITIALIZATION_PROPOSAL.md#L214)
  - [8.2 Merging](drafts/INITIALIZATION_PROPOSAL.md#L225)
  - [Agent Analysis](drafts/INITIALIZATION_PROPOSAL.md#L230)
- [9. Implementation Notes](drafts/INITIALIZATION_PROPOSAL.md#L238)
  - [9.1 Order of Operations](drafts/INITIALIZATION_PROPOSAL.md#L240)
  - [9.2 Todo List Best Practice](drafts/INITIALIZATION_PROPOSAL.md#L251)
- [Proposed Changes Summary](drafts/INITIALIZATION_PROPOSAL.md#L262)
- [Next Steps](drafts/INITIALIZATION_PROPOSAL.md#L274)

### [NEXT_SESSION_TODO.md](drafts/NEXT_SESSION_TODO.md) ‚Äî 3.6 KB | Topic: ck3-modding | Type: draft | Status: draft

- [Completed This Session (Dec 29, 2025)](drafts/NEXT_SESSION_TODO.md#L3)
  - [LensWorld Sandbox for ck3lens WIP Scripts ‚úÖ](drafts/NEXT_SESSION_TODO.md#L5)
  - [WIP Script Execution Policy (ck3raven-dev) ‚úÖ](drafts/NEXT_SESSION_TODO.md#L27)
- [Priority 1: Test the Phase 2 + Sandbox Commits](drafts/NEXT_SESSION_TODO.md#L37)
- [Priority 2: Push and Merge](drafts/NEXT_SESSION_TODO.md#L57)
- [Priority 3: Review Remaining Canonical Initialization Sections](drafts/NEXT_SESSION_TODO.md#L64)
- [Priority 4: Additional Features (Future)](drafts/NEXT_SESSION_TODO.md#L70)
- [Completed Previously (Dec 28-29, 2025)](drafts/NEXT_SESSION_TODO.md#L78)

## docs/issues/ (6 files, 26 KB)

### [ACTIVE_PLAYSET_FILTERING.md](issues/ACTIVE_PLAYSET_FILTERING.md) ‚Äî 1.8 KB | Topic: playset

- [Historical Context](issues/ACTIVE_PLAYSET_FILTERING.md#L10)
- [Original Problem Statement](issues/ACTIVE_PLAYSET_FILTERING.md#L21)
  - [Core Principle (Now Implemented via LensWorld)](issues/ACTIVE_PLAYSET_FILTERING.md#L25)
- [Architecture Decision](issues/ACTIVE_PLAYSET_FILTERING.md#L32)
- [See Also](issues/ACTIVE_PLAYSET_FILTERING.md#L47)

### [AGENT REPLY 1 - Canonical lensworld proposal.md](issues/AGENT REPLY 1 - Canonical lensworld proposal.md) ‚Äî 1.6 KB | Topic: reply-system | Type: proposal

- [Summary](issues/AGENT REPLY 1 - Canonical lensworld proposal.md#L9)
- [Key Decisions Made](issues/AGENT REPLY 1 - Canonical lensworld proposal.md#L21)
- [Original Content](issues/AGENT REPLY 1 - Canonical lensworld proposal.md#L36)

### [ARCH_LINT_REPORT_DEC31.md](issues/ARCH_LINT_REPORT_DEC31.md) ‚Äî 14.7 KB

- [Executive Summary](issues/ARCH_LINT_REPORT_DEC31.md#L9)
- [Critical Issues Identified This Session](issues/ARCH_LINT_REPORT_DEC31.md#L23)
  - [1. Trace Folder NOT Excluded from Linter](issues/ARCH_LINT_REPORT_DEC31.md#L25)
  - [2. Export Script Missing ck3lens-explorer](issues/ARCH_LINT_REPORT_DEC31.md#L40)
  - [3. live_mods_config References](issues/ARCH_LINT_REPORT_DEC31.md#L63)
  - [4. Root Cause: Why Search Failed](issues/ARCH_LINT_REPORT_DEC31.md#L71)
- [MUTATOR-01: SQL Mutations (37 items)](issues/ARCH_LINT_REPORT_DEC31.md#L96)
  - [Location Summary](issues/ARCH_LINT_REPORT_DEC31.md#L98)
  - [Analysis](issues/ARCH_LINT_REPORT_DEC31.md#L112)
- [MUTATOR-03: Subprocess Calls (19 items)](issues/ARCH_LINT_REPORT_DEC31.md#L136)
  - [Location Summary](issues/ARCH_LINT_REPORT_DEC31.md#L138)
  - [Recommendation](issues/ARCH_LINT_REPORT_DEC31.md#L152)
- [ORACLE-02: Permission Branches (12 items)](issues/ARCH_LINT_REPORT_DEC31.md#L171)
  - [Detailed Analysis](issues/ARCH_LINT_REPORT_DEC31.md#L173)
  - [Critical Violation](issues/ARCH_LINT_REPORT_DEC31.md#L190)
- [CONCEPT-03: Lens Explosions (8 items)](issues/ARCH_LINT_REPORT_DEC31.md#L196)
- [ORACLE-01: Oracle Symbols (5 items)](issues/ARCH_LINT_REPORT_DEC31.md#L211)
- [PATH-01: Inline Path Normalizations (61 items)](issues/ARCH_LINT_REPORT_DEC31.md#L225)
  - [Top Offenders](issues/ARCH_LINT_REPORT_DEC31.md#L227)
  - [‚ö†Ô∏è ARCHITECTURAL CONCERN](issues/ARCH_LINT_REPORT_DEC31.md#L240)
  - [Correct Fix](issues/ARCH_LINT_REPORT_DEC31.md#L248)
- [UNUSED-01: Unused Symbols (260+ items)](issues/ARCH_LINT_REPORT_DEC31.md#L257)
  - [Categories](issues/ARCH_LINT_REPORT_DEC31.md#L259)
  - [Recommendation](issues/ARCH_LINT_REPORT_DEC31.md#L278)
- [Action Items for Next Session](issues/ARCH_LINT_REPORT_DEC31.md#L287)
  - [Priority 1: Fix Linter/Export Exclusions](issues/ARCH_LINT_REPORT_DEC31.md#L289)
  - [Priority 2: Linter Output Enhancement](issues/ARCH_LINT_REPORT_DEC31.md#L313)
  - [Priority 3: Oracle Removal](issues/ARCH_LINT_REPORT_DEC31.md#L327)
  - [Priority 4: Lens Concept Removal](issues/ARCH_LINT_REPORT_DEC31.md#L331)
  - [Priority 5: Path Normalization Consolidation - **CORRECTION**](issues/ARCH_LINT_REPORT_DEC31.md#L338)
  - [Priority 6: git_ops Integration](issues/ARCH_LINT_REPORT_DEC31.md#L355)
- [Root Cause Documentation](issues/ARCH_LINT_REPORT_DEC31.md#L363)
- [Files to Delete/Expunge](issues/ARCH_LINT_REPORT_DEC31.md#L377)
  - [Files Requiring Review for Deletion](issues/ARCH_LINT_REPORT_DEC31.md#L379)
  - [Confirmed Safe to Delete](issues/ARCH_LINT_REPORT_DEC31.md#L383)
  - [Documentation Updates Needed](issues/ARCH_LINT_REPORT_DEC31.md#L387)
- [Agent Self-Correction Notes](issues/ARCH_LINT_REPORT_DEC31.md#L393)
  - [Error 1: Recommending `normalize_path()` in paths.py](issues/ARCH_LINT_REPORT_DEC31.md#L395)
  - [Error 2: Claiming `live_mods_config` only in docs](issues/ARCH_LINT_REPORT_DEC31.md#L403)
  - [Recommendation: Lint the Recommendations](issues/ARCH_LINT_REPORT_DEC31.md#L409)

### [BANNED_TERM_CLEANUP_JAN3.md](issues/BANNED_TERM_CLEANUP_JAN3.md) ‚Äî 3.6 KB | Topic: architecture

- [Summary](issues/BANNED_TERM_CLEANUP_JAN3.md#L3)
- [Banned Terms Found](issues/BANNED_TERM_CLEANUP_JAN3.md#L7)
- [Files Requiring Fixes](issues/BANNED_TERM_CLEANUP_JAN3.md#L17)
  - [Source Code (PRIORITY)](issues/BANNED_TERM_CLEANUP_JAN3.md#L19)
  - [Documentation](issues/BANNED_TERM_CLEANUP_JAN3.md#L29)
  - [Cached/Generated (delete and regenerate)](issues/BANNED_TERM_CLEANUP_JAN3.md#L42)
  - [Root Cause Analysis](issues/BANNED_TERM_CLEANUP_JAN3.md#L51)
  - [Linter Analysis Needed](issues/BANNED_TERM_CLEANUP_JAN3.md#L63)
- [Action Items](issues/BANNED_TERM_CLEANUP_JAN3.md#L70)
- [Correct Architecture](issues/BANNED_TERM_CLEANUP_JAN3.md#L80)

### [CK3_EXEC_HANG_DEBUG.md](issues/CK3_EXEC_HANG_DEBUG.md) ‚Äî 2.5 KB

- [Root Cause](issues/CK3_EXEC_HANG_DEBUG.md#L9)
  - [Issue 1: Windows Store Python Stub](issues/CK3_EXEC_HANG_DEBUG.md#L13)
  - [Issue 2: Missing PyYAML Dependency](issues/CK3_EXEC_HANG_DEBUG.md#L18)
- [Solution Implemented](issues/CK3_EXEC_HANG_DEBUG.md#L25)
  - [1. Created `runtime_env.py` Module](issues/CK3_EXEC_HANG_DEBUG.md#L27)
  - [2. Fixed `pyproject.toml`](issues/CK3_EXEC_HANG_DEBUG.md#L40)
  - [3. Updated `ck3_exec` in `server.py`](issues/CK3_EXEC_HANG_DEBUG.md#L51)
  - [4. Added Startup Validation](issues/CK3_EXEC_HANG_DEBUG.md#L59)
- [Files Changed](issues/CK3_EXEC_HANG_DEBUG.md#L64)
- [Testing Required](issues/CK3_EXEC_HANG_DEBUG.md#L73)
- [Notes for Future](issues/CK3_EXEC_HANG_DEBUG.md#L82)

### [CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md) ‚Äî 2.0 KB | Topic: playset

- [Issue](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L7)
- [Current Workaround](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L19)
- [Proposed Fix](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L29)
  - [Implementation Notes](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L37)
  - [Expected API](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L46)
- [Priority](issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md#L67)

## docs/learner/ (2 files, 13 KB)

### [AST_DIFF_SPEC.md](learner/AST_DIFF_SPEC.md) ‚Äî 9.1 KB | Topic: mcp

- [1. Purpose](learner/AST_DIFF_SPEC.md#L10)
  - [Design Principles](learner/AST_DIFF_SPEC.md#L16)
- [2. Input Format](learner/AST_DIFF_SPEC.md#L26)
  - [AST Node Types](learner/AST_DIFF_SPEC.md#L30)
  - [Value Types](learner/AST_DIFF_SPEC.md#L39)
- [3. Output Format](learner/AST_DIFF_SPEC.md#L49)
  - [ChangeRecord](learner/AST_DIFF_SPEC.md#L51)
  - [ValueType Enum](learner/AST_DIFF_SPEC.md#L64)
  - [ChangeType Enum](learner/AST_DIFF_SPEC.md#L76)
  - [DiffResult](learner/AST_DIFF_SPEC.md#L85)
- [4. Path Semantics](learner/AST_DIFF_SPEC.md#L101)
  - [4.1 Basic Paths](learner/AST_DIFF_SPEC.md#L103)
  - [4.2 Repeated Keys](learner/AST_DIFF_SPEC.md#L113)
  - [4.3 Ordering](learner/AST_DIFF_SPEC.md#L124)
  - [4.4 Path Examples](learner/AST_DIFF_SPEC.md#L130)
- [5. Diff Algorithm](learner/AST_DIFF_SPEC.md#L141)
  - [5.1 Recursive Walk](learner/AST_DIFF_SPEC.md#L143)
  - [5.2 Block Diffing](learner/AST_DIFF_SPEC.md#L167)
  - [5.3 Value Diffing](learner/AST_DIFF_SPEC.md#L175)
- [6. Invariants](learner/AST_DIFF_SPEC.md#L184)
- [7. Examples](learner/AST_DIFF_SPEC.md#L196)
  - [7.1 Simple Modification](learner/AST_DIFF_SPEC.md#L198)
  - [7.2 Nested Modification](learner/AST_DIFF_SPEC.md#L226)
  - [7.3 Addition](learner/AST_DIFF_SPEC.md#L254)
  - [7.4 Removal](learner/AST_DIFF_SPEC.md#L273)
- [8. Usage](learner/AST_DIFF_SPEC.md#L294)
  - [Direct AST Comparison](learner/AST_DIFF_SPEC.md#L296)
  - [JSON Export](learner/AST_DIFF_SPEC.md#L324)
- [9. Limitations](learner/AST_DIFF_SPEC.md#L332)
  - [Not Handled](learner/AST_DIFF_SPEC.md#L334)
  - [Future Considerations](learner/AST_DIFF_SPEC.md#L341)
- [10. Integration Points](learner/AST_DIFF_SPEC.md#L349)
  - [Database Integration (Future)](learner/AST_DIFF_SPEC.md#L351)
  - [MCP Tool Integration (Future)](learner/AST_DIFF_SPEC.md#L370)
- [11. Testing](learner/AST_DIFF_SPEC.md#L383)

### [CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md) ‚Äî 3.7 KB

- [Context](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L10)
- [What the Learner Needs](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L22)
- [Requested Addition](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L33)
  - [1. `get_symbol_with_ast(conn, name, symbol_type, cvid) -> dict | None`](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L37)
  - [2. `get_symbols_for_diff(conn, name, symbol_type, baseline_cvid, compare_cvid...](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L59)
- [Alternative: Learner Constructs SQL Directly](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L82)
- [Rationale for Adding to golden_join.py](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L103)
- [Decision Requested](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L112)
- [Notes](learner/CHANGE_REQUEST_GOLDEN_JOIN_HELPERS.md#L120)

## docs/paths/ (6 files, 139 KB)

### [Paths Doctor Integration Guidelines.md](paths/Paths Doctor Integration Guidelines.md) ‚Äî 10.5 KB | Topic: paths

- [**‚úÖ Overall Assessment**](paths/Paths Doctor Integration Guidelines.md#L7)
  - [**1\. Remediation wording must not imply Doctor creates anything**](paths/Paths Doctor Integration Guidelines.md#L17)
  - [**2\. Missing .ck3raven / missing subdirs default to WARN**](paths/Paths Doctor Integration Guidelines.md#L23)
  - [**3\. Resolution cross-check mismatch severity**](paths/Paths Doctor Integration Guidelines.md#L28)
  - [**4\. Config health must reflect load \+ parse status**](paths/Paths Doctor Integration Guidelines.md#L33)
  - [**5\. OK findings are fine, but don‚Äôt print them by default**](paths/Paths Doctor Integration Guidelines.md#L41)
  - [**Q1) OK findings ‚Äî include by default or only with \--verbose?**](paths/Paths Doctor Integration Guidelines.md#L49)
  - [**Q2) JSON output ‚Äî worth implementing for CLI?**](paths/Paths Doctor Integration Guidelines.md#L54)
  - [**Q3) MCP tool ‚Äî add ck3\_paths\_doctor tool?**](paths/Paths Doctor Integration Guidelines.md#L60)
- [**A) Separation of Concerns (Mandatory Model)**](paths/Paths Doctor Integration Guidelines.md#L71)
- [**B) Reply System Rules (Implement Exactly)**](paths/Paths Doctor Integration Guidelines.md#L88)
- [**C) Logging Rules (Implement Exactly)**](paths/Paths Doctor Integration Guidelines.md#L102)
- [**D) CLI Flags vs. Systems**](paths/Paths Doctor Integration Guidelines.md#L110)
- [**E) Validation Requirement (Test Plan)**](paths/Paths Doctor Integration Guidelines.md#L116)

### [PATHS_DESIGN_BRIEF_v2.md](paths/PATHS_DESIGN_BRIEF_v2.md) ‚Äî 26.4 KB | Topic: paths | Type: design

- [Executive Summary](paths/PATHS_DESIGN_BRIEF_v2.md#L10)
- [1. Root Categories](paths/PATHS_DESIGN_BRIEF_v2.md#L24)
  - [1.1 Complete Root Enumeration](paths/PATHS_DESIGN_BRIEF_v2.md#L26)
  - [1.2 ROOT_CK3RAVEN_DATA Structure](paths/PATHS_DESIGN_BRIEF_v2.md#L45)
- [2. Implementation: ck3lens/paths.py](paths/PATHS_DESIGN_BRIEF_v2.md#L62)
  - [2.1 ROOTS Registry](paths/PATHS_DESIGN_BRIEF_v2.md#L64)
  - [2.2 Path Resolution](paths/PATHS_DESIGN_BRIEF_v2.md#L195)
- [3. Capability Matrix](paths/PATHS_DESIGN_BRIEF_v2.md#L270)
  - [3.1 The Matrix is THE Enforcement Driver](paths/PATHS_DESIGN_BRIEF_v2.md#L272)
  - [3.2 Enforcement as Pure Function](paths/PATHS_DESIGN_BRIEF_v2.md#L390)
- [4. Banned Terms and Patterns](paths/PATHS_DESIGN_BRIEF_v2.md#L492)
  - [4.1 Banned Parameter Names](paths/PATHS_DESIGN_BRIEF_v2.md#L494)
  - [4.2 Banned Patterns](paths/PATHS_DESIGN_BRIEF_v2.md#L503)
- [5. Tests](paths/PATHS_DESIGN_BRIEF_v2.md#L540)
  - [5.1 Matrix is Sole Driver](paths/PATHS_DESIGN_BRIEF_v2.md#L542)
- [6. Paths Doctor](paths/PATHS_DESIGN_BRIEF_v2.md#L583)
- [7. Migration Scope](paths/PATHS_DESIGN_BRIEF_v2.md#L642)
  - [7.1 Files to Update](paths/PATHS_DESIGN_BRIEF_v2.md#L644)
  - [7.2 Banned Terms to Remove](paths/PATHS_DESIGN_BRIEF_v2.md#L655)
- [8. Approval Checklist](paths/PATHS_DESIGN_BRIEF_v2.md#L667)
- [9. References](paths/PATHS_DESIGN_BRIEF_v2.md#L682)

### [PATHS_DESIGN_BRIEF_v3.md](paths/PATHS_DESIGN_BRIEF_v3.md) ‚Äî 22.5 KB | Topic: paths | Type: design

- [Executive Summary](paths/PATHS_DESIGN_BRIEF_v3.md#L10)
- [1. Root Categories](paths/PATHS_DESIGN_BRIEF_v3.md#L22)
  - [1.1 Complete Root Enumeration](paths/PATHS_DESIGN_BRIEF_v3.md#L24)
  - [1.2 ROOT_CK3RAVEN_DATA Structure](paths/PATHS_DESIGN_BRIEF_v3.md#L38)
- [2. Implementation: ck3lens/paths.py](paths/PATHS_DESIGN_BRIEF_v3.md#L53)
  - [2.1 Design Principle: Constants Only](paths/PATHS_DESIGN_BRIEF_v3.md#L55)
  - [2.2 Actual Implementation](paths/PATHS_DESIGN_BRIEF_v3.md#L64)
  - [2.3 What paths.py Does NOT Have](paths/PATHS_DESIGN_BRIEF_v3.md#L100)
- [3. Path Resolution (WorldAdapter)](paths/PATHS_DESIGN_BRIEF_v3.md#L109)
  - [3.2 Resolution Order (Most Specific First)](paths/PATHS_DESIGN_BRIEF_v3.md#L128)
- [4. Capability Matrix](paths/PATHS_DESIGN_BRIEF_v3.md#L142)
  - [4.1 subfolders_writable Pattern](paths/PATHS_DESIGN_BRIEF_v3.md#L144)
  - [4.2 Matrix Entries](paths/PATHS_DESIGN_BRIEF_v3.md#L171)
  - [4.3 Global Invariants (Override Matrix)](paths/PATHS_DESIGN_BRIEF_v3.md#L191)
  - [4.4 Subdirectory-Based Authority (CRITICAL)](paths/PATHS_DESIGN_BRIEF_v3.md#L197)
- [5. Banned Patterns](paths/PATHS_DESIGN_BRIEF_v3.md#L354)
  - [5.1 Banned in paths.py](paths/PATHS_DESIGN_BRIEF_v3.md#L356)
  - [5.2 Banned Elsewhere](paths/PATHS_DESIGN_BRIEF_v3.md#L370)
  - [5.3 Required Pattern](paths/PATHS_DESIGN_BRIEF_v3.md#L387)
- [6. Files](paths/PATHS_DESIGN_BRIEF_v3.md#L402)
- [7. Migration Notes](paths/PATHS_DESIGN_BRIEF_v3.md#L414)
  - [7.1 Deleted Code](paths/PATHS_DESIGN_BRIEF_v3.md#L416)
  - [7.2 Config File](paths/PATHS_DESIGN_BRIEF_v3.md#L427)
- [8. Paths Doctor (Diagnostics)](paths/PATHS_DESIGN_BRIEF_v3.md#L435)
  - [8.1 Purpose](paths/PATHS_DESIGN_BRIEF_v3.md#L437)
  - [8.2 Non-Negotiable Constraints](paths/PATHS_DESIGN_BRIEF_v3.md#L446)
  - [8.3 Module Placement and API](paths/PATHS_DESIGN_BRIEF_v3.md#L456)
  - [8.4 What Paths Doctor Checks](paths/PATHS_DESIGN_BRIEF_v3.md#L489)
  - [8.5 Severity Semantics](paths/PATHS_DESIGN_BRIEF_v3.md#L557)
  - [8.6 Integration Expectations](paths/PATHS_DESIGN_BRIEF_v3.md#L567)
  - [8.7 Explicitly Banned Behaviors](paths/PATHS_DESIGN_BRIEF_v3.md#L579)
  - [8.8 Reply & Logging System Integration](paths/PATHS_DESIGN_BRIEF_v3.md#L588)
  - [8.9 Required Corrections for Implementation](paths/PATHS_DESIGN_BRIEF_v3.md#L651)
- [9. References](paths/PATHS_DESIGN_BRIEF_v3.md#L671)

### [PATHS_DOCTOR_IMPLEMENTATION_PLAN.md](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md) ‚Äî 15.1 KB | Topic: paths | Type: implementation-plan

- [Overview](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L9)
- [Implementation Tasks](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L15)
  - [Task 1: Create Core Data Structures](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L17)
  - [Task 2: Implement Root Validation Checks](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L43)
  - [Task 3: Implement CK3RAVEN_DATA Structure Checks](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L118)
  - [Task 4: Implement Local Mods Folder Check](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L178)
  - [Task 5: Implement Config Health Check](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L221)
  - [Task 6: Implement Optional Resolution Cross-Checks](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L272)
  - [Task 7: Implement Main Entry Point](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L324)
  - [Task 8: Implement CLI Entry Point](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L379)
- [File Structure](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L419)
- [Testing Strategy](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L431)
  - [Unit Tests (after implementation)](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L433)
  - [Manual Tests](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L455)
- [Review Checklist](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L463)
- [Estimated Effort](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L477)
- [Questions for Review](paths/PATHS_DOCTOR_IMPLEMENTATION_PLAN.md#L493)

### [PATHS_IMPLEMENTATION_PLAN.md](paths/PATHS_IMPLEMENTATION_PLAN.md) ‚Äî 61.4 KB | Topic: paths | Type: implementation-plan

- [Table of Contents](paths/PATHS_IMPLEMENTATION_PLAN.md#L10)
- [1. Scope and Non-Goals](paths/PATHS_IMPLEMENTATION_PLAN.md#L26)
  - [1.1 In Scope](paths/PATHS_IMPLEMENTATION_PLAN.md#L28)
  - [1.2 Non-Goals (Explicit Exclusions)](paths/PATHS_IMPLEMENTATION_PLAN.md#L40)
  - [1.3 Dependencies](paths/PATHS_IMPLEMENTATION_PLAN.md#L52)
- [2. Decisions Log](paths/PATHS_IMPLEMENTATION_PLAN.md#L63)
  - [Must-Answer Questions (All Resolved)](paths/PATHS_IMPLEMENTATION_PLAN.md#L65)
  - [Design Choices with Alternatives Rejected](paths/PATHS_IMPLEMENTATION_PLAN.md#L83)
- [Phase 0: Configuration Layer](paths/PATHS_IMPLEMENTATION_PLAN.md#L96)
  - [0.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L100)
  - [0.2 workspace.toml Schema](paths/PATHS_IMPLEMENTATION_PLAN.md#L108)
  - [0.3 config_loader.py Implementation](paths/PATHS_IMPLEMENTATION_PLAN.md#L159)
  - [0.4 Phase 0 Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L379)
  - [0.5 Phase 0 Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L390)
- [Phase A: ROOTS Data Model](paths/PATHS_IMPLEMENTATION_PLAN.md#L402)
  - [A.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L406)
  - [A.2 paths.py Implementation (Data Model Only)](paths/PATHS_IMPLEMENTATION_PLAN.md#L413)
  - [A.3 Phase A Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L572)
  - [A.4 Phase A Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L583)
- [Phase B: Resolution Function](paths/PATHS_IMPLEMENTATION_PLAN.md#L595)
  - [B.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L599)
  - [B.2 Resolution Implementation (No-IO Normalization)](paths/PATHS_IMPLEMENTATION_PLAN.md#L605)
  - [B.3 Phase B Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L790)
  - [B.4 Phase B Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L802)
- [Phase C: Capability Matrix](paths/PATHS_IMPLEMENTATION_PLAN.md#L816)
  - [C.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L820)
  - [C.2 capability_matrix.py Implementation](paths/PATHS_IMPLEMENTATION_PLAN.md#L826)
  - [C.3 Phase C Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L963)
  - [C.4 Phase C Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L976)
- [Phase D: Enforcement Consolidation](paths/PATHS_IMPLEMENTATION_PLAN.md#L991)
  - [D.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L995)
  - [D.2 enforcement.py Implementation](paths/PATHS_IMPLEMENTATION_PLAN.md#L1001)
  - [D.3 Per-Domain Functions to Delete](paths/PATHS_IMPLEMENTATION_PLAN.md#L1113)
  - [D.4 Phase D Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L1127)
  - [D.5 Phase D Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L1137)
- [Phase E: Call Site Migration](paths/PATHS_IMPLEMENTATION_PLAN.md#L1154)
  - [E.1 Files Changed](paths/PATHS_IMPLEMENTATION_PLAN.md#L1158)
  - [E.2 Migration Patterns](paths/PATHS_IMPLEMENTATION_PLAN.md#L1168)
  - [E.3 world_router.py Deletion](paths/PATHS_IMPLEMENTATION_PLAN.md#L1208)
  - [E.4 Banned Terms CI Gate](paths/PATHS_IMPLEMENTATION_PLAN.md#L1221)
  - [E.5 Phase E Validation](paths/PATHS_IMPLEMENTATION_PLAN.md#L1239)
  - [E.6 Phase E Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L1250)
- [Phase F: Validation and CI Gates](paths/PATHS_IMPLEMENTATION_PLAN.md#L1261)
  - [F.1 Validation Commands](paths/PATHS_IMPLEMENTATION_PLAN.md#L1265)
  - [F.2 Test Files to Create](paths/PATHS_IMPLEMENTATION_PLAN.md#L1278)
  - [F.3 Test Coverage Requirements](paths/PATHS_IMPLEMENTATION_PLAN.md#L1287)
  - [F.4 CI Gate Configuration (Windows + Linux)](paths/PATHS_IMPLEMENTATION_PLAN.md#L1296)
  - [F.5 Phase F Success Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L1349)
- [10. Risk Register](paths/PATHS_IMPLEMENTATION_PLAN.md#L1360)
  - [Risk Responses](paths/PATHS_IMPLEMENTATION_PLAN.md#L1373)
- [11. Acceptance Criteria](paths/PATHS_IMPLEMENTATION_PLAN.md#L1388)
  - [11.1 Definition of Done](paths/PATHS_IMPLEMENTATION_PLAN.md#L1390)
  - [11.2 Evidence Packet Checklist](paths/PATHS_IMPLEMENTATION_PLAN.md#L1402)
  - [11.3 Rollback Plan](paths/PATHS_IMPLEMENTATION_PLAN.md#L1426)
- [Appendix A: Complete File List](paths/PATHS_IMPLEMENTATION_PLAN.md#L1436)
- [Appendix B: Quick Reference](paths/PATHS_IMPLEMENTATION_PLAN.md#L1458)
  - [New Imports](paths/PATHS_IMPLEMENTATION_PLAN.md#L1460)
  - [Common Patterns](paths/PATHS_IMPLEMENTATION_PLAN.md#L1502)

### [PATHS_REFACTOR_TODO.md](paths/PATHS_REFACTOR_TODO.md) ‚Äî 3.6 KB | Topic: paths | Type: todo

- [Completed This Session](paths/PATHS_REFACTOR_TODO.md#L8)
- [Outstanding TODOs](paths/PATHS_REFACTOR_TODO.md#L20)
  - [HIGH PRIORITY](paths/PATHS_REFACTOR_TODO.md#L22)
  - [MEDIUM PRIORITY](paths/PATHS_REFACTOR_TODO.md#L43)
  - [LOW PRIORITY](paths/PATHS_REFACTOR_TODO.md#L60)
- [Design Decisions Made](paths/PATHS_REFACTOR_TODO.md#L72)
- [Files Changed This Session](paths/PATHS_REFACTOR_TODO.md#L84)

## docs/reference/ (1 files, 4 KB)

### [QBUILDER_CLI_CHEATSHEET.md](reference/QBUILDER_CLI_CHEATSHEET.md) ‚Äî 4.0 KB | Topic: qbuilder | Type: reference

- [CLI Commands](reference/QBUILDER_CLI_CHEATSHEET.md#L8)
  - [`qbuilder daemon` ‚≠ê PRIMARY](reference/QBUILDER_CLI_CHEATSHEET.md#L10)
  - [`qbuilder build`](reference/QBUILDER_CLI_CHEATSHEET.md#L27)
  - [`qbuilder discover`](reference/QBUILDER_CLI_CHEATSHEET.md#L35)
  - [`qbuilder status`](reference/QBUILDER_CLI_CHEATSHEET.md#L42)
- [Python API](reference/QBUILDER_CLI_CHEATSHEET.md#L51)
  - [File Operations](reference/QBUILDER_CLI_CHEATSHEET.md#L53)
  - [Status Queries](reference/QBUILDER_CLI_CHEATSHEET.md#L73)
  - [Background Builds](reference/QBUILDER_CLI_CHEATSHEET.md#L92)
- [Priority System](reference/QBUILDER_CLI_CHEATSHEET.md#L110)
- [Logging](reference/QBUILDER_CLI_CHEATSHEET.md#L123)
- [Envelope Types](reference/QBUILDER_CLI_CHEATSHEET.md#L137)
- [Performance](reference/QBUILDER_CLI_CHEATSHEET.md#L148)
  - [Optimizations](reference/QBUILDER_CLI_CHEATSHEET.md#L156)

## docs/reviews/ (8 files, 57 KB)

### [faith-symbols-not-extracted.md](reviews/faith-symbols-not-extracted.md) ‚Äî 5.0 KB | Topic: parser | Type: review

- [Summary](reviews/faith-symbols-not-extracted.md#L7)
- [Evidence](reviews/faith-symbols-not-extracted.md#L11)
  - [1. Parser is working correctly](reviews/faith-symbols-not-extracted.md#L13)
  - [2. Symbol extractor only captures religions](reviews/faith-symbols-not-extracted.md#L40)
  - [3. Faith references ARE being used in mods](reviews/faith-symbols-not-extracted.md#L50)
- [Expected Behavior](reviews/faith-symbols-not-extracted.md#L61)
- [Impact](reviews/faith-symbols-not-extracted.md#L68)
- [Technical Details](reviews/faith-symbols-not-extracted.md#L75)
- [Root Cause Hypothesis](reviews/faith-symbols-not-extracted.md#L104)
- [Suggested Fix Location](reviews/faith-symbols-not-extracted.md#L131)
- [Related](reviews/faith-symbols-not-extracted.md#L138)
- [Verification Query](reviews/faith-symbols-not-extracted.md#L145)

### [fixes.md](reviews/fixes.md) ‚Äî 8.3 KB | Topic: ck3-modding | Type: review

*(No section headings found)*

### [proposal_path_addressing.md](reviews/proposal_path_addressing.md) ‚Äî 13.8 KB | Topic: paths | Type: review

- [Problem](reviews/proposal_path_addressing.md#L9)
- [Design Instructions (from review)](reviews/proposal_path_addressing.md#L15)
  - [Instruction 1: Hard Invariant for `ck3_file`](reviews/proposal_path_addressing.md#L17)
  - [Instruction 2: End-State Code Organization](reviews/proposal_path_addressing.md#L33)
  - [Instruction 3: Reply Conformance](reviews/proposal_path_addressing.md#L47)
  - [Instruction 4: No Hidden Fallback](reviews/proposal_path_addressing.md#L58)
- [Implementation Plan: Option A (with B-forward structure)](reviews/proposal_path_addressing.md#L71)
  - [What changes](reviews/proposal_path_addressing.md#L73)
  - [What stays the same](reviews/proposal_path_addressing.md#L85)
  - [Pseudocode: New dispatch structure](reviews/proposal_path_addressing.md#L95)
- [Risk Management: Protecting MCP Tools During Refactor](reviews/proposal_path_addressing.md#L152)
  - [Risk: MCP tool regression during refactor](reviews/proposal_path_addressing.md#L154)
  - [Mitigation strategy](reviews/proposal_path_addressing.md#L158)
- [Option B: What Remains After Option A](reviews/proposal_path_addressing.md#L210)
- [Files Affected (Option A)](reviews/proposal_path_addressing.md#L225)
- [Other Tools Assessment](reviews/proposal_path_addressing.md#L235)

### [proposal_qbuilder_log_access.md](reviews/proposal_qbuilder_log_access.md) ‚Äî 3.3 KB | Topic: qbuilder | Type: review

- [Problem Statement](reviews/proposal_qbuilder_log_access.md#L9)
- [Proposed Enhancement](reviews/proposal_qbuilder_log_access.md#L21)
  - [New Tool: `ck3_qbuilder_logs`](reviews/proposal_qbuilder_log_access.md#L23)
  - [Output Modes](reviews/proposal_qbuilder_log_access.md#L34)
- [Implementation](reviews/proposal_qbuilder_log_access.md#L75)
- [Benefits](reviews/proposal_qbuilder_log_access.md#L97)
- [Priority](reviews/proposal_qbuilder_log_access.md#L106)

### [qbuilder-subprocess-performance-fix.md](reviews/qbuilder-subprocess-performance-fix.md) ‚Äî 6.0 KB | Topic: qbuilder | Type: review

- [Problem Summary](reviews/qbuilder-subprocess-performance-fix.md#L9)
- [Recommended Fix Strategy](reviews/qbuilder-subprocess-performance-fix.md#L22)
  - [Phase 1: Immediate Unblock (Option A) ‚Äî 30 minutes](reviews/qbuilder-subprocess-performance-fix.md#L26)
  - [Phase 2: Worker Optimization (Option B) ‚Äî 2-4 hours](reviews/qbuilder-subprocess-performance-fix.md#L40)
  - [Phase 3: Architecture Cleanup (Option C) ‚Äî 1-2 hours](reviews/qbuilder-subprocess-performance-fix.md#L70)
- [Implementation Order](reviews/qbuilder-subprocess-performance-fix.md#L101)
- [Verification Plan](reviews/qbuilder-subprocess-performance-fix.md#L113)
  - [After Phase 1:](reviews/qbuilder-subprocess-performance-fix.md#L115)
  - [After Phase 2:](reviews/qbuilder-subprocess-performance-fix.md#L129)
  - [After Phase 3:](reviews/qbuilder-subprocess-performance-fix.md#L136)
- [Additional Notes](reviews/qbuilder-subprocess-performance-fix.md#L150)
  - [Nested Title Extraction](reviews/qbuilder-subprocess-performance-fix.md#L152)
  - [Content Hash Dedup](reviews/qbuilder-subprocess-performance-fix.md#L161)
- [References](reviews/qbuilder-subprocess-performance-fix.md#L167)

### [REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md) ‚Äî 7.4 KB | Topic: parser | Type: review

- [Executive Summary](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L10)
- [SECTION 0 ‚Äî Setup & Paths](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L18)
  - [0.1 Repo Root and Timestamp](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L20)
  - [0.2 Canonical Log Paths](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L27)
  - [0.3 Log Files Present](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L36)
- [SECTION A ‚Äî Static Checks](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L50)
  - [A1 Zero MCP-SYS-S-900 in Runtime Code](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L52)
  - [A4 Forbidden TYPE per LAYER](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L63)
- [SECTION B ‚Äî Runtime MCP Tool Reply Tests](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L76)
  - [B1 System-owned success (ungoverned)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L78)
  - [B2 Invalid input path (WA resolution failure)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L96)
  - [B3 Governance denial (EN-owned D)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L114)
  - [B5 Parser syntax errors](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L150)
  - [B6 Forced exception (MCP-E)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L169)
- [SECTION C ‚Äî Canonical Logs](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L187)
  - [Log Entries (Raw)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L189)
  - [Log Entry Verification](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L203)
- [SECTION D ‚Äî Decision Ownership Matrix](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L217)
  - [ck3_file (governed write)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L219)
  - [ck3_parse_content (parser)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L227)
  - [ck3_db_query (system tool)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L233)
- [SECTION E ‚Äî Final Checklist](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L242)
- [Enforcement Issues Found (Separate from Reply Codes)](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L256)
  - [Issue 1: Vanilla Write Not Denied](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L258)
  - [Issue 2: ck3raven-dev Addressing Inverted](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L270)
- [Conclusion](reviews/REPLY_CODE_VALIDATION_EVIDENCE_2026-02-03.md#L282)

### [REPLY_SYSTEM_VALIDATION_EVIDENCE.md](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md) ‚Äî 8.0 KB | Topic: policy | Type: review

- [Test 1 ‚Äî Successful Tool Execution](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L8)
  - [Reply](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L10)
  - [Log](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L15)
- [Test 2 ‚Äî Invalid Input](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L22)
  - [Reply](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L24)
  - [Log](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L29)
  - [Observation](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L34)
- [Test 3 ‚Äî Enforcement Denial (EN-Owned)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L39)
  - [Reply](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L41)
  - [Log](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L46)
- [Test 4 ‚Äî Ungoverned System Write (MCP-Owned)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L53)
  - [Reply](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L55)
  - [Log](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L60)
  - [Observation](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L65)
- [Test 5 ‚Äî Exception Path (Infrastructure Failure)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L70)
  - [Reply](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L72)
  - [Log](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L77)
- [Test 6 ‚Äî Legacy Code Elimination (Audit)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L84)
  - [Command](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L86)
  - [Output](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L91)
- [Test 7 ‚Äî Trace ‚Üî Log Correlation](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L98)
  - [Log Entry (trace_id: 707f8f0de4024b46)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L100)
  - [Trace Entry (file: 4fde-4b0dd3.jsonl)](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L105)
- [Test 8 ‚Äî Reply Code Format Validation](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L112)
  - [Unique Codes Observed](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L114)
  - [Format Check](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L125)
  - [Layer Type Enforcement](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L136)
- [Test Results with Pass/Fail Rationale](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L149)
- [Summary](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L164)
  - [Failures Requiring Remediation](reviews/REPLY_SYSTEM_VALIDATION_EVIDENCE.md#L171)

### [REVIEW_MCP_SYS_S_900_OCCURRENCES.md](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md) ‚Äî 5.2 KB | Topic: contract | Type: review

- [Executive Summary](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L9)
- [Attribution Process Applied](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L26)
- [Final Code Assignments](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L40)
  - [EN Layer (Governed Operations)](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L42)
  - [MCP Layer (System-Owned / Ungoverned)](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L51)
  - [WA Layer (World Structure / Reads)](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L65)
  - [CT Layer (Contract Lifecycle)](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L92)
- [Registry Updates Applied](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L103)
- [Validation](reviews/REVIEW_MCP_SYS_S_900_OCCURRENCES.md#L123)

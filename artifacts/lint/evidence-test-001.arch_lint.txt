============================================================
arch_lint Report
============================================================
Contract: evidence-test-001
Timestamp: 2026-01-20T08:28:17.547933+00:00
Lock Hash: 8454fe20a5d0eb3e026c542b72ecb12c038e961c672bf965c64b9da3079cf076
Lock Verified: True
Tool: tools/arch_lint v2.35
Exit Code: 1
Errors: 1
Warnings: 0

WATERMARK: lock=8454fe20a5d0eb3e026c542b72ecb12c038e961c672bf965c64b9da3079cf076 alg=sha256 ts=2026-01-20T08:28:17.547933+00:00

============================================================
STDOUT
============================================================
Scanned: 310 files under C:\Users\nateb\Documents\CK3 Mod Project 1.18\ck3raven
arch_lint v2.35
Errors: 1842  Warnings: 5295

ERROR MUTATOR-02 proofs/show_fifo.py:155:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 proofs/show_fifo.py:155:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 proofs/show_routing.py:22:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(routing_path, 'r') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 proofs/show_routing.py:22:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(routing_path, 'r') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 proofs/show_routing.py:139:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 proofs/show_routing.py:139:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 proofs/show_schema_compliance.py:241:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 proofs/show_schema_compliance.py:241:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(proof_file, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE qbuilder/writer_lock.py:1:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    """
ERROR BANNED_ORACLE qbuilder/writer_lock.py:2:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    Writer Lock — Single-Writer Guarantee for QBuilder Daemon.
ERROR MUTATOR-02 scripts/export_for_review.py:111:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, "r", encoding="utf-8", errors="ignore") as f:
    -> Route file writes through builder handles only.
ERROR IO-01 scripts/export_for_review.py:111:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, "r", encoding="utf-8", errors="ignore") as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR IO-01 scripts/export_for_review.py:149:40 [os.walk] — Raw I/O call 'os.walk(...)' outside allowed modules.
    for dirpath, dirnames, filenames in os.walk(root):
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 scripts/export_for_review.py:164:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, "r", encoding="utf-8") as f:
    -> Route file writes through builder handles only.
ERROR IO-01 scripts/export_for_review.py:164:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, "r", encoding="utf-8") as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 scripts/export_for_review.py:168:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, "r", encoding="latin-1") as f:
    -> Route file writes through builder handles only.
ERROR IO-01 scripts/export_for_review.py:168:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, "r", encoding="latin-1") as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 scripts/export_for_review.py:259:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(output_path, "w", encoding="utf-8") as f:
    -> Route file writes through builder handles only.
ERROR IO-01 scripts/export_for_review.py:259:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(output_path, "w", encoding="utf-8") as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 scripts/guards/code_diff_guard.py:416:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 scripts/guards/code_diff_guard.py:416:17 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-01 scripts/ingest_localization.py:228:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM localization_refs WHERE loc_id IN (SELECT loc_id FROM localization_entries WHERE parser_version_id = ?)", (parser_version_id,))
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 scripts/ingest_localization.py:229:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM localization_entries WHERE parser_version_id = ?", (parser_version_id,))
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 scripts/ingest_localization.py:231:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM localization_refs")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 scripts/ingest_localization.py:232:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM localization_entries")
    -> Route DB writes through builder handles only.
ERROR IO-01 scripts/install-hooks.py:30:4 [shutil.copy2] — Raw I/O call 'shutil.copy2(...)' outside allowed modules.
    shutil.copy2(src, dst)
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_TERM scripts/launcher_to_playset.py:22:0 [LOCAL_MODS] — Banned term 'LOCAL_MODS' used. Only 'local_mods_folder' is allowed.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
ERROR TRUTH-01 scripts/launcher_to_playset.py:22:0 [LOCAL_MODS] — Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope outside handles.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
    -> Delete parallel lists; derive visibility via WorldAdapter/Builder handles.
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:46:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "path": "C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game",
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:47:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "enabled": True
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:48:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    },
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:49:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:50:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods": [],
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:51:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "local_mods": [],
ERROR BANNED_COMPOSITE scripts/launcher_to_playset.py:82:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_TERM scripts/launcher_to_playset.py:104:36 [LOCAL_MODS] — Banned term 'LOCAL_MODS' used. Only 'local_mods_folder' is allowed.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:155:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print(f"  Output: {output_path}")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:156:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print()
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:157:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print("Next steps:")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:158:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print("  1. Edit the playset and fill in agent_briefing notes")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:159:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print("  2. Add local_mods entries for mods the agent can edit")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:160:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print("  3. Set is_compatch=true for compatibility patch mods")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:161:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    print("  4. Add mod_relationships for expected conflicts")
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:162:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR BANNED_ORACLE scripts/launcher_to_playset.py:163:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR MUTATOR-01 scripts/reset_asts.py:9:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute('DELETE FROM asts')
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 scripts/reset_asts.py:13:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("UPDATE build_queue SET status = 'pending' WHERE status = 'completed'")
    -> Route DB writes through builder handles only.
ERROR BANNED_ORACLE scripts/temp_w.py:641:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_w.py:642:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_w.py:643:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def check_closure_eligibility() -> tuple[bool, str]:
ERROR BANNED_ORACLE scripts/temp_w.py:644:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE scripts/temp_w.py:645:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if contract closure is allowed with current lock state.
ERROR BANNED_ORACLE scripts/temp_w.py:646:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_w.py:647:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Rules:
ERROR BANNED_ORACLE scripts/temp_w.py:648:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    1. Active lock must exist
ERROR BANNED_ORACLE scripts/temp_w.py:649:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    2. If proposed lock exists, active lock must match working tree
ERROR MUTATOR-03 scripts/temp_w2.py:153:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR MUTATOR-03 scripts/temp_wr.py:148:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR BANNED_ORACLE scripts/temp_write.py:641:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_write.py:642:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_write.py:643:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def check_closure_eligibility() -> tuple[bool, str]:
ERROR BANNED_ORACLE scripts/temp_write.py:644:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE scripts/temp_write.py:645:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if contract closure is allowed with current lock state.
ERROR BANNED_ORACLE scripts/temp_write.py:646:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE scripts/temp_write.py:647:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Rules:
ERROR BANNED_ORACLE scripts/temp_write.py:648:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    1. Active lock must exist
ERROR BANNED_ORACLE scripts/temp_write.py:649:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    2. If proposed lock exists, active lock must match working tree
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:34:1 — Path oracle: mod root — matched pattern 'mod%root'.
    priority: int = 5  # 1=critical, 5=low
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:35:1 — Path oracle: mod root — matched pattern 'mod%root'.
    is_cascading_root: bool = False
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:36:1 — Path oracle: mod root — matched pattern 'mod%root'.
    is_cascading_child: bool = False
ERROR MUTATOR-02 src/ck3raven/analyzers/error_parser.py:162:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(playset_json_path, 'r', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/analyzers/error_parser.py:162:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(playset_json_path, 'r', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/analyzers/error_parser.py:287:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/analyzers/error_parser.py:287:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:491:1 — Path oracle: mod root — matched pattern 'mod%root'.
    ]
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:492:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:493:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if len(same_mod_errors) >= 5:
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:494:1 — Path oracle: mod root — matched pattern 'mod%root'.
    cascade = CascadePattern(
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:495:1 — Path oracle: mod root — matched pattern 'mod%root'.
    root_error=encoding_error,
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:496:1 — Path oracle: mod root — matched pattern 'mod%root'.
    child_errors=same_mod_errors[:100],
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:497:1 — Path oracle: mod root — matched pattern 'mod%root'.
    pattern_type="mod_load_cascade",
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:498:1 — Path oracle: mod root — matched pattern 'mod%root'.
    confidence=0.9
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:499:1 — Path oracle: mod root — matched pattern 'mod%root'.
    )
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:500:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self.cascade_patterns.append(cascade)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/error_parser.py:501:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:67:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    gpu_adapter: Optional[str] = None
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:68:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    gpu_memory_mb: Optional[float] = None
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:69:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    worker_threads: Optional[int] = None
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:70:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    dlcs_enabled: List[str] = field(default_factory=list)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:71:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    mods_enabled: List[str] = field(default_factory=list)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:72:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    mods_disabled: List[str] = field(default_factory=list)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:73:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:74:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    def to_dict(self) -> Dict[str, Any]:
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:75:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    return asdict(self)
ERROR MUTATOR-02 src/ck3raven/analyzers/log_parser.py:275:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/analyzers/log_parser.py:275:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/analyzers/log_parser.py:320:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/analyzers/log_parser.py:320:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:352:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    if len(parts) >= 3:
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:353:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    mod_name = parts[0]
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:354:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    status = parts[2].strip()
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:355:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    if status == "Enabled":
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:356:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    self.debug_info.mods_enabled.append(mod_name)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:357:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    else:
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:358:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    self.debug_info.mods_disabled.append(mod_name)
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:359:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    continue
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:360:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:435:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "worker_threads": self.debug_info.worker_threads,
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:436:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    },
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:437:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "dlcs_enabled": len(self.debug_info.dlcs_enabled),
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:438:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "dlc_list": self.debug_info.dlcs_enabled,
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:439:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods_enabled": len(self.debug_info.mods_enabled),
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:440:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods_enabled_list": self.debug_info.mods_enabled,
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:441:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods_disabled": len(self.debug_info.mods_disabled),
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:442:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:443:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE src/ck3raven/analyzers/log_parser.py:444:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    def get_entries(
ERROR MUTATOR-02 src/ck3raven/analyzers/log_parser.py:540:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/analyzers/log_parser.py:540:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(log_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/cli.py:57:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(args.file, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/cli.py:57:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(args.file, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-01 src/ck3raven/db/cleanup.py:163:0 — SQL mutator detected outside builder/write-handle modules.
    cursor = conn.execute("DELETE FROM files WHERE deleted = 1")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-02 src/ck3raven/db/cryo.py:316:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with gzip.open(output_path, 'wb') as f:
    -> Route file writes through builder handles only.
ERROR MUTATOR-02 src/ck3raven/db/cryo.py:342:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with gzip.open(input_path, 'rb') as f:
    -> Route file writes through builder handles only.
ERROR MUTATOR-03 src/ck3raven/db/parser_version.py:32:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR DANGEROUS_IO src/ck3raven/db/parser_version.py:32:1 — Dangerous I/O 'subprocess.run' allowed only in builder/tools.
    result = subprocess.run(
ERROR IO-01 src/ck3raven/db/parser_version.py:32:17 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:61:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    UNIQUE(workshop_id)
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:62:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    );
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:63:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:64:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    -- Content versions - specific version of vanilla or a mod
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:65:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    -- Keyed by content_root_hash (hash of all file hashes + paths)
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:66:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    CREATE TABLE IF NOT EXISTS content_versions (
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:67:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    content_version_id INTEGER PRIMARY KEY AUTOINCREMENT,
ERROR BANNED_COMPOSITE src/ck3raven/db/schema.py:68:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    kind TEXT NOT NULL CHECK(kind IN ('vanilla', 'mod')),
ERROR MUTATOR-01 src/ck3raven/db/schema.py:967:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("INSERT INTO symbols ...")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 src/ck3raven/db/symbols.py:631:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM symbols WHERE ast_id = ?", (ast_id,))
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 src/ck3raven/db/symbols.py:672:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM refs WHERE ast_id = ?", (ast_id,))
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 src/ck3raven/db/symbols.py:896:0 — SQL mutator detected outside builder/write-handle modules.
    conn.execute("DELETE FROM symbols")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:94:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:94:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:116:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:116:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:232:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:232:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:263:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:263:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:271:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', newline='', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:271:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', newline='', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/emulator/exporter.py:311:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/emulator/exporter.py:311:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/parser/lexer.py:460:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(filepath, 'r', encoding=encoding) as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/parser/lexer.py:460:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(filepath, 'r', encoding=encoding) as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/parser/parser.py:995:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(filepath, 'r', encoding=encoding) as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/parser/parser.py:995:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(filepath, 'r', encoding=encoding) as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 src/ck3raven/parser/runtime.py:112:0 — Subprocess/system call detected outside builder/write-handle modules.
    proc = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR DANGEROUS_IO src/ck3raven/parser/runtime.py:112:1 — Dangerous I/O 'subprocess.run' allowed only in builder/tools.
    proc = subprocess.run(
ERROR IO-01 src/ck3raven/parser/runtime.py:112:15 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    proc = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 src/ck3raven/parser/runtime.py:122:0 — Subprocess/system call detected outside builder/write-handle modules.
    # subprocess.run automatically kills the process on TimeoutExpired
    -> Route side-effecting exec through builder handles only.
ERROR DANGEROUS_IO src/ck3raven/parser/runtime.py:122:1 — Dangerous I/O 'subprocess.run' allowed only in builder/tools.
    # subprocess.run automatically kills the process on TimeoutExpired
ERROR BANNED_COMPOSITE src/ck3raven/resolver/report.py:752:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    WHERE pm.playset_id = ? AND pm.enabled = 1
ERROR BANNED_COMPOSITE src/ck3raven/resolver/report.py:753:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    ORDER BY pm.load_order_index ASC
ERROR BANNED_COMPOSITE src/ck3raven/resolver/report.py:754:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    """, (playset_id,)).fetchall()
ERROR BANNED_COMPOSITE src/ck3raven/resolver/report.py:755:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE src/ck3raven/resolver/report.py:756:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    for mod in mods:
ERROR MUTATOR-02 src/ck3raven/resolver/report.py:1190:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, "w", encoding="utf-8") as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/resolver/report.py:1190:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, "w", encoding="utf-8") as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:422:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    List of SourceFile objects for all .txt files found
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:482:1 — Path oracle: mod root — matched pattern 'mod%root'.
    """
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:482:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    """
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:483:1 — Path oracle: mod root — matched pattern 'mod%root'.
    Add a source (vanilla or mod) to the playset.
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:483:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    Add a source (vanilla or mod) to the playset.
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:484:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:484:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:485:1 — Path oracle: mod root — matched pattern 'mod%root'.
    Args:
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:485:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    Args:
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:486:1 — Path oracle: mod root — matched pattern 'mod%root'.
    path: Path to the source root (game folder or mod folder)
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:486:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    path: Path to the source root (game folder or mod folder)
ERROR BANNED_COMPOSITE src/ck3raven/resolver/resolver.py:487:1 — Path oracle: mod root — matched pattern 'mod%root'.
    name: Display name for the source (defaults to folder name)
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:487:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    name: Display name for the source (defaults to folder name)
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:488:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    load_order: Order in load sequence (auto-increments if not provided)
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:489:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
ERROR BANNED_NEAR src/ck3raven/resolver/resolver.py:490:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    Returns:
ERROR MUTATOR-02 src/ck3raven/tools/conflicts.py:298:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(args.output, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/conflicts.py:298:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(args.output, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/format.py:210:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, 'r', encoding='utf-8-sig') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/format.py:210:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, 'r', encoding='utf-8-sig') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/format.py:233:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/format.py:233:21 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/format.py:288:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(args.path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/format.py:288:21 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(args.path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/merge.py:250:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(args.output, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/merge.py:250:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(args.output, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/refdb.py:116:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/refdb.py:116:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/refdb.py:122:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'r', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/refdb.py:122:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'r', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/schema.py:239:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(output_path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/schema.py:239:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(output_path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/schema.py:245:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(input_path, 'r', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/schema.py:245:13 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(input_path, 'r', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 src/ck3raven/tools/trace.py:28:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, 'r', encoding='utf-8-sig') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 src/ck3raven/tools/trace.py:28:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, 'r', encoding='utf-8-sig') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE src/ck3raven/tools/trace.py:112:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    parser = argparse.ArgumentParser(description="Trace a key through the mod pipeline")
ERROR BANNED_COMPOSITE src/ck3raven/tools/trace.py:113:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    parser.add_argument("key", help="The key to trace (e.g., tradition_roman_legacy)")
ERROR BANNED_COMPOSITE src/ck3raven/tools/trace.py:114:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    parser.add_argument("--type", "-t", default="traditions",
ERROR BANNED_COMPOSITE src/ck3raven/tools/trace.py:115:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    help="Content type to search")
ERROR BANNED_COMPOSITE src/ck3raven/tools/trace.py:116:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    parser.add_argument("--paths", "-p", nargs="+", type=Path,
ERROR BANNED_ORACLE tests/test_builder_daemon.py:8:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    3. The database contains expected tables and data
ERROR BANNED_ORACLE tests/test_builder_daemon.py:9:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    4. Build steps are recorded properly
ERROR BANNED_ORACLE tests/test_builder_daemon.py:10:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
ERROR BANNED_ORACLE tests/test_builder_daemon.py:11:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    This is the ONLY place where the full pipeline should be tested.
ERROR BANNED_ORACLE tests/test_builder_daemon.py:12:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    Side scripts that bypass the builder are not permitted.
ERROR BANNED_ORACLE tests/test_builder_daemon.py:13:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    """
ERROR BANNED_ORACLE tests/test_builder_daemon.py:14:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
ERROR BANNED_ORACLE tests/test_builder_daemon.py:15:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    import sys
ERROR BANNED_COMPOSITE tools/arch_lint/__init__.py:7:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    - Concept explosion (Lens*, PlaysetLens, etc.)
ERROR BANNED_NEAR tools/arch_lint/__init__.py:7:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - Concept explosion (Lens*, PlaysetLens, etc.)
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:7:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - Concept explosion (Lens*, PlaysetLens, etc.)
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:7:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Concept explosion (Lens*, PlaysetLens, etc.)
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:7:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - Concept explosion (Lens*, PlaysetLens, etc.)
ERROR BANNED_COMPOSITE tools/arch_lint/__init__.py:8:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    - Raw I/O outside handles
ERROR BANNED_NEAR tools/arch_lint/__init__.py:8:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - Raw I/O outside handles
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:8:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - Raw I/O outside handles
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:8:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Raw I/O outside handles
ERROR BANNED_ORACLE tools/arch_lint/__init__.py:8:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - Raw I/O outside handles
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    "is_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    "is_editable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    "is_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    "is_path_allowed",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_path_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_path_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_path_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_path_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "is_path_writable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_permitted",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_permitted",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_permitted",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_permitted",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "is_permitted",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "is_mutable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "is_mutable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "is_mutable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "is_mutable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "is_mutable",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "writable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "writable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "writable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "writable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "writable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "editable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "editable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "editable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "editable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    "editable_mod",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "mod_write",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "mod_write",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    "mod_write",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "mod_write",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    "mod_write",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:42:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "mod_read",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:42:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    "mod_read",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:42:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    "mod_read",
ERROR BANNED_ORACLE tools/arch_lint/patterns.py:42:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    "mod_read",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:52:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:52:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:52:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "live_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:52:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "live_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:52:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:53:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "live_mods_config",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:53:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "live_mods_config",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:53:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "live_mods_config",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:53:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "live_mods_config",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:53:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "live_mods_config",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:54:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "default_live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:54:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "default_live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:54:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "default_live_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:54:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "default_live_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:54:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "default_live_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:55:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "active_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:55:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "active_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:55:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "active_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:55:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "active_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:55:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "active_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:56:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "enabled_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:56:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "enabled_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:56:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "enabled_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:56:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "enabled_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:56:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "enabled_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:57:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "mod_groups",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:57:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mod_groups",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:57:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_groups",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:57:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "mod_groups",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:57:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mod_groups",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:58:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "allowed_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:58:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "allowed_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:58:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "allowed_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:58:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "allowed_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:58:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "allowed_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:59:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mutable_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:59:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mutable_mods",
ERROR BANNED_NEAR tools/arch_lint/patterns.py:59:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mutable_mods",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:60:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_whitelist",
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:168:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:168:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
ERROR BANNED_NEAR tools/arch_lint/patterns.py:168:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
ERROR BANNED_NEAR tools/arch_lint/patterns.py:168:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:169:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:169:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
ERROR BANNED_NEAR tools/arch_lint/patterns.py:169:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
ERROR BANNED_NEAR tools/arch_lint/patterns.py:169:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:170:1 — Parallel truth: live mods — matched pattern 'live%mods'.
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:170:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/arch_lint/patterns.py:170:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/arch_lint/patterns.py:170:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/arch_lint/patterns.py:171:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    # Exception/fallback patterns (v2.32)
ERROR BANNED_NEAR tools/arch_lint/patterns.py:171:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    # Exception/fallback patterns (v2.32)
ERROR MUTATOR-02 tools/arch_lint/patterns.py:315:0 — Filesystem write mutator detected outside builder/write-handle modules.
    "Path.write_text",
    -> Route file writes through builder handles only.
ERROR MUTATOR-02 tools/arch_lint/patterns.py:316:0 — Filesystem write mutator detected outside builder/write-handle modules.
    "Path.write_bytes",
    -> Route file writes through builder handles only.
ERROR MUTATOR-02 tools/arch_lint/patterns.py:317:0 — Filesystem write mutator detected outside builder/write-handle modules.
    "Path.open",
    -> Route file writes through builder handles only.
ERROR MUTATOR-03 tools/arch_lint/patterns.py:339:0 — Subprocess/system call detected outside builder/write-handle modules.
    "subprocess.run",
    -> Route side-effecting exec through builder handles only.
ERROR MUTATOR-03 tools/arch_lint/patterns.py:340:0 — Subprocess/system call detected outside builder/write-handle modules.
    "subprocess.Popen",
    -> Route side-effecting exec through builder handles only.
ERROR MUTATOR-03 tools/arch_lint/patterns.py:346:0 — Subprocess/system call detected outside builder/write-handle modules.
    "subprocess.run",
    -> Route side-effecting exec through builder handles only.
ERROR MUTATOR-03 tools/arch_lint/patterns.py:347:0 — Subprocess/system call detected outside builder/write-handle modules.
    "subprocess.Popen",
    -> Route side-effecting exec through builder handles only.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    _RX_ORACLE_NAME = [
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    re.compile(r"^can_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    re.compile(r"^may_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    re.compile(r"^allowed_", re.IGNORECASE),
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:68:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:68:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:68:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_NEAR tools/arch_lint/rules.py:68:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_NEAR tools/arch_lint/rules.py:68:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:69:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    ]
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:69:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    ]
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:69:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    ]
ERROR BANNED_NEAR tools/arch_lint/rules.py:69:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    ]
ERROR BANNED_NEAR tools/arch_lint/rules.py:69:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    ]
ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: may_write pattern — matched pattern 'may%write'.
    ]
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:70:1 — Parallel truth: live mods — matched pattern 'live%mods'.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:70:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:70:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_NEAR tools/arch_lint/rules.py:70:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/arch_lint/rules.py:70:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: may_write pattern — matched pattern 'may%write'.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:71:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:71:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:71:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_NEAR tools/arch_lint/rules.py:71:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_NEAR tools/arch_lint/rules.py:71:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    _RX_PARALLEL_TRUTH = re.compile(
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:72:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:72:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:72:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_NEAR tools/arch_lint/rules.py:72:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_NEAR tools/arch_lint/rules.py:72:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_mutable pattern — matched pattern 'is%mutable'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:73:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:73:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:73:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
ERROR BANNED_NEAR tools/arch_lint/rules.py:73:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
ERROR BANNED_NEAR tools/arch_lint/rules.py:73:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:74:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    re.IGNORECASE
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:74:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    re.IGNORECASE
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:74:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    re.IGNORECASE
ERROR BANNED_NEAR tools/arch_lint/rules.py:74:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    re.IGNORECASE
ERROR BANNED_NEAR tools/arch_lint/rules.py:74:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    re.IGNORECASE
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:75:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    )
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:75:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    )
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:75:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    )
ERROR BANNED_NEAR tools/arch_lint/rules.py:75:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    )
ERROR BANNED_NEAR tools/arch_lint/rules.py:75:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    )
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:76:1 — Parallel truth: live mods — matched pattern 'live%mods'.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:76:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:76:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_NEAR tools/arch_lint/rules.py:76:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/arch_lint/rules.py:76:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR CONCEPT-01 tools/arch_lint/rules.py:77:0 [_RX_LENS_CTOR] — Concept explosion: Lens-like noun '_RX_LENS_CTOR' overlaps Session/WorldAdapter/handles.
    _RX_LENS_CTOR = re.compile(
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR ORACLE-02 tools/arch_lint/rules.py:227:12 — Permission branching / oracle-style gating detected in if-condition.
    if allowed_context in line_text:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:276:1 — Path oracle: mod root — matched pattern 'mod%root'.
    severity=kind,
ERROR BANNED_NEAR tools/arch_lint/rules.py:276:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    severity=kind,
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:288:1 — Path oracle: mod root — matched pattern 'mod%root'.
    continue
ERROR BANNED_NEAR tools/arch_lint/rules.py:288:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    continue
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:289:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if window_equals_allowlisted(tokens, span):
ERROR BANNED_NEAR tools/arch_lint/rules.py:289:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    if window_equals_allowlisted(tokens, span):
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:290:1 — Path oracle: mod root — matched pattern 'mod%root'.
    continue
ERROR BANNED_NEAR tools/arch_lint/rules.py:290:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    continue
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:291:1 — Path oracle: mod root — matched pattern 'mod%root'.
    # Narrow fix: suppress mod/root near-matches in SQL context or benign phrases
ERROR BANNED_NEAR tools/arch_lint/rules.py:291:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    # Narrow fix: suppress mod/root near-matches in SQL context or benign phrases
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:292:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if required == frozenset({"mod", "root"}) and (is_sql_context(window_text) or has_benign_phrase(window_text)):
ERROR BANNED_NEAR tools/arch_lint/rules.py:292:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    if required == frozenset({"mod", "root"}) and (is_sql_context(window_text) or has_benign_phrase(window_text)):
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:293:1 — Path oracle: mod root — matched pattern 'mod%root'.
    continue
ERROR BANNED_NEAR tools/arch_lint/rules.py:293:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    continue
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:294:1 — Path oracle: mod root — matched pattern 'mod%root'.
    findings.append(Finding(
ERROR BANNED_NEAR tools/arch_lint/rules.py:294:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    findings.append(Finding(
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:295:1 — Path oracle: mod root — matched pattern 'mod%root'.
    rule_id=code,
ERROR BANNED_NEAR tools/arch_lint/rules.py:295:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    rule_id=code,
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:296:1 — Path oracle: mod root — matched pattern 'mod%root'.
    severity=kind,
ERROR BANNED_NEAR tools/arch_lint/rules.py:296:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    severity=kind,
ERROR BANNED_ORACLE tools/arch_lint/rules.py:470:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    path=rel,
ERROR BANNED_ORACLE tools/arch_lint/rules.py:471:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    line=line,
ERROR BANNED_ORACLE tools/arch_lint/rules.py:472:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    col=col,
ERROR BANNED_ORACLE tools/arch_lint/rules.py:473:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    message=f"Suspicious .resolve() call on '{m.group('base')}'. "
ERROR BANNED_ORACLE tools/arch_lint/rules.py:474:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    f"Only WorldAdapter (world.resolve()) is allowed.",
ERROR BANNED_ORACLE tools/arch_lint/rules.py:475:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    evidence=line_text.strip()[:240],
ERROR BANNED_ORACLE tools/arch_lint/rules.py:476:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    ))
ERROR BANNED_ORACLE tools/arch_lint/rules.py:477:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/arch_lint/rules.py:478:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    return findings
ERROR CONCEPT-03 tools/arch_lint/rules.py:771:16 [Lens] — Concept explosion: constructor 'Lens(...)' suggests creating Lens objects.
    # Check for Lens(...) constructor calls
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:864:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "visible_cvids", "db_visibility",
ERROR BANNED_NEAR tools/arch_lint/rules.py:864:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "visible_cvids", "db_visibility",
ERROR BANNED_ORACLE tools/arch_lint/rules.py:864:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "visible_cvids", "db_visibility",
ERROR BANNED_ORACLE tools/arch_lint/rules.py:864:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "visible_cvids", "db_visibility",
ERROR BANNED_COMPOSITE tools/arch_lint/rules.py:865:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    "active_playset_data", "active_playset_file",
ERROR BANNED_NEAR tools/arch_lint/rules.py:865:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    "active_playset_data", "active_playset_file",
ERROR BANNED_ORACLE tools/arch_lint/rules.py:865:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    "active_playset_data", "active_playset_file",
ERROR BANNED_ORACLE tools/arch_lint/rules.py:865:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "active_playset_data", "active_playset_file",
ERROR CONCEPT-01 tools/ck3lens-explorer/bridge/server.py:95:0 [CK3LensBridge] — Concept explosion: Lens-like noun 'CK3LensBridge' overlaps Session/WorldAdapter/handles.
    class CK3LensBridge:
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:219:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:219:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:221:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active = playset_ops.get_active_playset()
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:221:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    active = playset_ops.get_active_playset()
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:222:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if active.get("success"):
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:222:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if active.get("success"):
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:224:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:224:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:225:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # Create WorldAdapter with mods[] for visibility
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:225:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    # Create WorldAdapter with mods[] for visibility
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:226:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    self._world = WorldAdapter(
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:226:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    self._world = WorldAdapter(
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:227:1 — Path oracle: mod root — matched pattern 'mod%root'.
    mode="ck3lens",
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:227:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    mode="ck3lens",
ERROR BANNED_TERM tools/ck3lens-explorer/bridge/server.py:625:24 [visible_cvids] — Banned term 'visible_cvids' used.
    cvids = dbh.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:693:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    except Exception as e:
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:694:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    return {"error": str(e), "conflicts": []}
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:695:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:695:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:696:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    def get_playset_mods(self, params: dict) -> dict:
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:696:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    def get_playset_mods(self, params: dict) -> dict:
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:697:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    """Get mods in the active playset using playset_ops."""
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:697:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    """Get mods in the active playset using playset_ops."""
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:698:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if not IMPL_AVAILABLE:
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:698:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if not IMPL_AVAILABLE:
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:699:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    return {"error": "playset_ops not available", "mods": []}
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:699:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    return {"error": "playset_ops not available", "mods": []}
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:700:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:700:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:701:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    result = playset_ops.get_playset_mods()
ERROR BANNED_NEAR tools/ck3lens-explorer/bridge/server.py:701:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    result = playset_ops.get_playset_mods()
ERROR BANNED_TERM tools/ck3lens-explorer/bridge/server.py:727:24 [visible_cvids] — Banned term 'visible_cvids' used.
    cvids = dbh.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR ORACLE-02 tools/ck3lens-explorer/bridge/server.py:784:8 — Permission branching / oracle-style gating detected in if-condition.
    if not self._local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR ORACLE-02 tools/ck3lens-explorer/bridge/server.py:803:8 — Permission branching / oracle-style gating detected in if-condition.
    if not self._local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR ORACLE-02 tools/ck3lens-explorer/bridge/server.py:818:8 — Permission branching / oracle-style gating detected in if-condition.
    if not self._local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR MUTATOR-03 tools/ck3lens-explorer/bridge/server.py:827:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens-explorer/bridge/server.py:827:21 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:894:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "mod_name": e.mod_name,
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:895:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "category": e.category,
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:896:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "priority": e.priority,
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:897:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "fix_hint": getattr(e, 'fix_hint', None),
ERROR BANNED_COMPOSITE tools/ck3lens-explorer/bridge/server.py:898:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "is_cascading_root": e.is_cascading_root
ERROR ORACLE-02 tools/ck3lens-explorer/bridge/server.py:960:8 — Permission branching / oracle-style gating detected in if-condition.
    if not self._local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:209:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:210:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    def enqueue_files(
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:211:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:212:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    paths: list[str],
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:213:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:214:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    priority: str = "normal",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:215:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    reason: str = "user_request",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:216:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    ) -> dict:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:217:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:218:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    Request daemon to process files.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:219:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:220:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    Args:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:221:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    paths: List of absolute file paths to process
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:222:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional mod name (for path resolution)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:223:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    priority: "normal" or "high"
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:224:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    reason: Why files need processing
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:225:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:226:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Returns:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:230:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    "paths": [str(p) for p in paths],
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:231:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    "priority": priority,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:232:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    "reason": reason,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:233:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    }
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:234:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if mod_name:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:299:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:299:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:300:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    This is the method MCP tools should call after writing to mod files.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:300:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    This is the method MCP tools should call after writing to mod files.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:301:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:301:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:302:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    return self.enqueue_files(
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:302:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    return self.enqueue_files(
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:303:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    paths=[path],
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:303:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    paths=[path],
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:304:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    mod_name=mod_name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:304:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name=mod_name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:305:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    priority="high",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:305:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    priority="high",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:306:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    reason="file_changed",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:306:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    reason="file_changed",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:307:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    )
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/daemon_client.py:307:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    )
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/daemon_client.py:308:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR MUTATOR-01 tools/ck3lens_mcp/ck3lens/db_api.py:47:0 — SQL mutator detected outside builder/write-handle modules.
    Any attempt to execute INSERT/UPDATE/DELETE will fail at the SQLite layer.
    -> Route DB writes through builder handles only.
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/db_queries.py:17:2 [invalidate_lens_cache] — Concept explosion: constructor 'invalidate_lens_cache(...)' suggests creating Lens objects.
    - invalidate_lens_cache() method
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/db_queries.py:144:6 [invalidate_lens_cache] — Concept explosion: constructor 'invalidate_lens_cache(...)' suggests creating Lens objects.
    - invalidate_lens_cache() - REMOVED
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:169:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:170:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    This is a static helper, NOT an instance method that could be overridden.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:171:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:172:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Args:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:173:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    cvids: FrozenSet of allowed cvids, or None for no filter
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/db_queries.py:174:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    column: Column name (default: content_version_id)
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/db_queries.py:213:27 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    return str(Path(path).resolve()).lower().replace("\\", "/").rstrip("/")
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:313:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:354:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:447:75 [visible_cvids] — Banned term 'visible_cvids' used.
    refs = self._get_references_for_symbols_internal(symbol_names, visible_cvids, file_pattern, limit)
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:475:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:492:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:560:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]]
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:572:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:572:26 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:594:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:611:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:685:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:703:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:750:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:784:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:935:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:959:78 [visible_cvids] — Banned term 'visible_cvids' used.
    "playset": playset_name if playset_name else ("ACTIVE PLAYSET" if visible_cvids else "ALL CONTENT"),
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:974:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:974:26 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:993:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:993:26 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1009:65 [visible_cvids] — Banned term 'visible_cvids' used.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1009:79 [visible_cvids] — Banned term 'visible_cvids' used.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1026:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]]
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1038:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1084:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]]
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1096:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1121:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1135:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1187:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]],
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1202:15 [visible_cvids] — Banned term 'visible_cvids' used.
    if not visible_cvids:
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1205:40 [visible_cvids] — Banned term 'visible_cvids' used.
    cv_filter = self._cv_filter_sql(visible_cvids, "s.content_version_id")
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1372:31 [visible_cvids] — Banned term 'visible_cvids' used.
    cvids = visibility.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/git_ops.py:33:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/git_ops.py:33:17 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/conflict_ops.py:31:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/conflict_ops.py:32:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Args:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/conflict_ops.py:33:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    conn: Database connection
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/conflict_ops.py:34:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    cvids: Set of content_version_ids to filter to
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:62:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    if f.name.endswith(".schema.json") or f.name == "playset_manifest.json" or f.name == "sub_agent_templates.json":
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:63:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    continue
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:64:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    try:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:65:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    data = json.loads(f.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:66:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:66:12 [enabled_mods] — Banned term 'enabled_mods' used.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:67:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    playsets.append({
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:68:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "filename": f.name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:68:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "filename": f.name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:69:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "name": data.get("playset_name", f.stem),
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:69:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "name": data.get("playset_name", f.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:70:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "description": data.get("description", ""),
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:70:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "description": data.get("description", ""),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:71:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:71:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mod_count": len(enabled_mods),
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:71:33 [enabled_mods] — Banned term 'enabled_mods' used.
    "mod_count": len(enabled_mods),
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:72:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "is_active": f.name == manifest_active,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:72:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "is_active": f.name == manifest_active,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:73:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    })
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:73:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    })
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:74:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    except Exception as e:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:74:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    except Exception as e:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:75:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    playsets.append({
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:75:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playsets.append({
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:128:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "source": "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:128:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "source": "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:129:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:129:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:130:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:130:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:131:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    data = json.loads(active_file.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:131:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    data = json.loads(active_file.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:132:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:132:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:132:8 [enabled_mods] — Banned term 'enabled_mods' used.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:133:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:133:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:134:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    return {
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:134:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    return {
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:135:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:135:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:136:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "active_file": active_filename,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:136:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "active_file": active_filename,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:137:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "playset_name": data.get("playset_name", active_file.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:137:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "playset_name": data.get("playset_name", active_file.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:137:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "playset_name": data.get("playset_name", active_file.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:138:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "source": "json",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:138:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "source": "json",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:138:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "source": "json",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:139:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:139:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:139:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "mod_count": len(enabled_mods),
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:139:29 [enabled_mods] — Banned term 'enabled_mods' used.
    "mod_count": len(enabled_mods),
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:140:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "has_agent_briefing": bool(data.get("agent_briefing")),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:140:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "has_agent_briefing": bool(data.get("agent_briefing")),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:140:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "has_agent_briefing": bool(data.get("agent_briefing")),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:141:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "vanilla_root": data.get("vanilla", {}).get("path"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:141:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "vanilla_root": data.get("vanilla", {}).get("path"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:141:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_root": data.get("vanilla", {}).get("path"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:142:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:142:1 — Path oracle: mod root — matched pattern 'mod%root'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:143:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:143:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:148:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "source": "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:149:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:150:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:151:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:153:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playsets_dir: Optional[Path] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:154:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    limit: Optional[int] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:155:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    ) -> dict:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:156:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:157:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Get mods in the active playset.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:157:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Get mods in the active playset.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:158:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:158:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:159:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Args:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:159:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Args:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:160:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    playsets_dir: Path to playsets directory
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:160:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playsets_dir: Path to playsets directory
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:161:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    limit: Maximum mods to return (None = all)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:161:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    limit: Maximum mods to return (None = all)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:171:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if not active.get("success"):
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:171:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if not active.get("success"):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:172:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    return {
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:172:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    return {
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:173:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "success": False,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:173:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "success": False,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:174:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "error": active.get("error", "No active playset"),
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:174:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "error": active.get("error", "No active playset"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:175:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mods": []
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:175:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mods": []
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:176:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:176:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:177:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:177:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:178:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    manifest_file = playsets_dir / "playset_manifest.json"
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:178:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    manifest_file = playsets_dir / "playset_manifest.json"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:180:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_filename = manifest.get("active", "")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:181:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_file = playsets_dir / active_filename
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:182:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:183:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    data = json.loads(active_file.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:184:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mod_list = data.get("mods", [])
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:185:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:186:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    enabled = [m for m in mod_list if m.get("enabled", True)]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:187:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    disabled = [m for m in mod_list if not m.get("enabled", True)]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:190:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:190:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:191:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "playset_name": data.get("playset_name", active_file.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:191:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "playset_name": data.get("playset_name", active_file.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:192:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "enabled_count": len(enabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:192:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "enabled_count": len(enabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:193:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "disabled_count": len(disabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:193:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "disabled_count": len(disabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:194:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mods": enabled[:limit] if limit else enabled,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:194:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods": enabled[:limit] if limit else enabled,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:195:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "truncated": limit is not None and len(enabled) > limit,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:195:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "truncated": limit is not None and len(enabled) > limit,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:196:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:252:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "notes": "Updated by playset_ops.switch_playset"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:252:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "notes": "Updated by playset_ops.switch_playset"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:253:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:253:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:254:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    manifest_file.write_text(json.dumps(manifest, indent=2), encoding='utf-8')
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:254:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    manifest_file.write_text(json.dumps(manifest, indent=2), encoding='utf-8')
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:255:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:256:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    enabled_mods = [m for m in playset_data.get("mods", []) if m.get("enabled", True)] if playset_data else []
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:256:4 [enabled_mods] — Banned term 'enabled_mods' used.
    enabled_mods = [m for m in playset_data.get("mods", []) if m.get("enabled", True)] if playset_data else []
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:257:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:258:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    return {
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:259:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:259:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:260:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "message": f"Switched to playset: {target_file.name}",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:260:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "message": f"Switched to playset: {target_file.name}",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:261:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "active_playset": target_file.name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:261:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "active_playset": target_file.name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:262:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "playset_name": playset_data.get("playset_name") if playset_data else target_file.stem,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:262:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "playset_name": playset_data.get("playset_name") if playset_data else target_file.stem,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:263:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:263:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:263:25 [enabled_mods] — Banned term 'enabled_mods' used.
    "mod_count": len(enabled_mods),
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:264:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:264:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:265:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:265:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:266:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:267:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    def reorder_mod(
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:307:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    data = json.loads(active_file.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:308:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    except Exception as e:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:309:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    return {"success": False, "error": f"Failed to read playset: {e}"}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:310:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:311:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mods = data.get("mods", [])
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:333:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:334:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    # Write back
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:335:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    data["mods"] = mods
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:336:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    try:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:337:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    active_file.write_text(json.dumps(data, indent=2), encoding="utf-8")
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:338:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    except Exception as e:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:339:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    return {"success": False, "error": f"Failed to write playset: {e}"}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:5:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:6:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    PROBLEM:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:7:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Playset JSON files contain absolute paths like:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:8:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    C:\Users\nateb\Documents\Paradox Interactive\Crusader Kings III\mod
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:9:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    When pulled to a different machine (user Nathan), these paths don't exist.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:10:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:11:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    SOLUTION:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:12:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    1. Detect path mismatches at playset load time
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:111:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:111:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:112:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Mod paths
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:112:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Mod paths
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:113:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for i, mod in enumerate(data.get("mods", [])):
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:113:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for i, mod in enumerate(data.get("mods", [])):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:114:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if "path" in mod:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:114:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if "path" in mod:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:115:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    paths_to_check.append((f"mods[{i}].path", mod.get("path", "")))
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:115:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    paths_to_check.append((f"mods[{i}].path", mod.get("path", "")))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:116:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:116:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:117:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Vanilla path
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:117:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Vanilla path
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:118:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    vanilla = data.get("vanilla", {})
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:118:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    vanilla = data.get("vanilla", {})
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:119:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if "path" in vanilla:
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:34:4 [LENSWORLD] — Banned term 'LENSWORLD' used.
    LENSWORLD = "lensworld"
    -> Remove/rename to canonical architecture.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:62:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:63:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Scope context (optional)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:64:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path: Optional[str]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:65:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths: Optional[list[str]]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:66:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional[str]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:67:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command: Optional[str]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:68:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:69:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Git-specific (optional)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:103:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    required_token_type: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:104:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:105:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:106:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths: Optional[list[str]] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:107:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:108:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:109:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:110:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    branch: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:157:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    token_id: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:158:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    required_token_type: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:159:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:160:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths: Optional[list[str]] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:161:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:162:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:163:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    branch: Optional[str] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:164:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    staged_files: Optional[list[str]] = None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:184:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    token_id=token_id,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:185:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    required_token_type=required_token_type,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:186:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path=target_path,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:187:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths=target_paths,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:188:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name=mod_name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:189:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command=command,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:190:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    branch=branch,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/audit.py:191:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    staged_files=staged_files,
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/policy/audit.py:253:8 [log_lensworld_resolution] — Concept explosion: constructor 'log_lensworld_resolution(...)' suggests creating Lens objects.
    def log_lensworld_resolution(
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:262:35 [LENSWORLD] — Banned term 'LENSWORLD' used.
    f"audit.{EventCategory.LENSWORLD.value}",
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:265:48 [LENSWORLD] — Banned term 'LENSWORLD' used.
    "event_category": EventCategory.LENSWORLD.value,
    -> Remove/rename to canonical architecture.
ERROR ORACLE-01 tools/ck3lens_mcp/ck3lens/policy/capability_matrix.py:106:0 [is_authorized] — Oracle-style symbol 'is_authorized' is banned outside enforcement.
    def is_authorized(
    -> Delete oracle helpers; gate mutations via handles/policy at boundary.
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/capability_matrix.py:202:8 — Permission branching / oracle-style gating detected in if-condition.
    if not is_authorized(mode, root, op):
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:5:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Implements the CK3LENS_POLICY_ARCHITECTURE.md specification.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:6:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:6:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:7:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Core Invariants:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:7:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Core Invariants:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:8:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    1. Mods must be ingested into the database to be visible
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:8:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    1. Mods must be ingested into the database to be visible
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:9:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    2. Only mods in the active playset are visible by default
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:9:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    2. Only mods in the active playset are visible by default
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:10:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    3. Only active local mods are mutable
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:10:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    3. Only active local mods are mutable
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:11:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    4. Vanilla and workshop mods are always immutable
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:11:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    4. Vanilla and workshop mods are always immutable
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    5. Filesystem access never expands mod discovery
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    5. Filesystem access never expands mod discovery
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    5. Filesystem access never expands mod discovery
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    6. ck3lens cannot write Python except to the WIP workspace
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    6. ck3lens cannot write Python except to the WIP workspace
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    6. ck3lens cannot write Python except to the WIP workspace
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    7. ck3raven source is read-only (no writes even with contract)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    7. ck3raven source is read-only (no writes even with contract)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    7. ck3raven source is read-only (no writes even with contract)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:15:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:16:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:17:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    They CANNOT edit Python code, core ck3raven code, or any infrastructure files
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:18:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    (except Python in the WIP workspace for temporary scripts).
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:19:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:20:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    from __future__ import annotations
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:113:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Classify a path into its scope domain.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:113:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    Classify a path into its scope domain.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:114:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:114:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:115:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Returns the ScopeDomain for structural classification only (NOT permissions).
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:115:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    Returns the ScopeDomain for structural classification only (NOT permissions).
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:116:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:116:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:118:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:118:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:119:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if isinstance(path, str):
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:119:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if isinstance(path, str):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:120:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    path = Path(path)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:120:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    path = Path(path)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:121:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:121:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:142:4 — Permission branching / oracle-style gating detected in if-condition.
    if local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:176:0 [enforce_ck3lens_file_restrictions] — Concept explosion: Lens-like noun 'enforce_ck3lens_file_restrictions' overlaps Session/WorldAdapter/handles.
    def enforce_ck3lens_file_restrictions(
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:179:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    violations: list[Violation],
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:180:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    summary: dict[str, Any],
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:181:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    ) -> None:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:182:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:183:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    Enforce: ck3lens agents can ONLY edit CK3 mod files (plus Python in WIP).
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:184:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:185:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    Rule: no_python_editing (except WIP), local_mods_only
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:186:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    Severity: ERROR (HARD GATE)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:187:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:374:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    extra = scope["mod_ids"] - ctx.active_mod_ids
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:374:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    extra = scope["mod_ids"] - ctx.active_mod_ids
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:375:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    out_of_scope_calls.append({
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:375:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    out_of_scope_calls.append({
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:376:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "tool": call.name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:376:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "tool": call.name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:377:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "reason": "mod_ids_outside_active_playset",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:377:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "reason": "mod_ids_outside_active_playset",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:378:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "extra_mods": list(extra),
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:378:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "extra_mods": list(extra),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:379:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    })
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:379:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    })
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:379:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    })
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:380:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:380:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:380:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:380:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:381:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # roots must be subset of allowed roots
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:381:1 — Path oracle: mod root — matched pattern 'mod%root'.
    # roots must be subset of allowed roots
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:381:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    # roots must be subset of allowed roots
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:381:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # roots must be subset of allowed roots
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:382:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if ctx.active_roots is not None and scope["roots"]:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:382:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if ctx.active_roots is not None and scope["roots"]:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:383:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    allowed_roots = ctx.active_roots.copy()
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:384:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if ctx.vanilla_root:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:385:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    allowed_roots.add(ctx.vanilla_root)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:386:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if not scope["roots"].issubset(allowed_roots):
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:774:0 [validate_ck3lens_rules] — Concept explosion: Lens-like noun 'validate_ck3lens_rules' overlaps Session/WorldAdapter/handles.
    def validate_ck3lens_rules(
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR ORACLE-01 tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:35:0 [ALLOWED_PYTHON_PATHS] — Oracle-style symbol 'ALLOWED_PYTHON_PATHS' is banned outside enforcement.
    ALLOWED_PYTHON_PATHS = (
    -> Delete oracle helpers; gate mutations via handles/policy at boundary.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:644:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:645:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # File location policies (if bundle provided)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:646:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if bundle is not None:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:647:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # Rule 1: No ad-hoc scripts in production tree
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:648:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    enforce_allowed_python_paths(ctx, bundle, violations, summary)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:649:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/ck3raven_dev_rules.py:650:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # Rule 1b: Scripts must be documented
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:76:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "targets_legacy",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:76:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "targets_legacy",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "allowed_paths",  # Legacy field, replaced by targets
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "allowed_paths",  # Legacy field, replaced by targets
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:78:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "capabilities",  # Legacy field, replaced by operations
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:78:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "capabilities",  # Legacy field, replaced by operations
ERROR IO-01 tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:619:12 [shutil.move] — Raw I/O call 'shutil.move(...)' outside allowed modules.
    shutil.move(str(path), str(dest))
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:13:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Key Principles:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:252:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    path: str,
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:253:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    contract_paths: list[str],
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:254:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    ) -> bool:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:255:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:256:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if a path is within the contract's allowed scope.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:257:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:258:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:259:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:260:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Args:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:310:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    The `domain` field is the resolved PathDomain from WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:311:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Enforcement uses this to make decisions - it does NOT re-check paths.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:312:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:313:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Domain classification happens in WorldAdapter.resolve():
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:314:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - WIP → always allowed
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:328:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:329:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Context (varies by operation type)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:330:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path: Optional[str] = None      # Canonical address (e.g., "wip:/test.py", "mod:MyMod/file.txt")
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:331:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths: List[str] = field(default_factory=list)  # Multiple paths
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:332:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name: Optional[str] = None         # For ck3lens mod ops (from resolution)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:333:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    rel_path: Optional[str] = None         # For ck3lens mod ops (from resolution)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:334:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command: Optional[str] = None          # For shell ops
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:335:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/policy/enforcement.py:426:33 — Forbidden path API '.relative_to(' outside canonical modules.
    rel_path = path.resolve().relative_to(repo_root.resolve())
    -> Route through WorldAdapter.
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/enforcement.py:581:8 — Permission branching / oracle-style gating detected in if-condition.
    if allowed_paths:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:795:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:821:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:892:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    contract_id=contract.contract_id,
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:893:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/enforcement.py:900:8 — Permission branching / oracle-style gating detected in if-condition.
    if allowed_paths and not check_path_in_contract_scope(staged_file, allowed_paths):
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/enforcement.py:925:0 [_enforce_ck3lens_write] — Concept explosion: Lens-like noun '_enforce_ck3lens_write' overlaps Session/WorldAdapter/handles.
    def _enforce_ck3lens_write(
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:995:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1040:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    required_contract=True,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1250:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    token_id=result.token_id,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1251:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    required_token_type=result.required_token_type,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1252:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_path=request.target_path,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1253:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    target_paths=request.target_paths if request.target_paths else None,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1254:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name=request.mod_name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1255:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    command=command,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1256:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    branch=request.branch_name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1257:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    staged_files=staged_files,
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:99:0 [CK3LENS_TOKEN_TYPES] — Concept explosion: Lens-like noun 'CK3LENS_TOKEN_TYPES' overlaps Session/WorldAdapter/handles.
    CK3LENS_TOKEN_TYPES = {
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:276:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Args:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:277:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    token_type: Type from TOKEN_TYPES
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:278:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    capability: Specific capability granted
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:279:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    reason: Why this token is being issued
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:280:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    path_patterns: Allowed path patterns
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:281:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    command_patterns: Allowed command patterns
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:282:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    contract_id: Associated work contract
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/tokens.py:283:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    issued_by: Who is issuing the token
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:60:0 [CK3LensTokenType] — Concept explosion: Lens-like noun 'CK3LensTokenType' overlaps Session/WorldAdapter/handles.
    class CK3LensTokenType(str, Enum):
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:75:0 [CK3LENS_TOKEN_TTLS] — Concept explosion: Lens-like noun 'CK3LENS_TOKEN_TTLS' overlaps Session/WorldAdapter/handles.
    CK3LENS_TOKEN_TTLS = {
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:236:0 [get_ck3lens_wip_path] — Concept explosion: Lens-like noun 'get_ck3lens_wip_path' overlaps Session/WorldAdapter/handles.
    def get_ck3lens_wip_path() -> Path:
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_roots: Optional[set[str]] = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    vanilla_root: Optional[str] = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - vanilla_version_id
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - vanilla_version_id
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - active_mod_ids
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - active_mod_ids
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - active_roots
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - active_roots
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - vanilla_root
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Path oracle: mod root — matched pattern 'mod%root'.
    - vanilla_root
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - vanilla_root
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    - vanilla_root
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - local_mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Path oracle: mod root — matched pattern 'mod%root'.
    - local_mods
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - local_mods
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    - local_mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - ck3raven_root
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Path oracle: mod root — matched pattern 'mod%root'.
    - ck3raven_root
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - ck3raven_root
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Path oracle: mod root (near-match) — near-window match ['mod', 'root'] within 6 tokens.
    - ck3raven_root
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:386:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if scope.get("active_mod_ids") is not None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:387:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self.active_mod_ids = scope["active_mod_ids"]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if scope.get("active_roots") is not None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if scope.get("active_roots") is not None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    self.active_roots = scope["active_roots"]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self.active_roots = scope["active_roots"]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if scope.get("vanilla_root") is not None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 — Path oracle: mod root — matched pattern 'mod%root'.
    if scope.get("vanilla_root") is not None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    self.vanilla_root = scope["vanilla_root"]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self.vanilla_root = scope["vanilla_root"]
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/types.py:392:8 — Permission branching / oracle-style gating detected in if-condition.
    if scope.get("local_mods_folder") is not None:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    CK3LENS Mode:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    CK3LENS Mode:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Location: ~/.ck3raven/wip/
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Location: ~/.ck3raven/wip/
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Auto-wiped at session start
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - Auto-wiped at session start
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:9:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - General purpose for analysis scripts
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:9:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - General purpose for analysis scripts
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:10:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Script output can go to WIP or active local mods
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:10:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - Script output can go to WIP or active local mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:11:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:11:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:12:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    CK3RAVEN-DEV Mode:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:12:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    CK3RAVEN-DEV Mode:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:13:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Location: <repo>/.wip/
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:13:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Location: <repo>/.wip/
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:14:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Git-ignored
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:14:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - Git-ignored
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:16:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Cannot substitute for proper code fixes
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:17:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Requires WIP intent declaration
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:18:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:19:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Common Rules:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:20:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    1. Python is ONLY allowed in WIP (not in mod directories for ck3lens)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:21:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    2. Script execution via ck3_exec only
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:22:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    3. Scripts must declare what files they read/write
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:23:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    4. Mismatch between declaration and actual behavior → execution denied
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:24:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:72:32 — Forbidden path API '.relative_to(' outside canonical modules.
    rel_path = str(f.relative_to(wip_path))
    -> Route through WorldAdapter.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:116:16 [shutil.rmtree] — Raw I/O call 'shutil.rmtree(...)' outside allowed modules.
    shutil.rmtree(item)
    -> Route I/O through handles minted by WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:165:32 — Forbidden path API '.relative_to(' outside canonical modules.
    rel_path = str(f.relative_to(wip_path))
    -> Route through WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:193:22 — Forbidden path API '.relative_to(' outside canonical modules.
    path.resolve().relative_to(wip_path.resolve())
    -> Route through WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:232:16 — Forbidden path API '.relative_to(' outside canonical modules.
    resolved.relative_to(wip_path.resolve())
    -> Route through WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:447:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Args:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:448:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    script_hash: SHA256 of script content
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:449:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    declarations: What the script claims to read/write
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:450:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    allowed_write_mods: Set of mod names where writes are allowed
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:452:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:453:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Returns:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:454:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Validation result with any errors
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:468:12 — Permission branching / oracle-style gating detected in if-condition.
    if mod_name not in allowed_write_mods:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/runtime_env.py:135:0 — Subprocess/system call detected outside builder/write-handle modules.
    return subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:135:15 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    return subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/runtime_env.py:315:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:315:21 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:12:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    sandbox_execute() intercepts script I/O via monkey-patching:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:13:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:14:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Script calls open("some/path", "r")
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:14:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Script calls open("some/path", "r")
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:14:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Script calls open("some/path", "r")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:15:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    └─> Sandbox intercepts
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:15:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    └─> Sandbox intercepts
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:15:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    └─> Sandbox intercepts
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:16:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    └─> Is path under allowed read domains?
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:16:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    └─> Is path under allowed read domains?
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:16:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    └─> Is path under allowed read domains?
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:17:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - WIP (always)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:17:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - WIP (always)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:17:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - WIP (always)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:19:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - vanilla_path (CK3 game files)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:19:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - vanilla_path (CK3 game files)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:19:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - vanilla_path (CK3 game files)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:20:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - utility_paths (logs, saves)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:20:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - utility_paths (logs, saves)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:20:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - utility_paths (logs, saves)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:21:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    └─> Yes → allow, No → FileNotFoundError
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:21:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    └─> Yes → allow, No → FileNotFoundError
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:22:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:22:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:32:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Required from Session:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:33:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    - wip_path: Path to ~/.ck3raven/wip/ (always readable/writable)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:35:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    - vanilla_path: Path to CK3 game/ folder (read-only)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:36:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    - utility_paths: Set of paths to logs, saves, etc. (read-only)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:37:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:38:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    The WorldAdapter abstraction is OVERKILL for sandbox I/O gating.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:105:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    Sandboxed I/O interceptor that delegates to LensWorld + enforcement.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:106:1 — Oracle: can_write pattern — matched pattern 'can%write'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:107:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    All file operations are routed through:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:108:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - LensWorld for visibility (can I see this path?)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:109:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - enforcement.gate_write() for write permission
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:110:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:111:1 — Oracle: can_write pattern — matched pattern 'can%write'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:112:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    def __init__(self, ctx: SandboxContext):
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:119:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def _resolve_and_check_read(self, path: Path) -> Path:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:120:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:121:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if path is readable via WorldAdapter.is_visible().
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:122:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:123:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Returns resolved path if allowed, raises FileNotFoundError if not.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:124:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:125:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    from ..world_router import get_world
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:130:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # Check via WorldAdapter.is_visible() - handles WIP, mods, vanilla
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:131:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # WorldAdapter handles path resolution internally
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:132:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    adapter = get_world(session=self.ctx.session)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:133:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if adapter and adapter.is_visible(path_str):
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:134:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    self.ctx.reads_allowed.append(path_str)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:135:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    return path
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:136:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:137:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    self.ctx.reads_denied.append(path_str)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:138:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    raise FileNotFoundError(f"[Sandbox] Path not visible in LensWorld: {path}")
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:139:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:140:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def _check_write(self, path: Path) -> bool:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:141:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:142:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if write is allowed via enforcement.enforce_policy().
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:143:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:144:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Returns True if allowed, raises PermissionError if not.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:145:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Enforcement handles WIP, local mods, etc. - no shortcuts here.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:146:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/unified_tools.py:1316:36 — Forbidden path API '.relative_to(' outside canonical modules.
    "relpath": str(f.relative_to(target)),
    -> Route through WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1342:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Modes:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1343:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    - partial_patch: Creates zzz_[mod]_[original_name].txt (for adding/modifying specific units)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1344:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    - full_replace: Creates [original_name].txt (full replacement, last-wins)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1345:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1346:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    NOTE: This function computes paths and delegates to _file_write.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1347:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Enforcement happens via the normal _file_write path.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1500:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if deleted:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1501:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # For deletion, still use enqueue but the file won't exist
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1502:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    result = daemon.enqueue_files(
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1503:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    paths=[file_path],
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1504:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name=mod_name,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1505:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    priority="high",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1506:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    reason="file_deleted",
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1507:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    )
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1551:0 — Subprocess/system call detected outside builder/write-handle modules.
    subprocess.Popen(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1551:12 [subprocess.Popen] — Raw I/O call 'subprocess.Popen(...)' outside allowed modules.
    subprocess.Popen(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1560:0 — Subprocess/system call detected outside builder/write-handle modules.
    subprocess.Popen(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1560:12 [subprocess.Popen] — Raw I/O call 'subprocess.Popen(...)' outside allowed modules.
    subprocess.Popen(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1610:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=contents    -> Get folder contents from database (path required)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1611:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=top_level   -> Get top-level folders in active playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1612:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=mod_folders -> Get folders in specific mod (content_version_id required)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1613:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1614:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    CANONICAL: Uses cvids (list of content_version_ids from session.mods[]) instead of playset_id.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1615:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    The caller should pass cvids=[m.cvid for m in session.mods if m.cvid].
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1859:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1859:17 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:2118:0 — Subprocess/system call detected outside builder/write-handle modules.
    result_obj = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:2118:33 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result_obj = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:2138:0 — Subprocess/system call detected outside builder/write-handle modules.
    result_obj = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:2138:33 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result_obj = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR ORACLE-01 tools/ck3lens_mcp/ck3lens/validate.py:22:0 [ALLOWED_TOPLEVEL] — Oracle-style symbol 'ALLOWED_TOPLEVEL' is banned outside enforcement.
    ALLOWED_TOPLEVEL = {"common", "events", "gfx", "localization", "interface", "music", "sound", "history", "map_data"}
    -> Delete oracle helpers; gate mutations via handles/policy at boundary.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:9:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[1:] are user mods from playset
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:10:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[] is NEVER empty - vanilla is always present even if playset fails to load
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:11:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - Each mod has .cvid resolved from database
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/workspace.py:18:2 [PlaysetLens] — Concept explosion: constructor 'PlaysetLens(...)' suggests creating Lens objects.
    - PlaysetLens (just use mods[].cvid)
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    - is_writable / can_write / can_edit (permission oracles)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - is_writable / can_write / can_edit (permission oracles)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - is_writable / can_write / can_edit (permission oracles)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    - is_writable / can_write / can_edit (permission oracles)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Oracle: can_write pattern — matched pattern 'can%write'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    CONFLICT ANALYSIS MODEL:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    CONFLICT ANALYSIS MODEL:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    CONFLICT ANALYSIS MODEL:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:24:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    - File-level: Same relpath in multiple mods = file conflict
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:24:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - File-level: Same relpath in multiple mods = file conflict
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:24:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    - File-level: Same relpath in multiple mods = file conflict
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:25:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    - Exact match filename = full override (later wins)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:25:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - Exact match filename = full override (later wins)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:25:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    - Exact match filename = full override (later wins)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:58:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    @dataclass
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:58:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    @dataclass
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:59:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    class ModEntry:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:59:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    class ModEntry:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:60:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    """A mod entry from the active playset.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:60:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    """A mod entry from the active playset.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:61:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:61:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:62:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mods[0] is always vanilla (name="vanilla", load_order=0).
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:62:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    mods[0] is always vanilla (name="vanilla", load_order=0).
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:63:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mods[1:] are user mods in load order.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:63:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    mods[1:] are user mods in load order.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:64:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:64:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:93:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - mods[0] = vanilla (always present, injected automatically)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:93:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[0] = vanilla (always present, injected automatically)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:94:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - mods[1:] = user mods from playset in load order
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:94:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[1:] = user mods from playset in load order
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:95:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - mods[] is NEVER empty - vanilla is always present
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:95:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[] is NEVER empty - vanilla is always present
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:96:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - DB filtering = {m.cvid for m in mods if m.cvid}
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:96:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - DB filtering = {m.cvid for m in mods if m.cvid}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:98:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    - NO permission methods - enforcement.py handles that
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:98:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    - NO permission methods - enforcement.py handles that
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:98:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - NO permission methods - enforcement.py handles that
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    """
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:100:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    playset_name: Optional[str] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:100:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    playset_name: Optional[str] = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:101:1 — Parallel truth: live mods — matched pattern 'live%mods'.
    db_path: Optional[Path] = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:101:1 — Parallel truth: live mods (near-match) — near-window match ['live', 'mods'] within 6 tokens.
    db_path: Optional[Path] = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:131:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    db: DBQueries instance with active connection
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:132:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:133:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Returns:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:134:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Dict with resolution stats:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:135:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - mods_resolved: int
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:211:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Searches for config in this order:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:212:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    1. Active playset (from ck3raven/playsets/playset_manifest.json)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:213:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    2. Explicit config_path if provided
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:214:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    3. ck3lens_config.yaml in ~/.ck3raven/
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:215:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    4. Defaults with vanilla as mods[0]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:216:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    """
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:220:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    mods=[_create_vanilla_entry()]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:221:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    )
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:222:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:223:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    # Try to load active playset first
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:224:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    active_playset = _load_active_playset()
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/workspace.py:297:4 — Permission branching / oracle-style gating detected in if-condition.
    if "local_mods_folder" in data:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/workspace.py:336:4 — Permission branching / oracle-style gating detected in if-condition.
    if "local_mods_folder" in data and data["local_mods_folder"]:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:6:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:7:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    CAPABILITY-GATED ARCHITECTURE (December 2025):
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:8:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - WorldAdapter is THE ONLY source of visibility and access handles
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:9:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - WorldAdapter.db_handle() -> DbHandle (carries capability + visible_cvids)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:10:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - WorldAdapter.fs_handle() -> FsHandle (carries capability + allowed_roots)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:11:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Call sites MUST use handles for all DB/FS operations
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:12:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Handles carry an unforgeable capability token (_CAP_TOKEN)
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:91:4 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids: Optional[FrozenSet[int]]
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:99:20 [visible_cvids] — Banned term 'visible_cvids' used.
    return self.visible_cvids is None
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:118:19 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:118:38 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:125:19 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:125:38 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:132:19 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:132:38 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:139:21 [visible_cvids] — Banned term 'visible_cvids' used.
    relpath, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:139:40 [visible_cvids] — Banned term 'visible_cvids' used.
    relpath, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:146:31 [visible_cvids] — Banned term 'visible_cvids' used.
    name, symbol_type, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:146:50 [visible_cvids] — Banned term 'visible_cvids' used.
    name, symbol_type, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:153:21 [visible_cvids] — Banned term 'visible_cvids' used.
    file_id, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:153:40 [visible_cvids] — Banned term 'visible_cvids' used.
    file_id, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:160:25 [visible_cvids] — Banned term 'visible_cvids' used.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:160:44 [visible_cvids] — Banned term 'visible_cvids' used.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:167:32 [visible_cvids] — Banned term 'visible_cvids' used.
    query, symbol_type, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:167:51 [visible_cvids] — Banned term 'visible_cvids' used.
    query, symbol_type, visible_cvids=self.visible_cvids
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:174:19 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:174:38 [visible_cvids] — Banned term 'visible_cvids' used.
    query, visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:181:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:181:31 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=self.visible_cvids, **kwargs
    -> Remove/rename to canonical architecture.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:194:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    This is THE ONLY legal way to access the filesystem.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:195:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Minted ONLY by WorldAdapter.fs_handle() - cannot be fabricated.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:196:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:196:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:197:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Fields:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:197:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    Fields:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:198:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - allowed_roots: Set of Path roots where operations are allowed.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:198:1 — Oracle: is_permitted pattern — matched pattern 'is%permitted'.
    - allowed_roots: Set of Path roots where operations are allowed.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:217:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    "Use world.fs_handle() to get a valid handle."
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:218:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:219:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:220:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def _validate_path(self, path: Path) -> None:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:221:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """Validate path is within allowed roots."""
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:222:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    resolved = path.resolve()
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:223:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    for root in self.allowed_roots:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:224:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    try:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:225:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    resolved.relative_to(root.resolve())
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:226:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    return
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:227:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    except ValueError:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:228:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    continue
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:229:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    raise CapabilityError(
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:230:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    f"Path {path} is outside allowed roots for this handle"
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:231:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    )
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:232:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:233:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # -------------------------------------------------------------------------
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:234:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # FS Operation Methods
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:504:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    WorldAdapter determines:
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:505:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    1. What EXISTS and can be REFERENCED (resolve, is_visible)
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:506:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    2. Provides capability-gated handles for DB/FS access
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:507:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:508:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    WorldAdapter does NOT make permission decisions about what actions are allowed.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:509:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    That is enforcement.py's job.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:539:1 — Path oracle: mod root — matched pattern 'mod%root'.
    db: DBQueries instance (optional - only needed for DB operations, not path resolution)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:540:1 — Path oracle: mod root — matched pattern 'mod%root'.
    mods: List of mod entries (REQUIRED for ck3lens mode)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:542:1 — Path oracle: mod root — matched pattern 'mod%root'.
    utility_roots: Dict of utility type to path (ck3lens)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:543:1 — Path oracle: mod root — matched pattern 'mod%root'.
    vanilla_root: Path to vanilla game folder
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:544:1 — Path oracle: mod root — matched pattern 'mod%root'.
    ck3raven_root: Path to ck3raven source
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:582:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._wip_root = wip_root
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:582:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._wip_root = wip_root
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:583:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._utility_roots = utility_roots or {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:583:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._utility_roots = utility_roots or {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:584:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:584:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:585:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Build mod path lookup from mods[]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:585:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Build mod path lookup from mods[]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:586:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mod_paths: dict[str, Path] = {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:586:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mod_paths: dict[str, Path] = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:587:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for mod in self._mods:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:587:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for mod in self._mods:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:588:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if hasattr(mod, 'name') and hasattr(mod, 'path'):
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:588:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if hasattr(mod, 'name') and hasattr(mod, 'path'):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:589:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mod_paths[mod.name] = Path(mod.path) if isinstance(mod.path, str) else mod.path
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:589:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mod_paths[mod.name] = Path(mod.path) if isinstance(mod.path, str) else mod.path
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:590:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:590:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:591:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Pre-compute visibility CVIDs from mods[] (immutable)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:591:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Pre-compute visibility CVIDs from mods[] (immutable)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:592:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:592:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:593:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    m.cvid for m in self._mods
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:593:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    m.cvid for m in self._mods
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/world_adapter.py:596:8 — Permission branching / oracle-style gating detected in if-condition.
    if not self._visible_cvids:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:606:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._read_roots.add(self._ck3raven_root)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:606:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._read_roots.add(self._ck3raven_root)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:607:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if wip_root:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:607:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if wip_root:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:608:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._read_roots.add(wip_root)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:608:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._read_roots.add(wip_root)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:609:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._write_roots.add(wip_root)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:609:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._write_roots.add(wip_root)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:610:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for mod_path in self._mod_paths.values():
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:610:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for mod_path in self._mod_paths.values():
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:611:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._read_roots.add(mod_path)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:611:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._read_roots.add(mod_path)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:612:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for util_root in self._utility_roots.values():
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:612:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for util_root in self._utility_roots.values():
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:613:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._read_roots.add(util_root)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:613:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._read_roots.add(util_root)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:614:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:614:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:615:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Write access - local mods only
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:615:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Write access - local mods only
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/world_adapter.py:616:8 — Permission branching / oracle-style gating detected in if-condition.
    if local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:617:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for mod_path in self._mod_paths.values():
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:617:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for mod_path in self._mod_paths.values():
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:618:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    try:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:618:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    try:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:620:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._write_roots.add(mod_path)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:620:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._write_roots.add(mod_path)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:620:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._write_roots.add(mod_path)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:621:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    except ValueError:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:621:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    except ValueError:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:621:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    except ValueError:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:622:1 — Path oracle: mod root — matched pattern 'mod%root'.
    pass
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:622:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    pass
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:623:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:623:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:624:1 — Path oracle: mod root — matched pattern 'mod%root'.
    def _init_dev_mode(self, wip_root: Optional[Path]) -> None:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:626:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Dev mode does NOT use mods[] - they are not part of the execution model
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:626:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Dev mode does NOT use mods[] - they are not part of the execution model
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:627:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mods = []
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:627:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mods = []
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:629:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._utility_roots = {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:629:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._utility_roots = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._mod_paths = {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._visible_cvids = None  # UNRESTRICTED DB access
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._visible_cvids = None  # UNRESTRICTED DB access
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._visible_cvids = None  # UNRESTRICTED DB access
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._visible_cvids = None  # UNRESTRICTED DB access
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:633:1 — Path oracle: mod root — matched pattern 'mod%root'.
    # Type assertion: constructor validates ck3raven_root is not None for dev mode
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:633:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Type assertion: constructor validates ck3raven_root is not None for dev mode
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:633:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Type assertion: constructor validates ck3raven_root is not None for dev mode
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:634:1 — Path oracle: mod root — matched pattern 'mod%root'.
    assert self._ck3raven_root is not None, "ck3raven-dev mode requires ck3raven_root"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:634:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    assert self._ck3raven_root is not None, "ck3raven-dev mode requires ck3raven_root"
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:634:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    assert self._ck3raven_root is not None, "ck3raven-dev mode requires ck3raven_root"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:647:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """Initialize for uninitiated mode (pre-initialization)."""
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:647:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    """Initialize for uninitiated mode (pre-initialization)."""
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:648:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mods = []
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:648:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mods = []
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._utility_roots = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._utility_roots = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._utility_roots = {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._utility_roots = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._mod_paths = {}
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._mod_paths = {}
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._visible_cvids = None  # UNRESTRICTED during init
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._visible_cvids = None  # UNRESTRICTED during init
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._visible_cvids = None  # UNRESTRICTED during init
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._visible_cvids = None  # UNRESTRICTED during init
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Path oracle: mod root — matched pattern 'mod%root'.
    self._wip_root = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    self._wip_root = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Path oracle: local mod root — matched pattern 'local%mod%root'.
    self._wip_root = None
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    self._wip_root = None
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:654:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:654:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:654:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:655:1 — Path oracle: mod root — matched pattern 'mod%root'.
    # Limited FS access
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:655:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Limited FS access
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:655:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Limited FS access
ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:681:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=self._visible_cvids,
    -> Remove/rename to canonical architecture.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:690:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:691:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    This is THE ONLY legal way to obtain a FsHandle.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:692:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:693:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    Read-only handles get access to all visible roots.
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:694:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    Write handles get access only to writable roots (local mods + WIP for ck3lens,
ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:695:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
    ck3raven source + WIP for ck3raven-dev).
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:866:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    except ValueError:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:866:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    except ValueError:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:867:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    pass
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:867:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    pass
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:868:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:868:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:869:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Check mod paths from mods[]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:869:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Check mod paths from mods[]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:870:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    for mod_name, mod_path in self._mod_paths.items():
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:870:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    for mod_name, mod_path in self._mod_paths.items():
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:871:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    try:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:871:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    try:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:872:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    rel = path.relative_to(mod_path.resolve())
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:872:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    rel = path.relative_to(mod_path.resolve())
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:873:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    return CanonicalAddress(
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:873:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    return CanonicalAddress(
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:874:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    address_type=AddressType.MOD,
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:874:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    address_type=AddressType.MOD,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:879:1 — Path oracle: mod root — matched pattern 'mod%root'.
    except ValueError:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:981:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    def _resolve_mod(self, address: CanonicalAddress) -> ResolutionResult:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:981:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    def _resolve_mod(self, address: CanonicalAddress) -> ResolutionResult:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:982:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """Resolve a mod address - check if in active playset."""
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:982:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    """Resolve a mod address - check if in active playset."""
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:983:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    mod_name = address.identifier
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:983:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_name = address.identifier
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:984:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:984:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:985:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    if mod_name in self._mod_paths:
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:985:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    if mod_name in self._mod_paths:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:986:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    mod_path = self._mod_paths[mod_name]
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:986:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    mod_path = self._mod_paths[mod_name]
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:987:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    abs_path = mod_path / address.relative_path
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:987:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    abs_path = mod_path / address.relative_path
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:988:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:988:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:989:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Determine domain (local vs workshop)
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:989:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Determine domain (local vs workshop)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:990:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    domain = PathDomain.WORKSHOP_MOD
ERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:990:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    domain = PathDomain.WORKSHOP_MOD
ERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/world_adapter.py:991:12 — Permission branching / oracle-style gating detected in if-condition.
    if self._local_mods_folder:
    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1009:1 — Path oracle: mod root — matched pattern 'mod%root'.
    )
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1010:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1011:1 — Path oracle: mod root — matched pattern 'mod%root'.
    def _resolve_vanilla(self, address: CanonicalAddress) -> ResolutionResult:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1012:1 — Path oracle: mod root — matched pattern 'mod%root'.
    """Resolve a vanilla address."""
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1104:1 — Path oracle: mod root — matched pattern 'mod%root'.
    mode: Agent mode ("ck3lens", "ck3raven-dev", or "uninitiated")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1105:1 — Path oracle: mod root — matched pattern 'mod%root'.
    db: DBQueries instance
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1106:1 — Path oracle: mod root — matched pattern 'mod%root'.
    mods: List of mod entries (required for ck3lens mode)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1108:1 — Path oracle: mod root — matched pattern 'mod%root'.
    vanilla_root: Path to vanilla game folder
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1109:1 — Path oracle: mod root — matched pattern 'mod%root'.
    ck3raven_root: Path to ck3raven source
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1110:1 — Path oracle: mod root — matched pattern 'mod%root'.
    wip_root: Path to WIP workspace
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/world_router.py:26:2 [lens] — Concept explosion: constructor 'lens(...)' suggests creating Lens objects.
    - lens (parameter or variable)
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/world_router.py:27:2 [PlaysetLens] — Concept explosion: constructor 'PlaysetLens(...)' suggests creating Lens objects.
    - PlaysetLens (class - use mods[] instead)
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/world_router.py:129:27 [_build_lens_adapter] — Concept explosion: constructor '_build_lens_adapter(...)' suggests creating Lens objects.
    adapter = self._build_lens_adapter(db, local_mods_folder, mods)
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/world_router.py:139:8 [_build_lens_adapter] — Concept explosion: constructor '_build_lens_adapter(...)' suggests creating Lens objects.
    def _build_lens_adapter(
    -> Do not create Lens objects. Use WorldAdapter + canonical handles.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:165:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "Use ck3_playset(command='switch', playset_name='...') to load a playset."
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:166:1 — Path oracle: mod root — matched pattern 'mod%root'.
    )
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:201:1 — Path oracle: mod root — matched pattern 'mod%root'.
    db can be None - WorldAdapter only needs DB for DB operations,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:202:1 — Path oracle: mod root — matched pattern 'mod%root'.
    not for path resolution.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/world_router.py:228:18 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    current = Path(__file__).resolve()
ERROR MUTATOR-02 tools/ck3lens_mcp/fix_search.py:5:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'r', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/fix_search.py:5:5 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'r', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 tools/ck3lens_mcp/fix_search.py:43:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/fix_search.py:43:9 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(path, 'w', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/server.py:39:10 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    exe = Path(sys.executable).resolve()
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:344:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_mod_ids = set()
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:345:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_roots = set()
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:346:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:347:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # Read mods array (new format)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:348:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    for mod in data.get("mods", []):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:349:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    if not mod.get("enabled", True):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:357:1 — Path oracle: mod root — matched pattern 'mod%root'.
    active_roots.add(str(Path(path).expanduser()))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:358:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:360:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    vanilla_config = data.get("vanilla", {})
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:361:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    vanilla_root = vanilla_config.get("path", "C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:375:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "playset_name": data.get("playset_name", "JSON Playset"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:376:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "active_mod_ids": active_mod_ids,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:377:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "active_roots": active_roots,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:378:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "vanilla_version_id": None,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:378:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_version_id": None,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:379:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "vanilla_root": str(Path(vanilla_root).expanduser()),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:379:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_root": str(Path(vanilla_root).expanduser()),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:380:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "source": "json",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:380:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "source": "json",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:381:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "file_path": str(playset_file),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:405:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Returns dict with:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 — Path oracle: mod root — matched pattern 'mod%root'.
    Returns dict with:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Returns dict with:
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:406:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Returns dict with:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    playset_id: None (JSON-based, no DB ID)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 — Path oracle: mod root — matched pattern 'mod%root'.
    playset_id: None (JSON-based, no DB ID)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    playset_id: None (JSON-based, no DB ID)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:407:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playset_id: None (JSON-based, no DB ID)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    playset_name: Human-readable name
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 — Path oracle: mod root — matched pattern 'mod%root'.
    playset_name: Human-readable name
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    playset_name: Human-readable name
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:408:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playset_name: Human-readable name
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_mod_ids: Set of workshop IDs for mods in playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 — Path oracle: mod root — matched pattern 'mod%root'.
    active_mod_ids: Set of workshop IDs for mods in playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    active_mod_ids: Set of workshop IDs for mods in playset
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:409:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    active_mod_ids: Set of workshop IDs for mods in playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    active_roots: Set of filesystem root paths for mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 — Path oracle: mod root — matched pattern 'mod%root'.
    active_roots: Set of filesystem root paths for mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    active_roots: Set of filesystem root paths for mods
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:410:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    active_roots: Set of filesystem root paths for mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    vanilla_version_id: None (unused)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 — Path oracle: mod root — matched pattern 'mod%root'.
    vanilla_version_id: None (unused)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    vanilla_version_id: None (unused)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:411:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    vanilla_version_id: None (unused)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    vanilla_root: Path to vanilla game files
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 — Path oracle: mod root — matched pattern 'mod%root'.
    vanilla_root: Path to vanilla game files
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    vanilla_root: Path to vanilla game files
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:412:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    vanilla_root: Path to vanilla game files
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    source: "json" or "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 — Path oracle: mod root — matched pattern 'mod%root'.
    source: "json" or "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    source: "json" or "none"
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:413:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    source: "json" or "none"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:414:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    agent_briefing: Dict with agent instructions (if available)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:441:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "playset_name": None,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:442:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "active_mod_ids": set(),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:443:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "active_roots": set(),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:444:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_version_id": None,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:445:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_root": None,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:446:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "source": "none",
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:596:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Internal session initialization - called by ck3_get_mode_instructions.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:596:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Internal session initialization - called by ck3_get_mode_instructions.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:597:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:597:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:597:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:598:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    CANONICAL MODEL:
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:598:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    CANONICAL MODEL:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:598:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    CANONICAL MODEL:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:599:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Session is loaded from active playset via load_config()
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:599:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - Session is loaded from active playset via load_config()
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:599:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - Session is loaded from active playset via load_config()
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:600:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - mods[] contains all mods from playset
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:600:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    - mods[] contains all mods from playset
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:600:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    - mods[] contains all mods from playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:603:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:603:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:603:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:604:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    Returns session info dict.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:605:1 — Oracle: is_editable pattern — matched pattern 'is%editable'.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:631:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:632:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # CANONICAL: Get playset info from session - no database lookup needed
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:633:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # Vanilla is mods[0], playset name comes from session config
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:634:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    playset_name = getattr(_session, "playset_name", "Active Playset")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:635:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mod_count = len(_session.mods) if hasattr(_session, "mods") else 0
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:636:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:637:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    # Check database health
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:638:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    db_status = _check_db_health(_db.conn)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:900:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    """
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:901:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    Flexible database cleanup tool for surgical deletion of indexed data.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:902:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:903:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    Mode-aware behavior:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:904:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    - ck3lens mode: Can delete playset/mod data for re-ingestion
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:905:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    - ck3raven-dev mode: Full access for schema changes and debugging
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:906:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:907:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    Use this to clear cached/derived data when:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:908:1 — Oracle: can_delete pattern — matched pattern 'can%delete'.
    - Mods have been updated from Steam and need re-ingestion
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1125:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute(f"DELETE FROM files {where}", params)
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1162:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute(f"DELETE FROM playset_mods WHERE content_version_id IN ({placeholders})", cv_ids)
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1166:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute(f"DELETE FROM files WHERE content_version_id IN ({placeholders})", cv_ids)
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1170:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute(f"DELETE FROM content_versions {where}", params)
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1174:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM mod_packages WHERE mod_package_id NOT IN (SELECT DISTINCT mod_package_id FROM content_versions WHERE mod_package_id IS NOT NULL)")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1215:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute(f"DELETE FROM {table}")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1238:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM playset_mods")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1240:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM playsets")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1260:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM build_lock")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1261:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM builder_steps")
    -> Route DB writes through builder handles only.
ERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1263:0 — SQL mutator detected outside builder/write-handle modules.
    cur.execute("DELETE FROM builder_runs")
    -> Route DB writes through builder handles only.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1448:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Unified conflict detection for the active playset.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1449:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1450:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Commands:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1451:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1452:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=symbols  → Find symbols defined by multiple mods (default)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1513:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if hasattr(m, 'cvid') and m.cvid is not None
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1514:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    )
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1515:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1516:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if not cvids:
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1517:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    return {"error": "No mods in session.mods[] - no active playset?"}
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1518:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1519:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    if command == "symbols":
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1520:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    # Use the internal method that was powering the deleted tools
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1521:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    result = db._get_symbol_conflicts_internal(
ERROR BANNED_TERM tools/ck3lens_mcp/server.py:1522:12 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=cvids,
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    path: File path (for get/read from filesystem)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    mod_name: Target for file operations. Can be:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - "wip" → WIP workspace (~/.ck3raven/wip/) - always writable
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - "vanilla" → Vanilla game files (read-only)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1722:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    - "vanilla" → Vanilla game files (read-only)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    rel_path: Relative path within target
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1724:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    rel_path: Relative path within target
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    include_ast: Include parsed AST (for get)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    content: File content (for write)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    start_line: Start line for read (1-indexed)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1798:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1799:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    Unified folder operations tool.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1886:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1886:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1887:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=get        ? Get active playset info
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1887:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=get        ? Get active playset info
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1888:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=list       ? List all playsets
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1888:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=list       ? List all playsets
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1889:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=switch     ? Switch to different playset (playset_name required)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1889:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=switch     ? Switch to different playset (playset_name required)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1890:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=mods       ? Get mods in active playset
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1890:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=mods       ? Get mods in active playset
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1891:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    command=add_mod    ? Add mod to playset (mod_name required)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1891:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=add_mod    ? Add mod to playset (mod_name required)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1892:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=remove_mod ? Remove mod from playset (mod_name required)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1893:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=reorder    ? Change mod load order (mod_name, new_position required)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1894:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    command=create     ? Create new playset (name required)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1932:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    if f.name.endswith(".schema.json") or f.name == "playset_manifest.json" or f.name == "sub_agent_templates.json":
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1933:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    continue
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1934:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    try:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1935:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    data = json.loads(f.read_text(encoding="utf-8-sig"))
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1936:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
ERROR BANNED_TERM tools/ck3lens_mcp/server.py:1936:16 [enabled_mods] — Banned term 'enabled_mods' used.
    enabled_mods = [m for m in data.get("mods", []) if m.get("enabled", True)]
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1937:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    playsets.append({
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1938:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "filename": f.name,
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1938:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "filename": f.name,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1939:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "name": data.get("playset_name", f.stem),
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1939:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "name": data.get("playset_name", f.stem),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1940:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "description": data.get("description", ""),
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1940:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "description": data.get("description", ""),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1941:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mod_count": len(enabled_mods),
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1941:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mod_count": len(enabled_mods),
ERROR BANNED_TERM tools/ck3lens_mcp/server.py:1941:37 [enabled_mods] — Banned term 'enabled_mods' used.
    "mod_count": len(enabled_mods),
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1942:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "is_active": f.name == manifest_active,
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1942:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "is_active": f.name == manifest_active,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1943:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    })
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1943:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    })
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1944:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    except Exception as e:
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1944:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    except Exception as e:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1945:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    playsets.append({
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1945:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    playsets.append({
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2074:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "mod_count": len(new_scope.get("active_mod_ids", set())),
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:2074:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    "mod_count": len(new_scope.get("active_mod_ids", set())),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2075:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:2075:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    }
ERROR MUTATOR-03 tools/ck3lens_mcp/server.py:2115:0 — Subprocess/system call detected outside builder/write-handle modules.
    subprocess.Popen(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:2115:24 [subprocess.Popen] — Raw I/O call 'subprocess.Popen(...)' outside allowed modules.
    subprocess.Popen(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/server.py:2124:0 — Subprocess/system call detected outside builder/write-handle modules.
    subprocess.Popen(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:2124:24 [subprocess.Popen] — Raw I/O call 'subprocess.Popen(...)' outside allowed modules.
    subprocess.Popen(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2178:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "playset_name": scope.get("playset_name"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2179:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "source": scope.get("source"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2180:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "mod_count": len(scope.get("active_mod_ids", set())),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2181:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "has_agent_briefing": bool(scope.get("agent_briefing")),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2181:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "has_agent_briefing": bool(scope.get("agent_briefing")),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2182:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "vanilla_root": scope.get("vanilla_root"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2182:1 — Path oracle: mod root — matched pattern 'mod%root'.
    "vanilla_root": scope.get("vanilla_root"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2183:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2183:1 — Path oracle: mod root — matched pattern 'mod%root'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2184:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2184:1 — Path oracle: mod root — matched pattern 'mod%root'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2194:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "success": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2195:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "playset_name": scope.get("playset_name"),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2196:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "enabled_count": len(enabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2197:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "disabled_count": len(disabled),
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2198:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "mods": enabled[:limit] if limit else enabled,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2199:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "truncated": limit is not None and len(enabled) > limit,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2200:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/server.py:2234:27 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    mod_path = str(Path(mod_name).resolve())  # Needed for absolute path
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2305:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "enabled": True,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2306:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "is_compatch": False,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2307:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    "notes": f"Added by ck3_playset add_mod on {datetime.now().isoformat()}"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2308:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    }
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2309:1 — Parallel truth: enabled mods — matched pattern 'enabled%mods'.
    mods_list.append(new_mod_entry)
ERROR IO-01 tools/ck3lens_mcp/server.py:2686:8 [shutil.copy2] — Raw I/O call 'shutil.copy2(...)' outside allowed modules.
    shutil.copy2(launcher_db, backup_path)
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 tools/ck3lens_mcp/server.py:2778:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(f, 'r', encoding='utf-8') as fp:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:2778:21 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(f, 'r', encoding='utf-8') as fp:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-02 tools/ck3lens_mcp/server.py:2842:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(playset_file, 'w', encoding='utf-8') as fp:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:2842:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(playset_file, 'w', encoding='utf-8') as fp:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2920:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    pass
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2921:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2922:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Check for mods with missing paths
ERROR IO-01 tools/ck3lens_mcp/server.py:3218:16 [shutil.move] — Raw I/O call 'shutil.move(...)' outside allowed modules.
    shutil.move(str(f), str(archive_dir / f.name))
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3263:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3264:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    This is the ONLY safe way for agents to run shell commands.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3265:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    All commands are evaluated against the policy engine:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3266:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3267:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Safe commands (cat, git status, etc.) ? Allowed automatically
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3268:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - Risky commands (rm *.py, git push) ? Require approval token
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3332:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if working_dir:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3333:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    resolution = normalize_path_input(world, path=working_dir)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3334:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    if not resolution.found:
ERROR MUTATOR-03 tools/ck3lens_mcp/server.py:3660:0 — Subprocess/system call detected outside builder/write-handle modules.
    proc = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:3660:19 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    proc = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/server.py:3671:0 — Subprocess/system call detected outside builder/write-handle modules.
    proc = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:3671:19 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    proc = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3753:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Args:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3754:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    command: Action to perform
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3755:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    token_type: Type of token to request (for request)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3756:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    reason: Why this token is needed (for request)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3757:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    path_patterns: Allowed paths (for request)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3758:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    command_patterns: Allowed commands (for request)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3759:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    ttl_minutes: Override TTL (for request)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3760:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    token_id: Token to validate/revoke
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3928:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    {
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3929:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    "query": str,
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3930:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    "symbols": {definitions, references_by_mod},
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3931:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    "content": {line-by-line matches},
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3932:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    "files": {matching paths},
ERROR BANNED_TERM tools/ck3lens_mcp/server.py:3977:8 [visible_cvids] — Banned term 'visible_cvids' used.
    visible_cvids=cvids if cvids else None
    -> Remove/rename to canonical architecture.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4052:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4052:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4053:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    USE THIS instead of VS Code's grep_search when you need to search files
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4053:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    USE THIS instead of VS Code's grep_search when you need to search files
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4054:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    outside the ck3raven database. Every search is logged for policy validation.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4054:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    outside the ck3raven database. Every search is logged for policy validation.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4055:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4055:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4056:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    In ck3lens mode: Only paths within the active playset (vanilla + mods) are searchable.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4056:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    In ck3lens mode: Only paths within the active playset (vanilla + mods) are searchable.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4057:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    In ck3raven-dev mode: Broader access for infrastructure testing.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4057:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    In ck3raven-dev mode: Broader access for infrastructure testing.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4058:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4058:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4059:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Args:
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4059:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    Args:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4060:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    path: Absolute path to search in (file or directory)
ERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4060:1 — Parallel truth: active mods (near-match) — near-window match ['active', 'mods'] within 6 tokens.
    path: Absolute path to search in (file or directory)
ERROR MUTATOR-02 tools/ck3lens_mcp/server.py:4125:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(file_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:4125:21 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(file_path, 'r', encoding='utf-8', errors='replace') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4172:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - ck3raven-dev mode: Defaults to ck3raven repo root (for infrastructure work)
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4173:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    - ck3lens mode: Defaults to vanilla game path
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4174:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4175:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    IMPORTANT: In ck3lens mode, while the default is vanilla, you can explicitly
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4176:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    set base_path to search other allowed paths including ck3raven source
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4177:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    (which is in read_allowed for research purposes). The WorldAdapter validates
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4178:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    all paths against mode visibility rules.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4179:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4180:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Args:
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4181:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    pattern: Glob pattern to match (e.g., "**/*.txt", "common/traits/*.txt")
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4405:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Get the agent briefing notes for the active playset.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4406:1 — Parallel truth: active mods — matched pattern 'active%mods'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4407:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    Agent briefings contain user-written notes that help the AI understand:
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4408:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Which errors to prioritize vs ignore
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4409:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    - Which conflicts are expected (from compatch mods)
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4792:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "CK3 Lens mode active. You can:\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4792:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "CK3 Lens mode active. You can:\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4793:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Search symbols, files, content via database\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4793:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Search symbols, files, content via database\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4794:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4794:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4795:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Use ck3_repair for launcher/cache issues\n\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4795:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Use ck3_repair for launcher/cache issues\n\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4796:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "You CANNOT write to workshop mods, vanilla, or ck3raven source."
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4796:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "You CANNOT write to workshop mods, vanilla, or ck3raven source."
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4797:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    )
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4798:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    elif mode == "ck3raven-dev":
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4798:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    elif mode == "ck3raven-dev":
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4798:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    elif mode == "ck3raven-dev":
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4799:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    return (
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4799:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    return (
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4799:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    return (
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4800:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "CK3 Raven Dev mode active. You can:\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4800:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "CK3 Raven Dev mode active. You can:\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4800:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "CK3 Raven Dev mode active. You can:\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4801:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Read all source code and mods (for parser/ingestion testing)\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4801:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Read all source code and mods (for parser/ingestion testing)\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4801:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "- Read all source code and mods (for parser/ingestion testing)\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4802:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Write/edit ck3raven infrastructure code\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4802:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Write/edit ck3raven infrastructure code\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4802:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "- Write/edit ck3raven infrastructure code\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4803:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Execute commands via ck3_exec (NOT run_in_terminal)\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4803:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Execute commands via ck3_exec (NOT run_in_terminal)\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4803:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "- Execute commands via ck3_exec (NOT run_in_terminal)\n"
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4804:1 — Parallel truth: active mods — matched pattern 'active%mods'.
    "- Write analysis scripts to <repo>/.wip/\n\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4804:1 — Oracle: can_write pattern — matched pattern 'can%write'.
    "- Write analysis scripts to <repo>/.wip/\n\n"
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4804:1 — Oracle: can_edit pattern — matched pattern 'can%edit'.
    "- Write analysis scripts to <repo>/.wip/\n\n"
ERROR MUTATOR-02 tools/ck3lens_mcp/server.py:5120:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(sql_file, 'r', encoding='utf-8') as f:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:5120:21 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(sql_file, 'r', encoding='utf-8') as f:
    -> Route I/O through handles minted by WorldAdapter.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5126:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5127:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    # Safety: only allow SELECT
ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5128:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    sql_upper = sql.strip().upper()
ERROR MUTATOR-02 tools/ck3lens_mcp/server.py:5300:0 — Filesystem write mutator detected outside builder/write-handle modules.
    with open(log_file, "a", encoding="utf-8") as log_handle:
    -> Route file writes through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:5300:17 [open] — Raw I/O call 'open(...)' outside allowed modules.
    with open(log_file, "a", encoding="utf-8") as log_handle:
    -> Route I/O through handles minted by WorldAdapter.
ERROR MUTATOR-03 tools/ck3lens_mcp/server.py:5305:0 — Subprocess/system call detected outside builder/write-handle modules.
    proc = subprocess.Popen(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/ck3lens_mcp/server.py:5305:23 [subprocess.Popen] — Raw I/O call 'subprocess.Popen(...)' outside allowed modules.
    proc = subprocess.Popen(
    -> Route I/O through handles minted by WorldAdapter.
ERROR CONCEPT-01 tools/ck3lens_mcp/tests/test_agent_mode.py:28:0 [mock_session_ck3lens] — Concept explosion: Lens-like noun 'mock_session_ck3lens' overlaps Session/WorldAdapter/handles.
    def mock_session_ck3lens():
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:110:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # ck3lens only sees: vanilla, workshop mods, local mods
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:110:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # ck3lens only sees: vanilla, workshop mods, local mods
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:111:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # It should NOT see: tools/, src/, builder/, etc.
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:111:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # It should NOT see: tools/, src/, builder/, etc.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:112:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    pass  # Placeholder - requires WorldAdapter integration
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:112:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    pass  # Placeholder - requires WorldAdapter integration
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:113:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:113:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:114:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    def test_ck3raven_dev_denies_mod_write_paths(self):
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:114:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    def test_ck3raven_dev_denies_mod_write_paths(self):
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:115:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    """ck3raven-dev should NEVER allow mod file writes."""
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:115:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    """ck3raven-dev should NEVER allow mod file writes."""
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:116:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # Absolute prohibition per CANONICAL_ARCHITECTURE.md
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:116:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    # Absolute prohibition per CANONICAL_ARCHITECTURE.md
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:117:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    pass  # Placeholder - requires enforcement integration
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:117:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
    pass  # Placeholder - requires enforcement integration
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:118:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:118:1 — Path oracle: mod paths (near-match) — near-window match ['mod', 'paths'] within 8 tokens.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:175:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:176:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # ck3lens mode: mod_name required for writes
ERROR BANNED_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:177:1 — Path oracle: mod paths — matched pattern 'mod%paths'.
    # raw path should be rejected or redirected
ERROR CONCEPT-01 tools/ck3lens_mcp/tests/test_policy_validator.py:12:0 [CK3LENS_PATH] — Concept explosion: Lens-like noun 'CK3LENS_PATH' overlaps Session/WorldAdapter/handles.
    CK3LENS_PATH = Path(__file__).parent.parent / "ck3lens"
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR CONCEPT-01 tools/ck3lens_mcp/tests/test_policy_validator.py:206:0 [TestCK3LensRules] — Concept explosion: Lens-like noun 'TestCK3LensRules' overlaps Session/WorldAdapter/handles.
    class TestCK3LensRules:
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
ERROR FORBIDDEN_PATH_API tools/compliance/linter_lock.py:73:14 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    current = Path(__file__).resolve()
ERROR IO-01 tools/compliance/linter_lock.py:283:18 [glob.glob] — Raw I/O call 'glob.glob(...)' outside allowed modules.
    matched = glob.glob(pattern, recursive=True)
    -> Route I/O through handles minted by WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/compliance/linter_lock.py:303:15 — Forbidden path API '.relative_to(' outside canonical modules.
    return path.relative_to(root).as_posix()
    -> Route through WorldAdapter.
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:637:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:638:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:639:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    def check_closure_eligibility() -> tuple[bool, str]:
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:640:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    """
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:641:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Check if contract closure is allowed with current lock state.
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:642:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:643:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    Rules:
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:644:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    1. Active lock must exist
ERROR BANNED_ORACLE tools/compliance/linter_lock.py:645:1 — Oracle: is_allowed pattern — matched pattern 'is%allowed'.
    2. If proposed lock exists, active lock must match working tree
ERROR FORBIDDEN_PATH_API tools/compliance/run_arch_lint_locked.py:33:14 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    current = Path(__file__).resolve()
ERROR MUTATOR-03 tools/compliance/run_arch_lint_locked.py:149:0 — Subprocess/system call detected outside builder/write-handle modules.
    result = subprocess.run(
    -> Route side-effecting exec through builder handles only.
ERROR IO-01 tools/compliance/run_arch_lint_locked.py:149:17 [subprocess.run] — Raw I/O call 'subprocess.run(...)' outside allowed modules.
    result = subprocess.run(
    -> Route I/O through handles minted by WorldAdapter.
ERROR FORBIDDEN_PATH_API tools/compliance/symbols_lock.py:33:14 — Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().
    current = Path(__file__).resolve()
DOC-WARN DOC-TERM .github/copilot-instructions.md:17:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** - no parallel lists like `local_mods[]`
DOC-WARN DOC-TERM .github/copilot-instructions.md:132:0 — Banned/concept-expansion term mentioned in documentation.
    Use these tools to write to mods. Enforcement policy determines at execution time whether a write is allowed based on the mod's location (local_mods_folder vs workshop/vanilla).
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:3:0 — Banned/concept-expansion term mentioned in documentation.
    In fact, you have identified the exact mechanism of **Context Poisoning**: using terminology (`LOCAL_MOD`) that is seman
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:23:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. Replacement for `LENSWORLD.md` (Sanitized)
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:27:0 — Banned/concept-expansion term mentioned in documentation.
    fileName: LENSWORLD.md
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:30:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:39:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:41:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:47:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:51:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:53:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:56:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:59:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:69:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:138:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:181:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:182:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:183:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:339:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:340:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods**`: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:74:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE qbuilder/writer_lock.py:1:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:78:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE qbuilder/writer_lock.py:2:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:178:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM scripts/launcher_to_playset.py:22:0 [LOCAL_MODS] — Banned term 'LOCAL_MODS' used. Only 'local_mods_fol
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:180:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:182:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR TRUTH-01 scripts/launcher_to_playset.py:22:0 [LOCAL_MODS] — Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope outside handles.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:184:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:208:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": [],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:214:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM scripts/launcher_to_playset.py:104:36 [LOCAL_MODS] — Banned term 'LOCAL_MODS' used. Only 'local_mods_f
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:216:0 — Banned/concept-expansion term mentioned in documentation.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:236:0 — Banned/concept-expansion term mentioned in documentation.
    print("  2. Add local_mods entries for mods the agent can edit")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1032:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1036:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1040:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1044:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1046:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/__init__.py:7:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1048:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1066:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/__init__.py:8:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1070:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1072:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1076:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1080:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1082:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:32:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1084:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1088:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1092:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1094:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1110:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:33:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1122:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:34:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1150:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:35:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1174:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:36:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1194:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:37:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1214:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:38:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1234:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:39:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1254:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:40:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1274:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:41:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1294:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/patterns.py:42:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1312:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1316:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1320:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1324:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1328:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1332:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1336:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1340:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1344:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1348:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1352:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1356:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1360:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1364:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1368:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1556:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1576:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:64:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1584:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1604:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:65:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1612:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1632:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:66:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1640:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1660:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:67:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1688:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1708:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:68:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1736:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1756:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:69:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1774:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:70:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1806:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:71:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1828:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1832:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1836:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1840:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1844:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1846:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:72:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1848:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1852:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1856:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1860:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1864:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1868:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1872:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1876:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1880:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:1884:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2070:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2074:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2076:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:864:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2078:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2080:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:864:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2082:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2086:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2090:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2092:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:865:1 — Oracle: is_writable pattern — matched pattern 'is%writable'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2094:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2096:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/arch_lint/rules.py:865:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2098:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2154:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens-explorer/bridge/server.py:625:24 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2156:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2216:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens-explorer/bridge/server.py:727:24 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2218:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2224:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2230:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2236:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2274:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2476:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:313:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2478:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2482:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:354:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2484:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2488:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:447:75 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2490:0 — Banned/concept-expansion term mentioned in documentation.
    refs = self._get_references_for_symbols_internal(symbol_names, visible_cvids, file_pattern, limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2494:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:475:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2496:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2500:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:492:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2502:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2506:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:560:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2508:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2512:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:572:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2514:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2518:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:572:26 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2520:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2524:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:594:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2526:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2530:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:611:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2532:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2536:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:685:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2538:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2542:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:703:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2544:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2548:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:750:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2550:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2554:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:784:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2556:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2560:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:935:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2562:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2566:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:959:78 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2568:0 — Banned/concept-expansion term mentioned in documentation.
    "playset": playset_name if playset_name else ("ACTIVE PLAYSET" if visible_cvids else "ALL CONTENT"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2572:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:974:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2574:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2578:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:974:26 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2580:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2584:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:993:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2586:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2590:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:993:26 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2592:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2596:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1009:65 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2598:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2602:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1009:79 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2604:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2608:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1026:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2610:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2614:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1038:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2616:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2620:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1084:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2622:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2626:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1096:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2628:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2632:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1121:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2634:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2638:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1135:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2640:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2644:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1187:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2646:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2650:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1202:15 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2652:0 — Banned/concept-expansion term mentioned in documentation.
    if not visible_cvids:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2656:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1205:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2658:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "s.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2662:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1372:31 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:2664:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = visibility.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3384:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:34:4 [LENSWORLD] — Banned term 'LENSWORLD' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3386:0 — Banned/concept-expansion term mentioned in documentation.
    LENSWORLD = "lensworld"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3510:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/policy/audit.py:253:8 [log_lensworld_resolution] — Concept explosion: constructor 'log_lensworld_resolution(...)' suggests creating Lens objects.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3512:0 — Banned/concept-expansion term mentioned in documentation.
    def log_lensworld_resolution(
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3516:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:262:35 [LENSWORLD] — Banned term 'LENSWORLD' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3518:0 — Banned/concept-expansion term mentioned in documentation.
    f"audit.{EventCategory.LENSWORLD.value}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3522:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/policy/audit.py:265:48 [LENSWORLD] — Banned term 'LENSWORLD' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3524:0 — Banned/concept-expansion term mentioned in documentation.
    "event_category": EventCategory.LENSWORLD.value,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3628:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3700:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:3734:0 — Banned/concept-expansion term mentioned in documentation.
    Rule: no_python_editing (except WIP), local_mods_only
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4176:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4180:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4184:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4188:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4252:0 — Banned/concept-expansion term mentioned in documentation.
    if scope.get("local_mods_folder") is not None:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4556:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:105:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4558:0 — Banned/concept-expansion term mentioned in documentation.
    Sandboxed I/O interceptor that delegates to LensWorld + enforcement.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4560:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:106:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4562:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:107:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4566:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:108:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4568:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld for visibility (can I see this path?)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4570:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:109:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4574:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:110:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4578:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:111:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4580:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:112:1 — Oracle: can_write pattern — matched patter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4642:0 — Banned/concept-expansion term mentioned in documentation.
    raise FileNotFoundError(f"[Sandbox] Path not visible in LensWorld: {path}")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4832:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/workspace.py:18:2 [PlaysetLens] — Concept explosion: constructor 'PlaysetLens(...)' suggests creating Lens objects.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4834:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (just use mods[].cvid)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4838:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: is_writable pattern — matched pattern 'is%writ
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4840:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4844:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4846:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Oracle: can_write pattern — matched pattern 'can%write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4848:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4852:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4854:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Oracle: is_writable pattern — matched pattern 'is%writ
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4856:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Oracle: can_write pattern — matched pattern 'can%write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4860:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Oracle: is_writable pattern — matched pattern 'is%writ
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4864:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Oracle: can_write pattern — matched pattern 'can%write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4872:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:24:1 — Oracle: is_writable pattern — matched pattern 'is%writ
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4876:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:24:1 — Oracle: can_write pattern — matched pattern 'can%write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4884:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:25:1 — Oracle: is_writable pattern — matched pattern 'is%writ
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:4888:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/workspace.py:25:1 — Oracle: can_write pattern — matched pattern 'can%write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5078:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5084:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data and data["local_mods_folder"]:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5100:0 — Banned/concept-expansion term mentioned in documentation.
    - WorldAdapter.db_handle() -> DbHandle (carries capability + visible_cvids)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5114:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:91:4 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5116:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5120:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:99:20 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5122:0 — Banned/concept-expansion term mentioned in documentation.
    return self.visible_cvids is None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5126:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:118:19 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5128:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5132:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:118:38 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5134:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5138:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:125:19 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5140:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5144:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:125:38 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5146:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5150:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:132:19 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5152:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5156:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:132:38 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5158:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5162:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:139:21 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5164:0 — Banned/concept-expansion term mentioned in documentation.
    relpath, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5168:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:139:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5170:0 — Banned/concept-expansion term mentioned in documentation.
    relpath, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5174:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:146:31 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5176:0 — Banned/concept-expansion term mentioned in documentation.
    name, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5180:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:146:50 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5182:0 — Banned/concept-expansion term mentioned in documentation.
    name, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5186:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:153:21 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5188:0 — Banned/concept-expansion term mentioned in documentation.
    file_id, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5192:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:153:40 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5194:0 — Banned/concept-expansion term mentioned in documentation.
    file_id, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5198:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:160:25 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5200:0 — Banned/concept-expansion term mentioned in documentation.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5204:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:160:44 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5206:0 — Banned/concept-expansion term mentioned in documentation.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5210:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:167:32 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5212:0 — Banned/concept-expansion term mentioned in documentation.
    query, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5216:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:167:51 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5218:0 — Banned/concept-expansion term mentioned in documentation.
    query, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5222:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:174:19 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5224:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5228:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:174:38 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5230:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5234:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:181:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5236:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5240:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:181:31 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5242:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5458:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5462:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5474:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._visible_cvids:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5556:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5658:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5662:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5666:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5670:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5754:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5758:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5762:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5766:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5802:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/ck3lens/world_adapter.py:681:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5804:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self._visible_cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5808:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:690:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5810:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:691:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5814:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:692:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5816:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:693:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5820:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:694:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5824:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/ck3lens/world_adapter.py:695:1 — Oracle: is_writable pattern — matched pattern 'is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:5974:0 — Banned/concept-expansion term mentioned in documentation.
    if self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6022:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR CONCEPT-03 tools/ck3lens_mcp/ck3lens/world_router.py:27:2 [PlaysetLens] — Concept explosion: constructor 'PlaysetLens(...)' suggests creating Lens objects.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6024:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (class - use mods[] instead)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6030:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = self._build_lens_adapter(db, local_mods_folder, mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6560:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/server.py:1522:12 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6562:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6582:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1722:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:6590:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1724:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7056:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_TERM tools/ck3lens_mcp/server.py:3977:8 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7058:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids if cvids else None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7192:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4792:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7200:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4793:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7208:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4794:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7216:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4795:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7224:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4796:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7236:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4798:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7248:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4799:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7260:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4800:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7272:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4801:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7284:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4802:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7296:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4803:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7308:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4804:1 — Oracle: can_write pattern — matched pattern 'can%write'.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7518:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** - no parallel lists like `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7522:0 — Banned/concept-expansion term mentioned in documentation.
    Use these tools to write to mods. Enforcement policy determines at execution time whether a write is allowed based on the mod's location (local_mods_folder vs workshop/vanilla).
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7524:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:3:0 — Banned/concept-expansion term mentioned in docume
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7528:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:23:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7530:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. Replacement for `LENSWORLD.md` (Sanitized)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7532:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:27:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7534:0 — Banned/concept-expansion term mentioned in documentation.
    fileName: LENSWORLD.md
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7536:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:30:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7538:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7540:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:39:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7542:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7544:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:41:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7546:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7548:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:47:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7550:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7552:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:51:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7554:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7556:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:53:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7558:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7560:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:56:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7562:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7564:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:59:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7566:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7568:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:69:0 — Banned/concept-expansion term mentioned in docum
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7570:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7572:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:138:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7574:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7576:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:181:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7578:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7580:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:182:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7582:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7584:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:183:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7586:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7588:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:339:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7590:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7592:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM Lensworld - Domain - Policy review outcomes.md:340:0 — Banned/concept-expansion term mentioned in docu
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7594:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods**`: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7598:0 — Banned/concept-expansion term mentioned in documentation.
    11. **LensWorld / scoped visibility model**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7602:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods: 6 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7606:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods: 0 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7610:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable: 2 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7614:0 — Banned/concept-expansion term mentioned in documentation.
    can_write: 0 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7618:0 — Banned/concept-expansion term mentioned in documentation.
    --- live_mods ---
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7622:0 — Banned/concept-expansion term mentioned in documentation.
    .github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7626:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:707:  "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7630:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7634:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:748:        return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7638:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:755:        "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7642:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7646:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:19:live_mods_config = {
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7650:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7654:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7658:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7662:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:143:live_mods:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7666:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:9:- Which mods the agent can write to (live_mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7670:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:35:3. Add live_mods for mods the agent can write to
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7674:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7678:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/example_playset.json:27:  "live_mods": [
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7682:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7686:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7690:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7694:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7698:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:35:    "live_mods module is deprecated, use local_mods instead",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7702:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7706:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7710:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7714:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7718:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7722:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7726:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7730:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7734:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7738:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7742:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7746:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7750:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7754:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7758:0 — Banned/concept-expansion term mentioned in documentation.
    --- is_writable ---
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7762:0 — Banned/concept-expansion term mentioned in documentation.
    docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7766:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7770:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {"write", "edit"} and not visibility_result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7774:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7778:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7782:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7786:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7790:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7794:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7798:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7802:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7806:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7810:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7814:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7818:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7822:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7826:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7830:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:106:    if not session.is_path_allowed(file_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7834:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:228:    if not session.is_path_allowed(old_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7838:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:230:    if not session.is_path_allowed(new_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7842:0 — Banned/concept-expansion term mentioned in documentation.
    During agent initialization, two different `local_mods_folder` paths were observed:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7846:0 — Banned/concept-expansion term mentioned in documentation.
    3. The `local_mods_folder` field in the JSON contains the absolute path from the original machine
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7850:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `local_mods_folder` Should Auto-Detect with Confirmation
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7854:0 — Banned/concept-expansion term mentioned in documentation.
    def detect_local_mods_folder() -> Path:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7858:0 — Banned/concept-expansion term mentioned in documentation.
    # Auto-detect local_mods_folder with cross-platform support.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7862:0 — Banned/concept-expansion term mentioned in documentation.
    **On first run**, if `local_mods_folder` is not in config and auto-detection succeeds, prompt user:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7866:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7870:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "~/.ck3mods"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7874:0 — Banned/concept-expansion term mentioned in documentation.
    - **Local mods**: Relative to `local_mods_folder` (e.g., `"path": "Mini Super Compatch"`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7878:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:/Users/Nathan/Documents/Paradox Interactive/Crusader Kings III/mod",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7882:0 — Banned/concept-expansion term mentioned in documentation.
    - can_write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7886:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7890:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods (as an array or list)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7894:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7898:0 — Banned/concept-expansion term mentioned in documentation.
    - live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7902:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7906:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ local_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7910:0 — Banned/concept-expansion term mentioned in documentation.
    - no local_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7914:0 — Banned/concept-expansion term mentioned in documentation.
    - no editable_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7918:0 — Banned/concept-expansion term mentioned in documentation.
    mod.path is under local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7922:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7926:0 — Banned/concept-expansion term mentioned in documentation.
    - path_under_local_mods(path)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7930:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7934:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods arrays appear
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7938:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods lists appear
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7942:0 — Banned/concept-expansion term mentioned in documentation.
    - Is this path under local_mods_folder?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7946:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7950:0 — Banned/concept-expansion term mentioned in documentation.
    | 1 | **ONE enforcement boundary** Ã¢â‚¬â€ only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7954:0 — Banned/concept-expansion term mentioned in documentation.
    | 3 | **mods[] is THE mod list** Ã¢â‚¬â€ no parallel lists | Creating `local_mods[]` or `editable_mods[]` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7958:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, config)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7962:0 — Banned/concept-expansion term mentioned in documentation.
    **Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7966:0 — Banned/concept-expansion term mentioned in documentation.
    - `PlaysetLens` is the runtime filter that scopes all DB queries to one playset
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7970:0 — Banned/concept-expansion term mentioned in documentation.
    - `Session.local_mods_folder` is a single `Path` for containment checks
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7974:0 — Banned/concept-expansion term mentioned in documentation.
    Launcher Playset Ã¢â€ â€™ playsets/*.json Ã¢â€ â€™ PlaysetLens Ã¢â€ â€™ DB Queries (filtered)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7978:0 — Banned/concept-expansion term mentioned in documentation.
    | Local | Documents/mod/ folder | Yes (if in local_mods_folder) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7982:0 — Banned/concept-expansion term mentioned in documentation.
    | Under `local_mods_folder` | `LOCAL_MOD` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7986:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": f"Not found in LensWorld: {path}"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7990:0 — Banned/concept-expansion term mentioned in documentation.
    def can_write_to_mod(mod_name: str) -> bool:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7994:0 — Banned/concept-expansion term mentioned in documentation.
    can_write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:7998:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8002:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8006:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods (as derived or filtered lists)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8010:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8014:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8018:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8022:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8026:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8030:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8034:0 — Banned/concept-expansion term mentioned in documentation.
    db_visibility() as primary API (use db_handle())
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8038:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_data         # Cached playset data = duplicate source of truth
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8042:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_file         # Cached file reference = duplicate source of truth
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8046:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8050:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` | `mods[]` + containment check | no parallel lists |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8054:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_to_mod()` | N/A Ã¢â‚¬â€ delete entirely | oracle function |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8058:0 — Banned/concept-expansion term mentioned in documentation.
    | `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8062:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write_to_db():
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8066:0 — Banned/concept-expansion term mentioned in documentation.
    Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8070:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorldAdapter(...)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8074:0 — Banned/concept-expansion term mentioned in documentation.
    - **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8078:0 — Banned/concept-expansion term mentioned in documentation.
    - **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8082:0 — Banned/concept-expansion term mentioned in documentation.
    - **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8086:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8090:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods`**: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8094:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8098:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8102:0 — Banned/concept-expansion term mentioned in documentation.
    return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8106:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8110:0 — Banned/concept-expansion term mentioned in documentation.
    | 1140 | `playset_data.get("local_mods", [])` — reads legacy playset JSON format |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8112:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:1:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8114:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8116:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:10:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8118:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8120:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:12:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8122:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8124:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:18:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8126:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8128:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:22:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8130:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8132:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:24:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8134:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8136:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:27:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8138:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8140:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:30:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8142:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8144:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:40:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8146:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8148:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:109:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8150:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8152:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:151:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8154:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8156:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:152:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8158:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8160:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/LENSWORLD.md:153:0 — Banned/concept-expansion term mentioned in documentation.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8162:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8166:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods_folder` exists
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8170:0 — Banned/concept-expansion term mentioned in documentation.
    - BUT: `live_mods` key found in example_playset.json (BANNED IDEA)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8174:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_path` | mod_files.py |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8178:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_allowed` | local_mods.py, workspace.py, tests |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8182:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8186:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q1: `mod_root` vs `local_mods_folder` disambiguation
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8190:0 — Banned/concept-expansion term mentioned in documentation.
    **Question:** Should this be renamed to `local_mods_folder` (matching the playset JSON key)?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8194:0 — Banned/concept-expansion term mentioned in documentation.
    My recommendation: YES - rename `_session.mod_root` → `_session.local_mods_folder`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8198:0 — Banned/concept-expansion term mentioned in documentation.
    Currently `local_mod_roots` is used to track which mod paths are under `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8202:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q4: Playset JSON `live_mods` key
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8206:0 — Banned/concept-expansion term mentioned in documentation.
    The example_playset.json has a `live_mods` key which is a BANNED IDEA.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8210:0 — Banned/concept-expansion term mentioned in documentation.
    is_path_writable() → path_under_local_mods()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8214:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable → ui_hint_potentially_editable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8218:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root → local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8222:0 — Banned/concept-expansion term mentioned in documentation.
    Remove early denial checks based on is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8226:0 — Banned/concept-expansion term mentioned in documentation.
    can_write_path → REMOVE
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8230:0 — Banned/concept-expansion term mentioned in documentation.
    #### 2.6 local_mods.py
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8234:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root references → local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8238:0 — Banned/concept-expansion term mentioned in documentation.
    - Remove `live_mods` from example_playset.json
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8242:0 — Banned/concept-expansion term mentioned in documentation.
    7. `local_mods.py` - Remove permission helpers
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8246:0 — Banned/concept-expansion term mentioned in documentation.
    13. `lensworld_sandbox.py` - Sandbox enforcement
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8250:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` → `ui_hint_potentially_editable` | ~16 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8254:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_writable` → `path_under_local_mods` | ~3 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8258:0 — Banned/concept-expansion term mentioned in documentation.
    | `mod_root` → `local_mods_folder` | ~10 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8262:0 — Banned/concept-expansion term mentioned in documentation.
    - `*_writable` (use `path_under_local_mods` for structural descriptor)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8266:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, ...)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8270:0 — Banned/concept-expansion term mentioned in documentation.
    **Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8274:0 — Banned/concept-expansion term mentioned in documentation.
    | "Where is the local mods folder?" | Session.local_mods_folder | Path |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8278:0 — Banned/concept-expansion term mentioned in documentation.
    if not is_under_local_mods_folder(file_path, session.local_mods_folder):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8282:0 — Banned/concept-expansion term mentioned in documentation.
    return (False, "Path outside local_mods_folder")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8286:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] # Configured boundary
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8290:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8294:0 — Banned/concept-expansion term mentioned in documentation.
    def path_under_local_mods(self, path: Path) -> bool:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8298:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\...\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8302:0 — Banned/concept-expansion term mentioned in documentation.
    **Note:** There is no `local_mods[]` array. Local mods are determined at runtime by checking `mod.path` against `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8306:0 — Banned/concept-expansion term mentioned in documentation.
    | `path_under_local_mods` | `path.startswith(local_mods_folder)` | UI hints only |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8310:0 — Banned/concept-expansion term mentioned in documentation.
    | `session.can_write_path()` | Permission oracle | Enforce at boundary |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8314:0 — Banned/concept-expansion term mentioned in documentation.
    | `if not is_writable: return error` | Early denial | Let enforcement decide |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8318:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` array | Parallel concept | Derive from `mods[]` + path |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8322:0 — Banned/concept-expansion term mentioned in documentation.
    git_scope: str  # "local_mods" | "ck3raven" | "none"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8326:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8330:0 — Banned/concept-expansion term mentioned in documentation.
    **Same as `local_mods` - a BANNED parallel authority list!**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8334:0 — Banned/concept-expansion term mentioned in documentation.
    | 349 | `editable_mods = [...]` - being created |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8338:0 — Banned/concept-expansion term mentioned in documentation.
    | 360 | `editable_mods_list` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8342:0 — Banned/concept-expansion term mentioned in documentation.
    **Action:** Destroy completely. Editability is DERIVED from `mods[]` + `local_mods_folder` containment check, never stored as a separate list.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8346:0 — Banned/concept-expansion term mentioned in documentation.
    1. ✅ Deleted `local_mods.py` module entirely
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8350:0 — Banned/concept-expansion term mentioned in documentation.
    3. ✅ Removed `local_mods` import from `server.py`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8354:0 — Banned/concept-expansion term mentioned in documentation.
    4. ✅ Archived legacy MCP tools (deregistered `ck3_list_local_mods`, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8358:0 — Banned/concept-expansion term mentioned in documentation.
    5. ✅ Fixed `ck3_playset(command="add_mod")` to add to `mods[]` not `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8362:0 — Banned/concept-expansion term mentioned in documentation.
    - Line 4033: `local_mods.write_file()` - calls deleted module!
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8366:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods` references
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8370:0 — Banned/concept-expansion term mentioned in documentation.
    1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8374:0 — Banned/concept-expansion term mentioned in documentation.
    5. **FIX** remaining `local_mods` references
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8378:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. LensWorld — What You See and Why It Exists
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8382:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld exists to remove that burden from you.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8386:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld presents a **virtual filesystem and data view** that contains:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8390:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a cognitive simplification layer**, not merely a safety feature.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8394:0 — Banned/concept-expansion term mentioned in documentation.
    ## 3. What LensWorld Contains
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8398:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is composed of the following scope domains:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8402:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is a hard guardrail. Anything outside it realizes as "not found".
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8406:0 — Banned/concept-expansion term mentioned in documentation.
    - paths outside LensWorld behave as nonexistent
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8410:0 — Banned/concept-expansion term mentioned in documentation.
    **Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8414:0 — Banned/concept-expansion term mentioned in documentation.
    ### LensWorld Sandbox for ck3lens WIP Scripts ✅
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8418:0 — Banned/concept-expansion term mentioned in documentation.
    - `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8422:0 — Banned/concept-expansion term mentioned in documentation.
    - Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8426:0 — Banned/concept-expansion term mentioned in documentation.
    - `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8430:0 — Banned/concept-expansion term mentioned in documentation.
    6. `b6a65e4` - LensWorld sandbox (ck3lens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8434:0 — Banned/concept-expansion term mentioned in documentation.
    > **Source:** User concern about scripts bypassing LensWorld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8438:0 — Banned/concept-expansion term mentioned in documentation.
    **However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8442:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld's cognitive simplification is undermined
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8446:0 — Banned/concept-expansion term mentioned in documentation.
    - ck3_exec applies LensWorld constraints
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8450:0 — Banned/concept-expansion term mentioned in documentation.
    > **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8454:0 — Banned/concept-expansion term mentioned in documentation.
    This document captured the original requirements for playset filtering before the LensWorld architecture was designed.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8458:0 — Banned/concept-expansion term mentioned in documentation.
    - **LENSWORLD.md** - Canonical visibility architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8462:0 — Banned/concept-expansion term mentioned in documentation.
    ### Core Principle (Now Implemented via LensWorld)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8466:0 — Banned/concept-expansion term mentioned in documentation.
    This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8470:0 — Banned/concept-expansion term mentioned in documentation.
    3. PlaysetLens class for filtering
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8474:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens handles DB query filtering
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8478:0 — Banned/concept-expansion term mentioned in documentation.
    - [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8480:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:1:0 — Banned/concept-expansion term mentio
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8482:0 — Banned/concept-expansion term mentioned in documentation.
    # AGENT REPLY 1: Canonical LensWorld Proposal
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8484:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:5:0 — Banned/concept-expansion term mentio
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8486:0 — Banned/concept-expansion term mentioned in documentation.
    > **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8488:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:11:0 — Banned/concept-expansion term menti
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8490:0 — Banned/concept-expansion term mentioned in documentation.
    This document contained the agent's review and questions about the proposed LensWorld architecture.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8492:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:14:0 — Banned/concept-expansion term menti
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8494:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/LENSWORLD.md` - Canonical visibility architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8496:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:28:0 — Banned/concept-expansion term menti
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8498:0 — Banned/concept-expansion term mentioned in documentation.
    6. **B.6 Utility Files:** First-class LensWorld domain
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8500:0 — Banned/concept-expansion term mentioned in documentation.
    DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:31:0 — Banned/concept-expansion term menti
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8502:0 — Banned/concept-expansion term mentioned in documentation.
    9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8506:0 — Banned/concept-expansion term mentioned in documentation.
    ### 3. live_mods_config References
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8510:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 75 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8514:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 113 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8518:0 — Banned/concept-expansion term mentioned in documentation.
    | ck3lens_rules.py | 144 | `if local_mods_folder` | ✅ Enforcement |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8522:0 — Banned/concept-expansion term mentioned in documentation.
    | types.py | 438 | `if scope.get("local_mods_folder")` | ⚠️ Review |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8526:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 242 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8530:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 287 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8534:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 600 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8538:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 965 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8542:0 — Banned/concept-expansion term mentioned in documentation.
    | canonical_phase1_lint.py | 329 | `if "local_mods_folder" in line_text` | ✅ Lint |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8546:0 — Banned/concept-expansion term mentioned in documentation.
    | audit.py | 253 | `log_lensworld_resolution` | RENAME → `log_resolution` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8550:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8554:0 — Banned/concept-expansion term mentioned in documentation.
    | world_router.py | 27 | `PlaysetLens` import | DELETE |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8558:0 — Banned/concept-expansion term mentioned in documentation.
    2. Rename `log_lensworld_resolution` → `log_resolution`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8562:0 — Banned/concept-expansion term mentioned in documentation.
    3. Refactor `PlaysetLens` → use `mods[]` directly
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8566:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated when hardcodin
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8570:0 — Banned/concept-expansion term mentioned in documentation.
    ### Error 2: Claiming `live_mods_config` only in docs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8574:0 — Banned/concept-expansion term mentioned in documentation.
    **Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8578:0 — Banned/concept-expansion term mentioned in documentation.
    | "active local mods" | Implies filtered/derived list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8582:0 — Banned/concept-expansion term mentioned in documentation.
    | "live mods" | Implies separate list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8586:0 — Banned/concept-expansion term mentioned in documentation.
    | "local mods" (as list) | Parallel structure | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8590:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a Path for containment checks
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8594:0 — Banned/concept-expansion term mentioned in documentation.
    - Enforcement checks if mod path is under local_mods_folder at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8598:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Imported playset. Edit agent_briefing and add local_mods as needed."
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8602:0 — Banned/concept-expansion term mentioned in documentation.
    │   │   ├── AGENT REPLY 1 - Canonical lensworld proposal.md
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8606:0 — Banned/concept-expansion term mentioned in documentation.
    │   ├── LENSWORLD.md
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8610:0 — Banned/concept-expansion term mentioned in documentation.
    ├── Lensworld - Domain - Policy review outcomes.md
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8614:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** - no parallel lists like `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8618:0 — Banned/concept-expansion term mentioned in documentation.
    Use these tools to write to mods. Enforcement policy determines at execution time whether a write is allowed based on the mod's location (local_mods_folder vs workshop/vanilla).
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8622:0 — Banned/concept-expansion term mentioned in documentation.
    11. **LensWorld / scoped visibility model**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8626:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods: 6 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8630:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods: 0 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8634:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable: 2 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8638:0 — Banned/concept-expansion term mentioned in documentation.
    can_write: 0 matches
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8642:0 — Banned/concept-expansion term mentioned in documentation.
    --- live_mods ---
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8646:0 — Banned/concept-expansion term mentioned in documentation.
    .github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8650:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:707:  "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8654:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8658:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:748:        return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8662:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:755:        "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8666:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8670:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:19:live_mods_config = {
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8674:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8678:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8682:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8686:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:143:live_mods:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8690:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:9:- Which mods the agent can write to (live_mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8694:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:35:3. Add live_mods for mods the agent can write to
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8698:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8702:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/example_playset.json:27:  "live_mods": [
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8706:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8710:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8714:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8718:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8722:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:35:    "live_mods module is deprecated, use local_mods instead",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8726:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8730:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8734:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8738:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8742:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8746:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8750:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8754:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8758:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8762:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8766:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8770:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8774:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8778:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8782:0 — Banned/concept-expansion term mentioned in documentation.
    --- is_writable ---
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8786:0 — Banned/concept-expansion term mentioned in documentation.
    docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8790:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8794:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {"write", "edit"} and not visibility_result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8798:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8802:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8806:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8810:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8814:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8818:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8822:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8826:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8830:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8834:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8838:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8842:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8846:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8850:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8854:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:106:    if not session.is_path_allowed(file_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8858:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:228:    if not session.is_path_allowed(old_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8862:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:230:    if not session.is_path_allowed(new_path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8866:0 — Banned/concept-expansion term mentioned in documentation.
    During agent initialization, two different `local_mods_folder` paths were observed:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8870:0 — Banned/concept-expansion term mentioned in documentation.
    3. The `local_mods_folder` field in the JSON contains the absolute path from the original machine
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8874:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `local_mods_folder` Should Auto-Detect with Confirmation
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8878:0 — Banned/concept-expansion term mentioned in documentation.
    def detect_local_mods_folder() -> Path:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8882:0 — Banned/concept-expansion term mentioned in documentation.
    # Auto-detect local_mods_folder with cross-platform support.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8886:0 — Banned/concept-expansion term mentioned in documentation.
    **On first run**, if `local_mods_folder` is not in config and auto-detection succeeds, prompt user:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8890:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8894:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "~/.ck3mods"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8898:0 — Banned/concept-expansion term mentioned in documentation.
    - **Local mods**: Relative to `local_mods_folder` (e.g., `"path": "Mini Super Compatch"`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8902:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:/Users/Nathan/Documents/Paradox Interactive/Crusader Kings III/mod",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8906:0 — Banned/concept-expansion term mentioned in documentation.
    - can_write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8910:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8914:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods (as an array or list)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8918:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8922:0 — Banned/concept-expansion term mentioned in documentation.
    - live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8926:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8930:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ local_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8934:0 — Banned/concept-expansion term mentioned in documentation.
    - no local_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8938:0 — Banned/concept-expansion term mentioned in documentation.
    - no editable_mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8942:0 — Banned/concept-expansion term mentioned in documentation.
    mod.path is under local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8946:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8950:0 — Banned/concept-expansion term mentioned in documentation.
    - path_under_local_mods(path)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8954:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8958:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods arrays appear
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8962:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods lists appear
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8966:0 — Banned/concept-expansion term mentioned in documentation.
    - Is this path under local_mods_folder?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8970:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8974:0 — Banned/concept-expansion term mentioned in documentation.
    | 1 | **ONE enforcement boundary** Ã¢â‚¬â€ only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8978:0 — Banned/concept-expansion term mentioned in documentation.
    | 3 | **mods[] is THE mod list** Ã¢â‚¬â€ no parallel lists | Creating `local_mods[]` or `editable_mods[]` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8982:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, config)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8986:0 — Banned/concept-expansion term mentioned in documentation.
    **Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8990:0 — Banned/concept-expansion term mentioned in documentation.
    - `PlaysetLens` is the runtime filter that scopes all DB queries to one playset
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8994:0 — Banned/concept-expansion term mentioned in documentation.
    - `Session.local_mods_folder` is a single `Path` for containment checks
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:8998:0 — Banned/concept-expansion term mentioned in documentation.
    Launcher Playset Ã¢â€ â€™ playsets/*.json Ã¢â€ â€™ PlaysetLens Ã¢â€ â€™ DB Queries (filtered)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9002:0 — Banned/concept-expansion term mentioned in documentation.
    | Local | Documents/mod/ folder | Yes (if in local_mods_folder) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9006:0 — Banned/concept-expansion term mentioned in documentation.
    | Under `local_mods_folder` | `LOCAL_MOD` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9010:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": f"Not found in LensWorld: {path}"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9014:0 — Banned/concept-expansion term mentioned in documentation.
    def can_write_to_mod(mod_name: str) -> bool:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9018:0 — Banned/concept-expansion term mentioned in documentation.
    can_write
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9022:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9026:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9030:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods (as derived or filtered lists)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9034:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9038:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9042:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9046:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9050:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9054:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9058:0 — Banned/concept-expansion term mentioned in documentation.
    db_visibility() as primary API (use db_handle())
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9062:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_data         # Cached playset data = duplicate source of truth
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9066:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_file         # Cached file reference = duplicate source of truth
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9070:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9074:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` | `mods[]` + containment check | no parallel lists |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9078:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_to_mod()` | N/A Ã¢â‚¬â€ delete entirely | oracle function |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9082:0 — Banned/concept-expansion term mentioned in documentation.
    | `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9086:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write_to_db():
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9090:0 — Banned/concept-expansion term mentioned in documentation.
    Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9094:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorldAdapter(...)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9098:0 — Banned/concept-expansion term mentioned in documentation.
    - **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9102:0 — Banned/concept-expansion term mentioned in documentation.
    - **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9106:0 — Banned/concept-expansion term mentioned in documentation.
    - **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9110:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9114:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods`**: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9118:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9122:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9126:0 — Banned/concept-expansion term mentioned in documentation.
    return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9130:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9134:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. LensWorld — What You See and Why It Exists
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9138:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld exists to remove that burden from you.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9142:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld presents a **virtual filesystem and data view** that contains:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9146:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a cognitive simplification layer**, not merely a safety feature.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9150:0 — Banned/concept-expansion term mentioned in documentation.
    ## 3. What LensWorld Contains
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9154:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is composed of the following scope domains:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9158:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is a hard guardrail. Anything outside it realizes as "not found".
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9162:0 — Banned/concept-expansion term mentioned in documentation.
    - paths outside LensWorld behave as nonexistent
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9166:0 — Banned/concept-expansion term mentioned in documentation.
    **Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9170:0 — Banned/concept-expansion term mentioned in documentation.
    ### LensWorld Sandbox for ck3lens WIP Scripts ✅
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9174:0 — Banned/concept-expansion term mentioned in documentation.
    - `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9178:0 — Banned/concept-expansion term mentioned in documentation.
    - Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9182:0 — Banned/concept-expansion term mentioned in documentation.
    - `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9186:0 — Banned/concept-expansion term mentioned in documentation.
    6. `b6a65e4` - LensWorld sandbox (ck3lens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9190:0 — Banned/concept-expansion term mentioned in documentation.
    > **Source:** User concern about scripts bypassing LensWorld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9194:0 — Banned/concept-expansion term mentioned in documentation.
    **However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9198:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld's cognitive simplification is undermined
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9202:0 — Banned/concept-expansion term mentioned in documentation.
    - ck3_exec applies LensWorld constraints
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9206:0 — Banned/concept-expansion term mentioned in documentation.
    | 1140 | `playset_data.get("local_mods", [])` — reads legacy playset JSON format |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9210:0 — Banned/concept-expansion term mentioned in documentation.
    > **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9214:0 — Banned/concept-expansion term mentioned in documentation.
    This document captured the original requirements for playset filtering before the LensWorld architecture was designed.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9218:0 — Banned/concept-expansion term mentioned in documentation.
    - **LENSWORLD.md** - Canonical visibility architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9222:0 — Banned/concept-expansion term mentioned in documentation.
    ### Core Principle (Now Implemented via LensWorld)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9226:0 — Banned/concept-expansion term mentioned in documentation.
    This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9230:0 — Banned/concept-expansion term mentioned in documentation.
    3. PlaysetLens class for filtering
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9234:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens handles DB query filtering
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9238:0 — Banned/concept-expansion term mentioned in documentation.
    - [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9242:0 — Banned/concept-expansion term mentioned in documentation.
    ### `docs\issues\AGENT REPLY 1 - Canonical lensworld proposal.md`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9246:0 — Banned/concept-expansion term mentioned in documentation.
    # AGENT REPLY 1: Canonical LensWorld Proposal
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9250:0 — Banned/concept-expansion term mentioned in documentation.
    > **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9254:0 — Banned/concept-expansion term mentioned in documentation.
    This document contained the agent's review and questions about the proposed LensWorld architecture.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9258:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/LENSWORLD.md` - Canonical visibility architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9262:0 — Banned/concept-expansion term mentioned in documentation.
    6. **B.6 Utility Files:** First-class LensWorld domain
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9266:0 — Banned/concept-expansion term mentioned in documentation.
    9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9270:0 — Banned/concept-expansion term mentioned in documentation.
    ### 3. live_mods_config References
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9274:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 75 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9278:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 113 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9282:0 — Banned/concept-expansion term mentioned in documentation.
    | ck3lens_rules.py | 144 | `if local_mods_folder` | ✅ Enforcement |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9286:0 — Banned/concept-expansion term mentioned in documentation.
    | types.py | 438 | `if scope.get("local_mods_folder")` | ⚠️ Review |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9290:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 242 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9294:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 287 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9298:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 600 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9302:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 965 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9306:0 — Banned/concept-expansion term mentioned in documentation.
    | canonical_phase1_lint.py | 329 | `if "local_mods_folder" in line_text` | ✅ Lint |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9310:0 — Banned/concept-expansion term mentioned in documentation.
    | audit.py | 253 | `log_lensworld_resolution` | RENAME → `log_resolution` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9314:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9318:0 — Banned/concept-expansion term mentioned in documentation.
    | world_router.py | 27 | `PlaysetLens` import | DELETE |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9322:0 — Banned/concept-expansion term mentioned in documentation.
    2. Rename `log_lensworld_resolution` → `log_resolution`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9326:0 — Banned/concept-expansion term mentioned in documentation.
    3. Refactor `PlaysetLens` → use `mods[]` directly
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9330:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated when hardcodin
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9334:0 — Banned/concept-expansion term mentioned in documentation.
    ### Error 2: Claiming `live_mods_config` only in docs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9338:0 — Banned/concept-expansion term mentioned in documentation.
    **Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9342:0 — Banned/concept-expansion term mentioned in documentation.
    | "active local mods" | Implies filtered/derived list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9346:0 — Banned/concept-expansion term mentioned in documentation.
    | "live mods" | Implies separate list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9350:0 — Banned/concept-expansion term mentioned in documentation.
    | "local mods" (as list) | Parallel structure | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9354:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a Path for containment checks
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9358:0 — Banned/concept-expansion term mentioned in documentation.
    - Enforcement checks if mod path is under local_mods_folder at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9362:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Imported playset. Edit agent_briefing and add local_mods as needed."
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9366:0 — Banned/concept-expansion term mentioned in documentation.
    ### `docs\LENSWORLD.md`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9370:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9374:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9378:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9382:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9386:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9390:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9394:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9398:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9402:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9406:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9410:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9414:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9418:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9422:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods_folder` exists
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9426:0 — Banned/concept-expansion term mentioned in documentation.
    - BUT: `live_mods` key found in example_playset.json (BANNED IDEA)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9430:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_path` | mod_files.py |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9434:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_allowed` | local_mods.py, workspace.py, tests |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9438:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9442:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q1: `mod_root` vs `local_mods_folder` disambiguation
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9446:0 — Banned/concept-expansion term mentioned in documentation.
    **Question:** Should this be renamed to `local_mods_folder` (matching the playset JSON key)?
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9450:0 — Banned/concept-expansion term mentioned in documentation.
    My recommendation: YES - rename `_session.mod_root` → `_session.local_mods_folder`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9454:0 — Banned/concept-expansion term mentioned in documentation.
    Currently `local_mod_roots` is used to track which mod paths are under `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9458:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q4: Playset JSON `live_mods` key
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9462:0 — Banned/concept-expansion term mentioned in documentation.
    The example_playset.json has a `live_mods` key which is a BANNED IDEA.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9466:0 — Banned/concept-expansion term mentioned in documentation.
    is_path_writable() → path_under_local_mods()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9470:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable → ui_hint_potentially_editable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9474:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root → local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9478:0 — Banned/concept-expansion term mentioned in documentation.
    Remove early denial checks based on is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9482:0 — Banned/concept-expansion term mentioned in documentation.
    can_write_path → REMOVE
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9486:0 — Banned/concept-expansion term mentioned in documentation.
    #### 2.6 local_mods.py
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9490:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root references → local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9494:0 — Banned/concept-expansion term mentioned in documentation.
    - Remove `live_mods` from example_playset.json
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9498:0 — Banned/concept-expansion term mentioned in documentation.
    7. `local_mods.py` - Remove permission helpers
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9502:0 — Banned/concept-expansion term mentioned in documentation.
    13. `lensworld_sandbox.py` - Sandbox enforcement
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9506:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` → `ui_hint_potentially_editable` | ~16 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9510:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_writable` → `path_under_local_mods` | ~3 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9514:0 — Banned/concept-expansion term mentioned in documentation.
    | `mod_root` → `local_mods_folder` | ~10 |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9518:0 — Banned/concept-expansion term mentioned in documentation.
    - `*_writable` (use `path_under_local_mods` for structural descriptor)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9522:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, ...)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9526:0 — Banned/concept-expansion term mentioned in documentation.
    **Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9530:0 — Banned/concept-expansion term mentioned in documentation.
    | "Where is the local mods folder?" | Session.local_mods_folder | Path |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9534:0 — Banned/concept-expansion term mentioned in documentation.
    if not is_under_local_mods_folder(file_path, session.local_mods_folder):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9538:0 — Banned/concept-expansion term mentioned in documentation.
    return (False, "Path outside local_mods_folder")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9542:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] # Configured boundary
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9546:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9550:0 — Banned/concept-expansion term mentioned in documentation.
    def path_under_local_mods(self, path: Path) -> bool:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9554:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\...\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9558:0 — Banned/concept-expansion term mentioned in documentation.
    **Note:** There is no `local_mods[]` array. Local mods are determined at runtime by checking `mod.path` against `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9562:0 — Banned/concept-expansion term mentioned in documentation.
    | `path_under_local_mods` | `path.startswith(local_mods_folder)` | UI hints only |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9566:0 — Banned/concept-expansion term mentioned in documentation.
    | `session.can_write_path()` | Permission oracle | Enforce at boundary |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9570:0 — Banned/concept-expansion term mentioned in documentation.
    | `if not is_writable: return error` | Early denial | Let enforcement decide |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9574:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` array | Parallel concept | Derive from `mods[]` + path |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9578:0 — Banned/concept-expansion term mentioned in documentation.
    git_scope: str  # "local_mods" | "ck3raven" | "none"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9582:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9586:0 — Banned/concept-expansion term mentioned in documentation.
    **Same as `local_mods` - a BANNED parallel authority list!**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9590:0 — Banned/concept-expansion term mentioned in documentation.
    | 349 | `editable_mods = [...]` - being created |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9594:0 — Banned/concept-expansion term mentioned in documentation.
    | 360 | `editable_mods_list` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9598:0 — Banned/concept-expansion term mentioned in documentation.
    **Action:** Destroy completely. Editability is DERIVED from `mods[]` + `local_mods_folder` containment check, never stored as a separate list.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9602:0 — Banned/concept-expansion term mentioned in documentation.
    1. ✅ Deleted `local_mods.py` module entirely
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9606:0 — Banned/concept-expansion term mentioned in documentation.
    3. ✅ Removed `local_mods` import from `server.py`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9610:0 — Banned/concept-expansion term mentioned in documentation.
    4. ✅ Archived legacy MCP tools (deregistered `ck3_list_local_mods`, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9614:0 — Banned/concept-expansion term mentioned in documentation.
    5. ✅ Fixed `ck3_playset(command="add_mod")` to add to `mods[]` not `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9618:0 — Banned/concept-expansion term mentioned in documentation.
    - Line 4033: `local_mods.write_file()` - calls deleted module!
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9622:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods` references
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9626:0 — Banned/concept-expansion term mentioned in documentation.
    1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9630:0 — Banned/concept-expansion term mentioned in documentation.
    5. **FIX** remaining `local_mods` references
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9634:0 — Banned/concept-expansion term mentioned in documentation.
    ### `Lensworld - Domain - Policy review outcomes.md`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9642:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. Replacement for `LENSWORLD.md` (Sanitized)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9646:0 — Banned/concept-expansion term mentioned in documentation.
    fileName: LENSWORLD.md
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9650:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9654:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9658:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9662:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9666:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9670:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9674:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9678:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9682:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9686:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9690:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9694:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9698:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9702:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9706:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods**`: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9710:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9714:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "11. **LensWorld / scoped visibility model**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9718:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods: 6 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9722:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods: 0 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9726:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable: 2 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9730:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write: 0 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9734:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- live_mods ---",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9738:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ".github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9742:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:707:  \"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9746:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9750:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:748:        return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9754:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:755:        \"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9758:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9762:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:19:live_mods_config = {",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9766:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9770:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9774:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9778:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:143:live_mods:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9782:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:9:- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9786:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:35:3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9790:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9794:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/example_playset.json:27:  \"live_mods\": [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9798:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9802:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9806:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9810:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9814:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:35:    \"live_mods module is deprecated, use local_mods instead\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9818:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9822:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9826:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9830:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9834:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9838:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9842:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9846:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9850:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9854:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9858:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9862:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9866:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9870:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9874:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- is_writable ---",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9878:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9882:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9886:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {\"write\", \"edit\"} and not visibility_result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9890:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9894:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9898:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9902:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9906:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9910:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9914:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9918:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9922:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9926:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9930:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9934:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9938:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9942:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9946:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9950:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9954:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9958:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9962:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u274c is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9966:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- no editable_mods[]",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9970:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9974:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods lists appear",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9978:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9982:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 1 | **ONE enforcement boundary** \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9986:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 3 | **mods[] is THE mod list** \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d no parallel lists | Creating `local_mods[]` or `editable_mods[]` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9990:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, config)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9994:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:9998:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` is the runtime filter that scopes all DB queries to one playset",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10002:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Launcher Playset \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 playsets/*.json \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 PlaysetLens \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 DB Queries (filtered)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10006:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"error\": f\"Not found in LensWorld: {path}\"}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10010:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def can_write_to_mod(mod_name: str) -> bool:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10014:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10018:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10022:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10026:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10030:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10034:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10038:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10042:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10046:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10050:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10054:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_to_mod()` | N/A \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d delete entirely | oracle function |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10058:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10062:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write_to_db():",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10066:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10070:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorldAdapter(...)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10074:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10078:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10082:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10086:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Related:** [LENSWORLD.md](LENSWORLD.md) - Visibility layer architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10090:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 0. Relationship to LensWorld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10094:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**This document defines POLICY.** For visibility (what exists), see [LENSWORLD.md](LENSWORLD.md).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10098:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | \u274c See LENSWORLD.md |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10102:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** LensWorld and Policy are orthogonal:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10106:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld never returns ALLOW or DENY - only FOUND or NOT_FOUND",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10110:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only evaluates actions on references that LensWorld resolved successfully",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10114:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE PLAYSET (DB VIEW)** | LensWorld | \u2705 | \u274c | \u274c | Normal universe |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10118:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE LOCAL MODS** | LensWorld | \u2705 | \u2705 (contract) | \ud83d\udd36 (approval) | Only mutable scope |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10122:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE WORKSHOP MODS** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10126:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **VANILLA GAME** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10130:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3 UTILITY FILES** | LensWorld | \u2705 | \u274c | \u274c | Logs, saves, debug files |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10134:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3RAVEN SOURCE** | LensWorld | \u2705 (logged) | \u274c (always) | \u274c (always) | Read-only, for bug context |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10138:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3LENS WIP WORKSPACE** | LensWorld | \u2705 | \u2705 | \u2705 | Disposable Python scripts |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10142:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LAUNCHER / REGISTRY** | LensWorld | \u2705 (diagnostic) | \ud83d\udd36 (repair tool) | \ud83d\udd36 (repair tool) | Via ck3_repair only |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10146:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create WorldAdapter and WorldRouter (see LENSWORLD.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10150:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10154:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Action | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10158:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10162:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10166:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10170:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10174:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. LensWorld \u2014 What You See and Why It Exists",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10178:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld exists to remove that burden from you.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10182:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld presents a **virtual filesystem and data view** that contains:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10186:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a cognitive simplification layer**, not merely a safety feature.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10190:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 3. What LensWorld Contains",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10194:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is composed of the following scope domains:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10198:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a hard guardrail. Anything outside it realizes as \"not found\".",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10202:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- paths outside LensWorld behave as nonexistent",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10206:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10210:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### LensWorld Sandbox for ck3lens WIP Scripts \u2705",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10214:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10218:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10222:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10226:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. `b6a65e4` - LensWorld sandbox (ck3lens)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10230:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Source:** User concern about scripts bypassing LensWorld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10234:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10238:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld's cognitive simplification is undermined",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10242:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- ck3_exec applies LensWorld constraints",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10246:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10250:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods_config = {",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10254:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10258:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location: `DEFAULT_LIVE_MODS` constant (Lines ~70-94)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10262:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "DEFAULT_LIVE_MODS = [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10266:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10270:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `bridge/server.py` | `list_live_mods()` | \u26a0\ufe0f Hardcoded | HIGH |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10274:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `workspace.py` | `DEFAULT_LIVE_MODS` | \u2705 Has config loading | LOW |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10278:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10282:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10286:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document captured the original requirements for playset filtering before the LensWorld architecture was designed.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10290:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **LENSWORLD.md** - Canonical visibility architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10294:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Core Principle (Now Implemented via LensWorld)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10298:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10302:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. PlaysetLens class for filtering",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10306:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens handles DB query filtering",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10310:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10314:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10318:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# AGENT REPLY 1: Canonical LensWorld Proposal",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10322:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10326:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10330:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10334:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document contained the agent's review and questions about the proposed LensWorld architecture.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10338:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10342:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/LENSWORLD.md` - Canonical visibility architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10346:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10350:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. **B.6 Utility Files:** First-class LensWorld domain",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10354:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10358:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10362:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 3. live_mods_config References",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10366:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| audit.py | 253 | `log_lensworld_resolution` | RENAME \u2192 `log_resolution` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10370:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10374:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| world_router.py | 27 | `PlaysetLens` import | DELETE |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10378:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "2. Rename `log_lensworld_resolution` \u2192 `log_resolution`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10382:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Refactor `PlaysetLens` \u2192 use `mods[]` directly",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10386:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated w
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10390:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Error 2: Claiming `live_mods_config` only in docs",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10394:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10398:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10402:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld Architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10406:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10410:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 1. What LensWorld Is",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10414:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10418:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a hard visibility guardrail that defines the complete and only world an agent is capable of perceiving.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10422:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10426:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld determines:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10430:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10434:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. What LensWorld Is Not",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10438:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10442:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is **not**:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10446:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10450:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld never decides whether an action is allowed.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10454:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10458:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld and Policy are **orthogonal layers**:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10462:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10466:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | Visibility filtering |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10470:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10474:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a **hard guardrail on visibility**.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10478:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10482:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Visibility failure | Reference not in LensWorld | `NOT_FOUND` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10486:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10490:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` - Database query filtering by content_version_id",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10494:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10498:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `LensWorldAdapter` | ck3lens | Active playset only | Local mods + WIP |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10502:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10506:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 6.1 ck3lens Mode (LensWorldAdapter)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10510:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10514:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Policy enforcement runs **only after** LensWorld resolution succeeds.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10518:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10522:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Reference \u2192 LensWorld.resolve() \u2192 Found? \u2192 Policy.evaluate() \u2192 Action",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10526:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10530:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Scenario | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10534:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10538:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/world_adapter.py` | WorldAdapter interface, LensWorldAdapter, DevWorldAdapter |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10542:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10546:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/db_queries.py` | PlaysetLens - database query filtering |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10550:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10554:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10558:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10562:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld ensures ck3lens:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10566:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- BUT: `live_mods` key found in example_playset.json (BANNED IDEA)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10570:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_path` | mod_files.py |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10574:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10578:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Q4: Playset JSON `live_mods` key",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10582:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The example_playset.json has a `live_mods` key which is a BANNED IDEA.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10586:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable \u2192 ui_hint_potentially_editable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10590:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Remove early denial checks based on is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10594:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write_path \u2192 REMOVE",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10598:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Remove `live_mods` from example_playset.json",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10602:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "13. `lensworld_sandbox.py` - Sandbox enforcement",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10606:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` \u2192 `ui_hint_potentially_editable` | ~16 |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10610:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, ...)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10614:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10618:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `session.can_write_path()` | Permission oracle | Enforce at boundary |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10622:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `if not is_writable: return error` | Early denial | Let enforcement decide |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10626:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10630:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 349 | `editable_mods = [...]` - being created |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10634:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 360 | `editable_mods_list` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10638:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10642:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502       \u251c\u2500\u2500 lensworld_sandbox.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10646:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502       \u2514\u2500\u2500 test_lensworld_sandbox.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10650:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502   \u2502   \u251c\u2500\u2500 AGENT REPLY 1 - Canonical lensworld proposal.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10654:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502   \u251c\u2500\u2500 LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10658:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10662:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `archive\\deprecated_policy\\lensworld_sandbox.py`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10666:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from ck3lens.policy.lensworld_sandbox import run_script_sandboxed",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10670:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"ck3lens.policy.lensworld_sandbox is deprecated. \"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10674:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class LensWorldSandbox:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10678:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Runtime sandbox that constrains file access to LensWorld paths.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10682:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This matches the LensWorld principle that out-of-scope = \"not found\".",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10686:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "_active_sandbox: Optional[LensWorldSandbox] = None",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10690:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10694:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10698:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of builtins.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10702:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of io.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10706:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of Path.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10710:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10714:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {name}\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10718:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def activate_sandbox(sandbox: LensWorldSandbox) -> None:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10722:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Activate the LensWorld sandbox by monkey-patching file operations.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10726:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Deactivate the LensWorld sandbox and restore original functions.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10730:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Execute a Python script within the LensWorld sandbox.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10734:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "sandbox = LensWorldSandbox(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10738:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `archive\\deprecated_policy\\test_lensworld_sandbox.py`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10742:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Test suite for LensWorld Sandbox",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10746:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. Reads inside LensWorld (should work)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10750:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "2. Reads outside LensWorld (should fail with FileNotFoundError)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10754:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Writes inside LensWorld (should work)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10758:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "4. Writes outside LensWorld (should fail with FileNotFoundError)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10762:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from ck3lens.policy.lensworld_sandbox import run_script_sandboxed, LensWorldSandbox",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10766:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_read_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10770:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Reading a file outside LensWorld should fail.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10774:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Read outside LensWorld\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10778:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert not result[\"success\"], \"Should fail - reading outside LensWorld\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10782:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert \"LensWorld\" in result.get(\"error\", \"\") or result[\"audit\"].get(\"blocked_reads\", 0) > 0",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10786:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_write_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10790:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Writing a file outside LensWorld should fail.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10794:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Write outside LensWorld\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10798:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert not result[\"success\"], \"Should fail - writing outside LensWorld\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10802:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_exists_check_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10806:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Checking if a file outside LensWorld exists should return False.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10810:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Exists check outside LensWorld\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10814:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(\"LensWorld Sandbox Tests\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10818:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_read_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10822:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_write_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10826:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_exists_check_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10830:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "11. **LensWorld / scoped visibility model**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10834:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods: 6 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10838:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods: 0 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10842:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable: 2 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10846:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write: 0 matches",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10850:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- live_mods ---",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10854:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ".github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10858:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:707:  \"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10862:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10866:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:748:        return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10870:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:755:        \"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10874:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10878:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:19:live_mods_config = {",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10882:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10886:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10890:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10894:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:143:live_mods:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10898:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:9:- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10902:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:35:3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10906:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10910:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/example_playset.json:27:  \"live_mods\": [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10914:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10918:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10922:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10926:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10930:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:35:    \"live_mods module is deprecated, use local_mods instead\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10934:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10938:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10942:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10946:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10950:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10954:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10958:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10962:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10966:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10970:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10974:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10978:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10982:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10986:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10990:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- is_writable ---",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10994:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:10998:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11002:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {\"write\", \"edit\"} and not visibility_result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11006:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11010:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11014:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11018:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11022:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11026:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11030:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11034:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11038:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11042:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11046:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11050:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11054:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11058:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11062:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11066:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11070:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11074:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11078:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u274c is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11082:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- no editable_mods[]",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11086:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11090:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods lists appear",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11094:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11098:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 1 | **ONE enforcement boundary** \u2014 only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11102:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 3 | **mods[] is THE mod list** \u2014 no parallel lists | Creating `local_mods[]` or `editable_mods[]` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11106:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, config)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11110:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11114:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` is the runtime filter that scopes all DB queries to one playset",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11118:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Launcher Playset \u2192 playsets/*.json \u2192 PlaysetLens \u2192 DB Queries (filtered)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11122:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"error\": f\"Not found in LensWorld: {path}\"}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11126:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def can_write_to_mod(mod_name: str) -> bool:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11130:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11134:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11138:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11142:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11146:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11150:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_to_mod()` | N/A \u2014 delete entirely | oracle function |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11154:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11158:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Related:** [LENSWORLD.md](LENSWORLD.md) - Visibility layer architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11162:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 0. Relationship to LensWorld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11166:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**This document defines POLICY.** For visibility (what exists), see [LENSWORLD.md](LENSWORLD.md).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11170:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | \u274c See LENSWORLD.md |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11174:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** LensWorld and Policy are orthogonal:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11178:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld never returns ALLOW or DENY - only FOUND or NOT_FOUND",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11182:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only evaluates actions on references that LensWorld resolved successfully",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11186:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE PLAYSET (DB VIEW)** | LensWorld | \u2705 | \u274c | \u274c | Normal universe |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11190:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE LOCAL MODS** | LensWorld | \u2705 | \u2705 (contract) | \ud83d\udd36 (approval) | Only mutable scope |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11194:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE WORKSHOP MODS** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11198:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **VANILLA GAME** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11202:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3 UTILITY FILES** | LensWorld | \u2705 | \u274c | \u274c | Logs, saves, debug files |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11206:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3RAVEN SOURCE** | LensWorld | \u2705 (logged) | \u274c (always) | \u274c (always) | Read-only, for bug context |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11210:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3LENS WIP WORKSPACE** | LensWorld | \u2705 | \u2705 | \u2705 | Disposable Python scripts |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11214:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LAUNCHER / REGISTRY** | LensWorld | \u2705 (diagnostic) | \ud83d\udd36 (repair tool) | \ud83d\udd36 (repair tool) | Via ck3_repair only |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11218:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create WorldAdapter and WorldRouter (see LENSWORLD.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11222:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create LENSWORLD.md",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11226:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Action | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11230:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11234:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11238:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11242:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11246:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. LensWorld \u2014 What You See and Why It Exists",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11250:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld exists to remove that burden from you.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11254:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld presents a **virtual filesystem and data view** that contains:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11258:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a cognitive simplification layer**, not merely a safety feature.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11262:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 3. What LensWorld Contains",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11266:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is composed of the following scope domains:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11270:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a hard guardrail. Anything outside it realizes as \"not found\".",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11274:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- paths outside LensWorld behave as nonexistent",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11278:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11282:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### LensWorld Sandbox for ck3lens WIP Scripts \u2705",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11286:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11290:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11294:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11298:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. `b6a65e4` - LensWorld sandbox (ck3lens)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11302:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Source:** User concern about scripts bypassing LensWorld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11306:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11310:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld's cognitive simplification is undermined",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11314:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- ck3_exec applies LensWorld constraints",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11318:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11322:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods_config = {",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11326:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11330:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location: `DEFAULT_LIVE_MODS` constant (Lines ~70-94)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11334:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "DEFAULT_LIVE_MODS = [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11338:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11342:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `bridge/server.py` | `list_live_mods()` | \u26a0\ufe0f Hardcoded | HIGH |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11346:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `workspace.py` | `DEFAULT_LIVE_MODS` | \u2705 Has config loading | LOW |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11350:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11354:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11358:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document captured the original requirements for playset filtering before the LensWorld architecture was designed.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11362:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **LENSWORLD.md** - Canonical visibility architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11366:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Core Principle (Now Implemented via LensWorld)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11370:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11374:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. PlaysetLens class for filtering",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11378:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens handles DB query filtering",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11382:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11386:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `docs\\issues\\AGENT REPLY 1 - Canonical lensworld proposal.md`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11390:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# AGENT REPLY 1: Canonical LensWorld Proposal",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11394:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11398:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document contained the agent's review and questions about the proposed LensWorld architecture.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11402:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/LENSWORLD.md` - Canonical visibility architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11406:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. **B.6 Utility Files:** First-class LensWorld domain",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11410:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11414:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `docs\\LENSWORLD.md`",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11418:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld Architecture",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11422:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 1. What LensWorld Is",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11426:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a hard visibility guardrail that defines the complete and only world an agent is capable of perceiving.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11430:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld determines:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11434:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. What LensWorld Is Not",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11438:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is **not**:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11442:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld never decides whether an action is allowed.**",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11446:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld and Policy are **orthogonal layers**:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11450:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | Visibility filtering |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11454:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a **hard guardrail on visibility**.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11458:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Visibility failure | Reference not in LensWorld | `NOT_FOUND` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11462:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` - Database query filtering by content_version_id",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11466:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `LensWorldAdapter` | ck3lens | Active playset only | Local mods + WIP |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11470:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 6.1 ck3lens Mode (LensWorldAdapter)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11474:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Policy enforcement runs **only after** LensWorld resolution succeeds.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11478:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Reference \u2192 LensWorld.resolve() \u2192 Found? \u2192 Policy.evaluate() \u2192 Action",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11482:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Scenario | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11486:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/world_adapter.py` | WorldAdapter interface, LensWorldAdapter, DevWorldAdapter |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11490:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/db_queries.py` | PlaysetLens - database query filtering |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11494:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11498:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld ensures ck3lens:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11502:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- BUT: `live_mods` key found in example_playset.json (BANNED IDEA)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11506:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_path` | mod_files.py |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11510:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11514:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Q4: Playset JSON `live_mods` key",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11518:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The example_playset.json has a `live_mods` key which is a BANNED IDEA.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11522:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable \u2192 ui_hint_potentially_editable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11526:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Remove early denial checks based on is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11530:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write_path \u2192 REMOVE",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11534:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Remove `live_mods` from example_playset.json",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11538:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "13. `lensworld_sandbox.py` - Sandbox enforcement",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11542:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` \u2192 `ui_hint_potentially_editable` | ~16 |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11546:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, ...)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11550:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11554:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `session.can_write_path()` | Permission oracle | Enforce at boundary |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11558:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `if not is_writable: return error` | Early denial | Let enforcement decide |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11562:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11566:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 349 | `editable_mods = [...]` - being created |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11570:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 360 | `editable_mods_list` |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11574:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11578:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11582:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11586:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11590:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11594:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class PlaysetLens:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11598:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "self._lens_cache: dict[int, PlaysetLens] = {}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11602:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def get_lens(self, playset_id: int) -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11606:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens = PlaysetLens(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11610:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def get_active_lens(self) -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11614:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ") -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11618:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Build a PlaysetLens from file-based playset data.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11622:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "PlaysetLens with vanilla and mod content_version_ids,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11626:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return PlaysetLens(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11630:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11634:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11638:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11642:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11646:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11650:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11654:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11658:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11662:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11666:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11670:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11674:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter (None = search ALL)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11678:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: \"PlaysetLens\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11682:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11686:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11690:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- lensworld_sandbox.py: Merged into WorldAdapter",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11694:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LENSWORLD = \"lensworld\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11698:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld context (optional)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11702:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def log_lensworld_resolution(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11706:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Log a LensWorld path resolution event.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11710:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "f\"audit.{EventCategory.LENSWORLD.value}\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11714:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"event_category\": EventCategory.LENSWORLD.value,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11718:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld handles visibility (FOUND vs NOT_FOUND)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11722:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only applies AFTER a reference is resolved inside LensWorld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11726:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "NOT_FOUND = auto()          # For LensWorld - path outside lens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11730:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# Tools layer - MCP tool implementations that consume LensWorld + enforcement",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11734:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The sandbox does NOT need database access (PlaysetLens/DBQueries).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11738:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# Session info for LensWorld resolution",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11742:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Sandboxed I/O interceptor that delegates to LensWorld + enforcement.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11746:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld for visibility (can I see this path?)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11750:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[Sandbox] Path not visible in LensWorld: {path}\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11754:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Intercepted open() that checks LensWorld + enforcement.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11758:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return False  # Not in LensWorld = doesn't exist",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11762:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "All file operations are routed through LensWorld + enforcement.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11766:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "session: Active Session for LensWorld resolution",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11770:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld: visibility (what exists)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11774:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorldAdapter: For ck3lens mode - visibility filtered to active playset",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11778:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .db_queries import PlaysetLens, DBQueries",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11782:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class LensWorldAdapter(WorldAdapter):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11786:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: \"PlaysetLens\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11790:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def lens(self) -> \"PlaysetLens\":",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11794:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Get the underlying PlaysetLens for direct DB query filtering.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11798:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable checks (enforcement.py decides)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11802:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .world_adapter import WorldAdapter, LensWorldAdapter, DevWorldAdapter",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11806:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .db_queries import DBQueries, PlaysetLens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11810:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"] = None,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11814:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens for DB filtering (required for ck3lens)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11818:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"],",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11822:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ") -> LensWorldAdapter:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11826:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Build a LensWorldAdapter for ck3lens mode.\"\"\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11830:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"LensWorldAdapter requires PlaysetLens. \"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11834:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise RuntimeError(\"DBQueries required for LensWorldAdapter\")",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11838:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return LensWorldAdapter(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11842:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"] = None,",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11846:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# For writes, call enforcement.py - do NOT check result.is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11850:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List writable mods |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11854:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "& \"C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe\" -c \"from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11858:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | \u2705 Works |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11862:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "PlaysetLens object or None if no_lens=True or no playset configured",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11866:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# NOTE: No editable_mods list - enforcement.py determines writability at execution time",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11870:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"message\": \"Dry run - script would be executed in LensWorld sandbox\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11874:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"reason\": \"Executed in LensWorld sandbox\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11878:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"can_write\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11882:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"is_writable\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11886:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"editable_mods\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11890:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11894:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# These are WorldAdapter/LensWorld instances where resolve() is the correct API",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11898:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"lensworld\",",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11902:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11906:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11910:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11914:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11918:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LOCAL_MODS = [",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11922:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "LOCAL_MODS",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11926:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11930:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LOCAL_MODS = Path.home() / \"Documents\" / \"Paradox Interactive\" / \"Crusader Kings III\" / \"mod\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11934:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "LOCAL_MODS",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11938:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if not self.local_mods_folder:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11942:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if self.path_under_local_mods(mod_path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11946:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'log_lensworld_resolution(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11950:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def log_lensworld_resolution(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11954:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "log_lensworld_resolution",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11958:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if local_mods_folder:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11962:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "local_str = str(local_mods_folder.resolve()).replace(\"\\\\\", \"/\").lower()",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11966:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if scope.get(\"local_mods_folder\") is not None:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11970:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Symbol 'is_under_local_mods_folder' appears unused (no repo references found).",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11974:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "is_under_local_mods_folder",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11978:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'is_under_local_mods_folder' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11982:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def is_under_local_mods_folder(file_path: Path, local_mods_folder: Path) -> bool:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11986:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "is_under_local_mods_folder",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11990:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in data:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11994:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in data and data[\"local_mods_folder\"]:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:11998:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'PlaysetLens(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12002:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens (just use mods[].cvid)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12006:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "PlaysetLens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12010:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if local_mods_folder:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12014:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if self._local_mods_folder:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12018:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'PlaysetLens(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12022:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens (class - use mods[] instead)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12026:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "PlaysetLens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12030:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = self._build_lens_adapter(db, local_mods_folder, mods)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12034:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "ck3lens/live_mods.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12038:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "& \"C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe\" -c \"from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')\"",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12042:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | \u2705 Works |",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12046:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in line_text:",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12050:0 — Banned/concept-expansion term mentioned in documentation.
    "notes": "Compatibility patch - path under local_mods_folder makes it writable"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12054:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12058:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": {
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12062:0 — Banned/concept-expansion term mentioned in documentation.
    from whether a mod's path is under `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12066:0 — Banned/concept-expansion term mentioned in documentation.
    - Path under `local_mods_folder` → enforcement allows writes
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12070:0 — Banned/concept-expansion term mentioned in documentation.
    There is no `live_mods[]`, `editable_mods[]`, or any permission list in playsets.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12074:0 — Banned/concept-expansion term mentioned in documentation.
    def get_active_playset_file() -> Optional[Path]:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12078:0 — Banned/concept-expansion term mentioned in documentation.
    playset_path = get_active_playset_file()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12082:0 — Banned/concept-expansion term mentioned in documentation.
    playset_path = get_active_playset_file()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12086:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12090:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": [],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12094:0 — Banned/concept-expansion term mentioned in documentation.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12098:0 — Banned/concept-expansion term mentioned in documentation.
    print("  2. Add local_mods entries for mods the agent can edit")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12102:0 — Banned/concept-expansion term mentioned in documentation.
    - Permission oracles (can_write, is_allowed, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12106:0 — Banned/concept-expansion term mentioned in documentation.
    - Parallel truth structures (editable_mods, live_mods, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12110:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12114:0 — Banned/concept-expansion term mentioned in documentation.
    "can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12118:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12122:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12126:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods_list",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12130:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12134:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12138:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12142:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12146:0 — Banned/concept-expansion term mentioned in documentation.
    "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12150:0 — Banned/concept-expansion term mentioned in documentation.
    "playsetlens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12154:0 — Banned/concept-expansion term mentioned in documentation.
    "lensworld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12158:0 — Banned/concept-expansion term mentioned in documentation.
    "getlens",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12162:0 — Banned/concept-expansion term mentioned in documentation.
    "legacyvisibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12166:0 — Banned/concept-expansion term mentioned in documentation.
    "legacy_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12170:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12174:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12178:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": "local_mods_folder",  # Only allowed as part of local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12182:0 — Banned/concept-expansion term mentioned in documentation.
    ("ERROR", "BANNED_ORACLE", "is%writable", "Oracle: is_writable pattern"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12186:0 — Banned/concept-expansion term mentioned in documentation.
    ("ERROR", "BANNED_ORACLE", "can%write", "Oracle: can_write pattern"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12190:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12194:0 — Banned/concept-expansion term mentioned in documentation.
    "lensworld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12198:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder",  # canonical allowed
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12202:0 — Banned/concept-expansion term mentioned in documentation.
    9. **Oracle Pattern Detection** — AST-based detection of `can_write`, `is_allowed`, etc.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12206:0 — Banned/concept-expansion term mentioned in documentation.
    11. **Concept Explosion** — Flags `Lens*`, `PlaysetLens`, `ScopeWorld` nouns
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12210:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE discovery.py:45:5 — Oracle: can_write pattern
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12214:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12218:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12222:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write(path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12226:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE src/foo.py:12:4 — Oracle: can_write pattern
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12230:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12234:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12238:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_ORACLE` | Oracle-style term (`can_write`, `is_allowed`, etc.) | Route through `enforcement.py` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12242:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_PARALLEL` | Parallel authority structure (`local_mods`, `editable_mods`) | Use `mods[]` only |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12246:0 — Banned/concept-expansion term mentioned in documentation.
    | `CONCEPT-03` | Lens concept explosion (`PlaysetLens`, `ScopeWorld`) | Use canonical naming |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12250:0 — Banned/concept-expansion term mentioned in documentation.
    mod_roots, is_writable, is_editable, is_allowed, is_path_allowed,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12254:0 — Banned/concept-expansion term mentioned in documentation.
    _validate_visibility, _build_cv_filter, _derive_cvid, visible_cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12258:0 — Banned/concept-expansion term mentioned in documentation.
    can_write, can_edit, can_delete, may_write, may_edit, may_delete,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12262:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable, is_editable, is_deletable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12266:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods, editable_mods, writable_mods, live_mods, list_live_mods,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12270:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** — No parallel lists like `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12274:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12278:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12282:0 — Banned/concept-expansion term mentioned in documentation.
    r"\b([A-Za-z_]*Lens[A-Za-z_]*|PlaysetLens|Lens)\s*\(",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12286:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"else\s*:\s*.*(?:visibility|visible_cvids|lens|legacy|scope)", re.IGNORECASE),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12290:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"\s+or\s+.*(?:visibility|visible_cvids|legacy)", re.IGNORECASE),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12294:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"getattr\s*\(.*(?:visibility|visible_cvids|legacy)", re.IGNORECASE),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12298:0 — Banned/concept-expansion term mentioned in documentation.
    # Contextually banned (e.g., local_mods only allowed as local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12302:0 — Banned/concept-expansion term mentioned in documentation.
    "playsetlens", "getlens", "get.lens", "lensworld",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12306:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods", "live_mods", "local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12310:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable", "can_write",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12314:0 — Banned/concept-expansion term mentioned in documentation.
    "legacyvisibility", "legacy_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12318:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12322:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12326:0 — Banned/concept-expansion term mentioned in documentation.
    - DbHandle carries visible_cvids automatically
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12330:0 — Banned/concept-expansion term mentioned in documentation.
    The DbHandle carries visible_cvids derived from mods[] automatically.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12334:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder: Path = None  # Canonical path for local mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12338:0 — Banned/concept-expansion term mentioned in documentation.
    The handle carries visible_cvids derived from mods[].
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12342:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12346:0 — Banned/concept-expansion term mentioned in documentation.
    # Get local_mods_folder from active playset
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12350:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12354:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12358:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = local_mods_folder  # Store for use by methods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12362:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(local_mods_folder) if local_mods_folder else None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12366:0 — Banned/concept-expansion term mentioned in documentation.
    # Use DbHandle from WorldAdapter (carries visible_cvids)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12370:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12374:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12378:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12382:0 — Banned/concept-expansion term mentioned in documentation.
    return {"exists": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12386:0 — Banned/concept-expansion term mentioned in documentation.
    file_path = self._local_mods_folder / mod_name / rel_path
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12390:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12394:0 — Banned/concept-expansion term mentioned in documentation.
    return {"success": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12398:0 — Banned/concept-expansion term mentioned in documentation.
    file_path = self._local_mods_folder / mod_name / rel_path
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12402:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12406:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12410:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path = self._local_mods_folder / mod_name
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12414:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12418:0 — Banned/concept-expansion term mentioned in documentation.
    return {"success": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12422:0 — Banned/concept-expansion term mentioned in documentation.
    target_path = self._local_mods_folder / target_mod / rel_path
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12426:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods: Sandboxed local mod operations (user-configured mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12430:0 — Banned/concept-expansion term mentioned in documentation.
    - _*_internal methods accept visible_cvids: Optional[FrozenSet[int]] directly
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12434:0 — Banned/concept-expansion term mentioned in documentation.
    - VisibilityScope (replaced by visible_cvids parameter to internal methods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12438:0 — Banned/concept-expansion term mentioned in documentation.
    - DbHandle calls _*_internal methods with visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12442:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12446:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of content_version_ids to search within, or None for all
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12450:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12454:0 — Banned/concept-expansion term mentioned in documentation.
    refs = self._get_references_for_symbols_internal(symbol_names, visible_cvids, file_pattern, limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12458:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12462:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12466:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12470:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12474:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12478:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12482:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12486:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12490:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12494:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12498:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12502:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12506:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12510:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12514:0 — Banned/concept-expansion term mentioned in documentation.
    "playset": playset_name if playset_name else ("ACTIVE PLAYSET" if visible_cvids else "ALL CONTENT"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12518:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12522:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12526:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12530:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12534:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12538:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12542:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12546:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12550:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12554:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12558:0 — Banned/concept-expansion term mentioned in documentation.
    if not visible_cvids:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12562:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "s.content_version_id")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12566:0 — Banned/concept-expansion term mentioned in documentation.
    """Extract visible_cvids from legacy visibility parameter.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12570:0 — Banned/concept-expansion term mentioned in documentation.
    if hasattr(visibility, 'visible_cvids'):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12574:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = visibility.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12578:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_symbols_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12582:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_files_internal(pattern, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12586:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_content_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12590:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12594:0 — Banned/concept-expansion term mentioned in documentation.
    return self._confirm_not_exists_internal(query, symbol_type, visible_cvids=cvids)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12598:0 — Banned/concept-expansion term mentioned in documentation.
    return self._unified_search_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12602:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_symbol_conflicts_internal(visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12606:0 — Banned/concept-expansion term mentioned in documentation.
    Git commands for mods, sandboxed to mods under local_mods_folder.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12610:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": str(user_docs / "Paradox Interactive" / "Crusader Kings III" / "mod"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12614:0 — Banned/concept-expansion term mentioned in documentation.
    # local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12618:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12622:0 — Banned/concept-expansion term mentioned in documentation.
    paths_to_check.append(("local_mods_folder", data.get("local_mods_folder", "")))
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12626:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12630:0 — Banned/concept-expansion term mentioned in documentation.
    old_val = data["local_mods_folder"]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12634:0 — Banned/concept-expansion term mentioned in documentation.
    data["local_mods_folder"] = new_val
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12638:0 — Banned/concept-expansion term mentioned in documentation.
    - lensworld_sandbox.py: Merged into WorldAdapter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12642:0 — Banned/concept-expansion term mentioned in documentation.
    LENSWORLD = "lensworld"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12646:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld context (optional)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12650:0 — Banned/concept-expansion term mentioned in documentation.
    def log_lensworld_resolution(
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12654:0 — Banned/concept-expansion term mentioned in documentation.
    """Log a LensWorld path resolution event."""
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12658:0 — Banned/concept-expansion term mentioned in documentation.
    f"audit.{EventCategory.LENSWORLD.value}",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12662:0 — Banned/concept-expansion term mentioned in documentation.
    "event_category": EventCategory.LENSWORLD.value,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12666:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12670:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path | None = None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12674:0 — Banned/concept-expansion term mentioned in documentation.
    For mod paths, returns None - enforcement.py decides based on local_mods_folder.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12678:0 — Banned/concept-expansion term mentioned in documentation.
    # Local mods - path under local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12682:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12686:0 — Banned/concept-expansion term mentioned in documentation.
    local_str = str(local_mods_folder.resolve()).replace("\\", "/").lower()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12690:0 — Banned/concept-expansion term mentioned in documentation.
    # If it looks like a mod path but not under local_mods_folder, it's workshop
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12694:0 — Banned/concept-expansion term mentioned in documentation.
    Rule: no_python_editing (except WIP), local_mods_only
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12698:0 — Banned/concept-expansion term mentioned in documentation.
    # Classify the domain using local_mods_folder boundary
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12702:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=ctx.local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12706:0 — Banned/concept-expansion term mentioned in documentation.
    "active_local_mods",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12710:0 — Banned/concept-expansion term mentioned in documentation.
    NOT_FOUND = auto()          # For LensWorld - path outside lens
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12714:0 — Banned/concept-expansion term mentioned in documentation.
    # local_mods_folder boundary (mods here are editable)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12718:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12722:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12726:0 — Banned/concept-expansion term mentioned in documentation.
    if scope.get("local_mods_folder") is not None:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12730:0 — Banned/concept-expansion term mentioned in documentation.
    self.local_mods_folder = Path(scope["local_mods_folder"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12734:0 — Banned/concept-expansion term mentioned in documentation.
    (mods whose paths are under local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12738:0 — Banned/concept-expansion term mentioned in documentation.
    # Tools layer - MCP tool implementations that consume LensWorld + enforcement
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12742:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder (active playset mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12746:0 — Banned/concept-expansion term mentioned in documentation.
    The sandbox does NOT need database access (PlaysetLens/DBQueries).
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12750:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder: Path to Paradox mod folder (readable, writable with contract)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12754:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12758:0 — Banned/concept-expansion term mentioned in documentation.
    # Session info for LensWorld resolution
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12762:0 — Banned/concept-expansion term mentioned in documentation.
    Sandboxed I/O interceptor that delegates to LensWorld + enforcement.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12766:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld for visibility (can I see this path?)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12770:0 — Banned/concept-expansion term mentioned in documentation.
    raise FileNotFoundError(f"[Sandbox] Path not visible in LensWorld: {path}")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12774:0 — Banned/concept-expansion term mentioned in documentation.
    """Intercepted open() that checks LensWorld + enforcement."""
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12778:0 — Banned/concept-expansion term mentioned in documentation.
    return False  # Not in LensWorld = doesn't exist
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12782:0 — Banned/concept-expansion term mentioned in documentation.
    All file operations are routed through LensWorld + enforcement.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12786:0 — Banned/concept-expansion term mentioned in documentation.
    session: Active Session for LensWorld resolution
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12790:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=session.local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12794:0 — Banned/concept-expansion term mentioned in documentation.
    - Session contains: playset info, db_path, local_mods_folder, mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12798:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a path - mods under it are potentially editable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12802:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (just use mods[].cvid)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12806:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods[] / editable_mods[] (derive from mods[] + local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12810:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12814:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder: Path to folder where editable mods live
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12818:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path = field(default_factory=lambda: DEFAULT_CK3_MOD_DIR)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12822:0 — Banned/concept-expansion term mentioned in documentation.
    # Default CK3 mod directory (this is local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12826:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12830:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = _expand_path(data["local_mods_folder"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12834:0 — Banned/concept-expansion term mentioned in documentation.
    # Fallback: construct from local_mods_folder + folder name
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12838:0 — Banned/concept-expansion term mentioned in documentation.
    path = session.local_mods_folder / folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12842:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data and data["local_mods_folder"]:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12846:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = _expand_path(data["local_mods_folder"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12850:0 — Banned/concept-expansion term mentioned in documentation.
    path = _expand_path(m["path"]) if "path" in m else session.local_mods_folder / m["mod_id"]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12854:0 — Banned/concept-expansion term mentioned in documentation.
    - WorldAdapter.db_handle() -> DbHandle (carries capability + visible_cvids)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12858:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (class)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12862:0 — Banned/concept-expansion term mentioned in documentation.
    - db_visibility() method (replaced by db_handle())
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12866:0 — Banned/concept-expansion term mentioned in documentation.
    - visible_cvids: Frozenset of content_version_ids for queries.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12870:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12874:0 — Banned/concept-expansion term mentioned in documentation.
    return self.visible_cvids is None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12878:0 — Banned/concept-expansion term mentioned in documentation.
    # These call _*_internal methods on DBQueries which require visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12882:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12886:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12890:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12894:0 — Banned/concept-expansion term mentioned in documentation.
    relpath, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12898:0 — Banned/concept-expansion term mentioned in documentation.
    name, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12902:0 — Banned/concept-expansion term mentioned in documentation.
    file_id, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12906:0 — Banned/concept-expansion term mentioned in documentation.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12910:0 — Banned/concept-expansion term mentioned in documentation.
    query, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12914:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12918:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12922:0 — Banned/concept-expansion term mentioned in documentation.
    This replaces the previous LensWorldAdapter, DevWorldAdapter, and
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12926:0 — Banned/concept-expansion term mentioned in documentation.
    BANNED (December 2025): LensWorldAdapter, DevWorldAdapter, UninitiatedWorldAdapter
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12930:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12934:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (ck3lens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12938:0 — Banned/concept-expansion term mentioned in documentation.
    self._init_lens_mode(mods, local_mods_folder, utility_roots, wip_root)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12942:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12946:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12950:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12954:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._visible_cvids:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12958:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # Treat empty as unrestricted
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12962:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12966:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path.resolve().relative_to(local_mods_folder.resolve())
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12970:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12974:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12978:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12982:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12986:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self._visible_cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12990:0 — Banned/concept-expansion term mentioned in documentation.
    if self._local_mods_folder:
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12994:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path.resolve().relative_to(self._local_mods_folder.resolve())
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:12998:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13002:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (for ck3lens)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13006:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13010:0 — Banned/concept-expansion term mentioned in documentation.
    # - LensWorldAdapter (use WorldAdapter(mode="ck3lens", ...))
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13014:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable checks (enforcement.py decides)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13018:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (class - use mods[] instead)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13022:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorldAdapter, DevWorldAdapter, UninitiatedWorldAdapter (use single WorldAdapter)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13026:0 — Banned/concept-expansion term mentioned in documentation.
    instead of separate LensWorldAdapter/DevWorldAdapter classes.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13030:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13034:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (for ck3lens write enforcement)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13038:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = self._build_lens_adapter(db, local_mods_folder, mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13042:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13046:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13050:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13054:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13058:0 — Banned/concept-expansion term mentioned in documentation.
    world = get_world(db=db, mods=session.mods, local_mods_folder=session.local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13062:0 — Banned/concept-expansion term mentioned in documentation.
    # For writes, call enforcement.py - do NOT check result.is_writable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13066:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13070:0 — Banned/concept-expansion term mentioned in documentation.
    Expected: Shows mods configured in your playset's `local_mods` section
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13074:0 — Banned/concept-expansion term mentioned in documentation.
    & "C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe" -c "from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13078:0 — Banned/concept-expansion term mentioned in documentation.
    | `ck3_list_live_mods` | ✅ Works |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13082:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13086:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13090:0 — Banned/concept-expansion term mentioned in documentation.
    2. Add a `local_mods` section with your mod paths
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13094:0 — Banned/concept-expansion term mentioned in documentation.
    - Mod file operations (writes sandboxed to local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13098:0 — Banned/concept-expansion term mentioned in documentation.
    - Writes only allowed to mods under local_mods_folder
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13102:0 — Banned/concept-expansion term mentioned in documentation.
    # BANNED: _get_lens, _get_cvids, _derive_search_cvids, db_visibility (December 2025 purge)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13106:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=session.local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13110:0 — Banned/concept-expansion term mentioned in documentation.
    # Get local_mods_folder path (editability is DERIVED from path containment)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13114:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder_raw = data.get("local_mods_folder", "")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13118:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = Path(local_mods_folder_raw).expanduser() if local_mods_folder_raw else None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13122:0 — Banned/concept-expansion term mentioned in documentation.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13126:0 — Banned/concept-expansion term mentioned in documentation.
    # based on path containment under local_mods_folder. No pre-computed permission lists.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13130:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(local_mods_folder) if local_mods_folder else None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13134:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is the folder boundary for editable mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13138:0 — Banned/concept-expansion term mentioned in documentation.
    - "mods under local_mods_folder" are derived at runtime, not stored
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13142:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(_session.local_mods_folder) if _session.local_mods_folder else None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13146:0 — Banned/concept-expansion term mentioned in documentation.
    # No db_visibility() or visible_cvids - derive inline from mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13150:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13154:0 — Banned/concept-expansion term mentioned in documentation.
    - Mod name → Mod from active playset (writable if under local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13158:0 — Banned/concept-expansion term mentioned in documentation.
    # Add a mod to the active playset's local_mods array
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13162:0 — Banned/concept-expansion term mentioned in documentation.
    # Add to mods[] (THE list, not a separate local_mods array)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13166:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = playset_data.get("local_mods_folder", "")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13170:0 — Banned/concept-expansion term mentioned in documentation.
    mismatch = detect_path_mismatch(local_mods_folder)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13174:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": local_mods_folder,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13178:0 — Banned/concept-expansion term mentioned in documentation.
    # BANNED: canonical_domains, semantic domains (active_local_mods, etc.)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13182:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Dry run - script would be executed in LensWorld sandbox",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13186:0 — Banned/concept-expansion term mentioned in documentation.
    "reason": "Executed in LensWorld sandbox",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13190:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids if cvids else None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13194:0 — Banned/concept-expansion term mentioned in documentation.
    # It used deprecated db_visibility() and visible_cvids concepts.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13198:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": session_info.get("local_mods_folder"),
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13202:0 — Banned/concept-expansion term mentioned in documentation.
    "mods[] under local_mods_folder",  # Enforcement decides at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13206:0 — Banned/concept-expansion term mentioned in documentation.
    "mods[] under local_mods_folder",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13210:0 — Banned/concept-expansion term mentioned in documentation.
    "write to mods[] NOT under local_mods_folder",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13214:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder (for editable mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13218:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(session.local_mods_folder) if session.local_mods_folder else None,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13222:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = Path.home() / "Documents/Paradox Interactive/Crusader Kings III/mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13226:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = None  # Not used in dev mode
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13230:0 — Banned/concept-expansion term mentioned in documentation.
    assert mock_session_ck3lens.local_mods_folder is not None
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13234:0 — Banned/concept-expansion term mentioned in documentation.
    from whether a mod's path is under `local_mods_folder`.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13238:0 — Banned/concept-expansion term mentioned in documentation.
    - Path under `local_mods_folder` → enforcement allows writes
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13242:0 — Banned/concept-expansion term mentioned in documentation.
    There is no `live_mods[]`, `editable_mods[]`, or any permission list in playsets.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13356:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13360:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13416:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": [],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13420:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": [],
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13484:0 — Banned/concept-expansion term mentioned in documentation.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13488:0 — Banned/concept-expansion term mentioned in documentation.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13552:0 — Banned/concept-expansion term mentioned in documentation.
    print("  2. Add local_mods entries for mods the agent can edit")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13556:0 — Banned/concept-expansion term mentioned in documentation.
    print("  2. Add local_mods entries for mods the agent can edit")
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13958:0 — Banned/concept-expansion term mentioned in documentation.
    9. **Oracle Pattern Detection** — AST-based detection of `can_write`, `is_allowed`, etc.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13962:0 — Banned/concept-expansion term mentioned in documentation.
    11. **Concept Explosion** — Flags `Lens*`, `PlaysetLens`, `ScopeWorld` nouns
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13966:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE discovery.py:45:5 — Oracle: can_write pattern
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13970:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13974:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13978:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write(path):",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13982:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE src/foo.py:12:4 — Oracle: can_write pattern
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13986:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13990:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13994:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_ORACLE` | Oracle-style term (`can_write`, `is_allowed`, etc.) | Route through `enforcement.py` |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:13998:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_PARALLEL` | Parallel authority structure (`local_mods`, `editable_mods`) | Use `mods[]` only |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14002:0 — Banned/concept-expansion term mentioned in documentation.
    | `CONCEPT-03` | Lens concept explosion (`PlaysetLens`, `ScopeWorld`) | Use canonical naming |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14006:0 — Banned/concept-expansion term mentioned in documentation.
    mod_roots, is_writable, is_editable, is_allowed, is_path_allowed,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14010:0 — Banned/concept-expansion term mentioned in documentation.
    _validate_visibility, _build_cv_filter, _derive_cvid, visible_cvids,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14014:0 — Banned/concept-expansion term mentioned in documentation.
    can_write, can_edit, can_delete, may_write, may_edit, may_delete,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14018:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable, is_editable, is_deletable
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14022:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods, editable_mods, writable_mods, live_mods, list_live_mods,
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14026:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** — No parallel lists like `local_mods[]`
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14302:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14306:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14310:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods.py",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14482:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14486:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14490:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14494:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14498:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14502:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14558:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14562:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14566:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14570:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14574:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:14578:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15252:0 — Banned/concept-expansion term mentioned in documentation.
    2. Add a `local_mods` section with your mod paths
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15304:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods: Sandboxed local mod operations (user-configured mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15308:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods: Sandboxed local mod operations (user-configured mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15312:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods: Sandboxed local mod operations (user-configured mods)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15368:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = visibility.visible_cvids
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15370:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1379:52 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15372:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_symbols_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15376:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1384:52 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15378:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_files_internal(pattern, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15382:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1389:52 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15384:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_content_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15390:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15394:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1396:54 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15396:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15400:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1401:69 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15402:0 — Banned/concept-expansion term mentioned in documentation.
    return self._confirm_not_exists_internal(query, symbol_type, visible_cvids=cvids)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15406:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1406:52 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15408:0 — Banned/concept-expansion term mentioned in documentation.
    return self._unified_search_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15412:0 — Banned/concept-expansion term mentioned in documentation.
    INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1411:51 [visible_cvids] — Banned term 'visible_cvids' used.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15414:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_symbol_conflicts_internal(visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15770:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15774:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15778:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15968:0 — Banned/concept-expansion term mentioned in documentation.
    WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:143:24 — Suspicious .resolve() call on 'local_mods_folder'. Only WorldAdapter (world.resolve()) is allowed.
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:15970:0 — Banned/concept-expansion term mentioned in documentation.
    local_str = str(local_mods_folder.resolve()).replace("\\", "/").lower()
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16030:0 — Banned/concept-expansion term mentioned in documentation.
    Rule: no_python_editing (except WIP), local_mods_only
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16034:0 — Banned/concept-expansion term mentioned in documentation.
    Rule: no_python_editing (except WIP), local_mods_only
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16314:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16318:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16322:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16884:0 — Banned/concept-expansion term mentioned in documentation.
    # Session info for LensWorld resolution
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:16888:0 — Banned/concept-expansion term mentioned in documentation.
    # Session info for LensWorld resolution
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:17172:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:17176:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:17380:0 — Banned/concept-expansion term mentioned in documentation.
    # Fallback: construct from local_mods_folder + folder name
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:17960:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:17964:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18016:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18020:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18932:0 — Banned/concept-expansion term mentioned in documentation.
    ck3lens/live_mods.py
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18936:0 — Banned/concept-expansion term mentioned in documentation.
    Expected: Shows mods configured in your playset's `local_mods` section
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18940:0 — Banned/concept-expansion term mentioned in documentation.
    & "C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe" -c "from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')"
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:18944:0 — Banned/concept-expansion term mentioned in documentation.
    | `ck3_list_live_mods` | ✅ Works |
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:19152:0 — Banned/concept-expansion term mentioned in documentation.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:19156:0 — Banned/concept-expansion term mentioned in documentation.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:19340:0 — Banned/concept-expansion term mentioned in documentation.
    # No db_visibility() or visible_cvids - derive inline from mods[]
DOC-WARN DOC-TERM artifacts/lint/test-contract-001.arch_lint.txt:19626:0 — Banned/concept-expansion term mentioned in documentation.
    "reason": "Executed in LensWorld sandbox",
DOC-WARN DOC-TERM docs/ARCHITECTURE.md:66:0 — Banned/concept-expansion term mentioned in documentation.
    11. **LensWorld / scoped visibility model**
DOC-WARN DOC-TERM docs/BANCHECK_RESULTS.txt:3:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods: 6 matches
DOC-WARN DOC-TERM docs/BANCHECK_RESULTS.txt:4:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods: 0 matches
DOC-WARN DOC-TERM docs/BANCHECK_RESULTS.txt:9:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable: 2 matches
DOC-WARN DOC-TERM docs/BANCHECK_RESULTS.txt:11:0 — Banned/concept-expansion term mentioned in documentation.
    can_write: 0 matches
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:4:0 — Banned/concept-expansion term mentioned in documentation.
    --- live_mods ---
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:5:0 — Banned/concept-expansion term mentioned in documentation.
    .github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:6:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:707:  "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:7:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:8:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:748:        return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:9:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:755:        "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:10:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:11:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:19:live_mods_config = {
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:12:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:13:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:14:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:15:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:143:live_mods:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:16:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:9:- Which mods the agent can write to (live_mods)
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:17:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:35:3. Add live_mods for mods the agent can write to
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:18:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:19:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/example_playset.json:27:  "live_mods": [
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:20:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:21:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:22:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:23:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:24:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:35:    "live_mods module is deprecated, use local_mods instead",
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:28:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:29:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:30:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:31:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:32:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:33:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:34:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:51:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:52:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:53:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:54:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:55:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:56:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:57:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:73:0 — Banned/concept-expansion term mentioned in documentation.
    --- is_writable ---
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:74:0 — Banned/concept-expansion term mentioned in documentation.
    docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:75:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:76:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {"write", "edit"} and not visibility_result.is_writable:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:77:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:78:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:79:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:80:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:81:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:82:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:83:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:84:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:85:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:86:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:87:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:88:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:89:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:90:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:96:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:106:    if not session.is_path_allowed(file_path):
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:97:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:228:    if not session.is_path_allowed(old_path):
DOC-WARN DOC-TERM docs/BANNED_TERM_SCAN.txt:98:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:230:    if not session.is_path_allowed(new_path):
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:7:0 — Banned/concept-expansion term mentioned in documentation.
    During agent initialization, two different `local_mods_folder` paths were observed:
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:21:0 — Banned/concept-expansion term mentioned in documentation.
    3. The `local_mods_folder` field in the JSON contains the absolute path from the original machine
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:62:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `local_mods_folder` Should Auto-Detect with Confirmation
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:68:0 — Banned/concept-expansion term mentioned in documentation.
    def detect_local_mods_folder() -> Path:
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:69:0 — Banned/concept-expansion term mentioned in documentation.
    # Auto-detect local_mods_folder with cross-platform support.
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:91:0 — Banned/concept-expansion term mentioned in documentation.
    **On first run**, if `local_mods_folder` is not in config and auto-detection succeeds, prompt user:
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:104:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:111:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "~/.ck3mods"
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:117:0 — Banned/concept-expansion term mentioned in documentation.
    - **Local mods**: Relative to `local_mods_folder` (e.g., `"path": "Mini Super Compatch"`)
DOC-WARN DOC-TERM docs/BUG_HARDCODED_PATHS.md:147:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:/Users/Nathan/Documents/Paradox Interactive/Crusader Kings III/mod",
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:52:0 — Banned/concept-expansion term mentioned in documentation.
    - can_write
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:55:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:67:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods (as an array or list)
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:68:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:70:0 — Banned/concept-expansion term mentioned in documentation.
    - live_mods
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:88:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ is_writable
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:92:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ local_mods[]
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:161:0 — Banned/concept-expansion term mentioned in documentation.
    - no local_mods[]
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:162:0 — Banned/concept-expansion term mentioned in documentation.
    - no editable_mods[]
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:175:0 — Banned/concept-expansion term mentioned in documentation.
    mod.path is under local_mods_folder
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:192:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:220:0 — Banned/concept-expansion term mentioned in documentation.
    - path_under_local_mods(path)
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:307:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:354:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods arrays appear
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:355:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods lists appear
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:370:0 — Banned/concept-expansion term mentioned in documentation.
    - Is this path under local_mods_folder?
DOC-WARN DOC-TERM docs/CANONICAL REFACTOR INSTRUCTIONS.md:466:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:26:0 — Banned/concept-expansion term mentioned in documentation.
    | 1 | **ONE enforcement boundary** Ã¢â‚¬â€ only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:28:0 — Banned/concept-expansion term mentioned in documentation.
    | 3 | **mods[] is THE mod list** Ã¢â‚¬â€ no parallel lists | Creating `local_mods[]` or `editable_mods[]` |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:129:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, config)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:149:0 — Banned/concept-expansion term mentioned in documentation.
    **Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:154:0 — Banned/concept-expansion term mentioned in documentation.
    - `PlaysetLens` is the runtime filter that scopes all DB queries to one playset
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:156:0 — Banned/concept-expansion term mentioned in documentation.
    - `Session.local_mods_folder` is a single `Path` for containment checks
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:161:0 — Banned/concept-expansion term mentioned in documentation.
    Launcher Playset Ã¢â€ â€™ playsets/*.json Ã¢â€ â€™ PlaysetLens Ã¢â€ â€™ DB Queries (filtered)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:170:0 — Banned/concept-expansion term mentioned in documentation.
    | Local | Documents/mod/ folder | Yes (if in local_mods_folder) |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:218:0 — Banned/concept-expansion term mentioned in documentation.
    | Under `local_mods_folder` | `LOCAL_MOD` |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:274:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": f"Not found in LensWorld: {path}"}
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:311:0 — Banned/concept-expansion term mentioned in documentation.
    def can_write_to_mod(mod_name: str) -> bool:
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:389:0 — Banned/concept-expansion term mentioned in documentation.
    can_write
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:392:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:407:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:409:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods (as derived or filtered lists)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:410:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:411:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:415:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:416:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:417:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:421:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:443:0 — Banned/concept-expansion term mentioned in documentation.
    db_visibility() as primary API (use db_handle())
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:461:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_data         # Cached playset data = duplicate source of truth
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:462:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_file         # Cached file reference = duplicate source of truth
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:487:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:488:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` | `mods[]` + containment check | no parallel lists |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:489:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_to_mod()` | N/A Ã¢â‚¬â€ delete entirely | oracle function |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:516:0 — Banned/concept-expansion term mentioned in documentation.
    | `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:558:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write_to_db():
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:713:0 — Banned/concept-expansion term mentioned in documentation.
    Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:749:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorldAdapter(...)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:769:0 — Banned/concept-expansion term mentioned in documentation.
    - **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:771:0 — Banned/concept-expansion term mentioned in documentation.
    - **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)
DOC-WARN DOC-TERM docs/CANONICAL_ARCHITECTURE.md:772:0 — Banned/concept-expansion term mentioned in documentation.
    - **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)
DOC-WARN DOC-TERM docs/CK3LENS_POLICY_ARCHITECTURE.md:132:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM docs/CK3LENS_POLICY_ARCHITECTURE.md:133:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods`**: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM docs/Concepts lens - EARLY DRAFT SCRATCHBOOK.md:707:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM docs/Concepts lens - EARLY DRAFT SCRATCHBOOK.md:732:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM docs/Concepts lens - EARLY DRAFT SCRATCHBOOK.md:748:0 — Banned/concept-expansion term mentioned in documentation.
    return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM docs/Concepts lens - EARLY DRAFT SCRATCHBOOK.md:755:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM docs/HARDCODED_PATHS.md:38:0 — Banned/concept-expansion term mentioned in documentation.
    | 1140 | `playset_data.get("local_mods", [])` — reads legacy playset JSON format |
DOC-WARN DOC-TERM docs/LENSWORLD.md:1:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM docs/LENSWORLD.md:10:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM docs/LENSWORLD.md:12:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM docs/LENSWORLD.md:18:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM docs/LENSWORLD.md:22:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM docs/LENSWORLD.md:24:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM docs/LENSWORLD.md:27:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM docs/LENSWORLD.md:30:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM docs/LENSWORLD.md:40:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM docs/LENSWORLD.md:109:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM docs/LENSWORLD.md:151:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM docs/LENSWORLD.md:152:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM docs/LENSWORLD.md:153:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:13:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods_folder` exists
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:14:0 — Banned/concept-expansion term mentioned in documentation.
    - BUT: `live_mods` key found in example_playset.json (BANNED IDEA)
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:21:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_path` | mod_files.py |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:22:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_allowed` | local_mods.py, workspace.py, tests |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:24:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:32:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q1: `mod_root` vs `local_mods_folder` disambiguation
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:41:0 — Banned/concept-expansion term mentioned in documentation.
    **Question:** Should this be renamed to `local_mods_folder` (matching the playset JSON key)?
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:43:0 — Banned/concept-expansion term mentioned in documentation.
    My recommendation: YES - rename `_session.mod_root` → `_session.local_mods_folder`
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:57:0 — Banned/concept-expansion term mentioned in documentation.
    Currently `local_mod_roots` is used to track which mod paths are under `local_mods_folder`.
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:65:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q4: Playset JSON `live_mods` key
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:67:0 — Banned/concept-expansion term mentioned in documentation.
    The example_playset.json has a `live_mods` key which is a BANNED IDEA.
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:85:0 — Banned/concept-expansion term mentioned in documentation.
    is_path_writable() → path_under_local_mods()
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:92:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable → ui_hint_potentially_editable
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:99:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root → local_mods_folder
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:106:0 — Banned/concept-expansion term mentioned in documentation.
    Remove early denial checks based on is_writable
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:113:0 — Banned/concept-expansion term mentioned in documentation.
    can_write_path → REMOVE
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:117:0 — Banned/concept-expansion term mentioned in documentation.
    #### 2.6 local_mods.py
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:124:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root references → local_mods_folder
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:137:0 — Banned/concept-expansion term mentioned in documentation.
    - Remove `live_mods` from example_playset.json
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:168:0 — Banned/concept-expansion term mentioned in documentation.
    7. `local_mods.py` - Remove permission helpers
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:174:0 — Banned/concept-expansion term mentioned in documentation.
    13. `lensworld_sandbox.py` - Sandbox enforcement
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:185:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` → `ui_hint_potentially_editable` | ~16 |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:186:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_writable` → `path_under_local_mods` | ~3 |
DOC-WARN DOC-TERM docs/NEXT_SESSION_REFACTOR_PLAN.md:187:0 — Banned/concept-expansion term mentioned in documentation.
    | `mod_root` → `local_mods_folder` | ~10 |
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:42:0 — Banned/concept-expansion term mentioned in documentation.
    - `*_writable` (use `path_under_local_mods` for structural descriptor)
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:90:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, ...)
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:97:0 — Banned/concept-expansion term mentioned in documentation.
    **Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:107:0 — Banned/concept-expansion term mentioned in documentation.
    | "Where is the local mods folder?" | Session.local_mods_folder | Path |
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:141:0 — Banned/concept-expansion term mentioned in documentation.
    if not is_under_local_mods_folder(file_path, session.local_mods_folder):
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:142:0 — Banned/concept-expansion term mentioned in documentation.
    return (False, "Path outside local_mods_folder")
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:156:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] # Configured boundary
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:174:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:180:0 — Banned/concept-expansion term mentioned in documentation.
    def path_under_local_mods(self, path: Path) -> bool:
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:281:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\...\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:285:0 — Banned/concept-expansion term mentioned in documentation.
    **Note:** There is no `local_mods[]` array. Local mods are determined at runtime by checking `mod.path` against `local_mods_folder`.
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:293:0 — Banned/concept-expansion term mentioned in documentation.
    | `path_under_local_mods` | `path.startswith(local_mods_folder)` | UI hints only |
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:305:0 — Banned/concept-expansion term mentioned in documentation.
    | `session.can_write_path()` | Permission oracle | Enforce at boundary |
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:306:0 — Banned/concept-expansion term mentioned in documentation.
    | `if not is_writable: return error` | Early denial | Let enforcement decide |
DOC-WARN DOC-TERM docs/PLAYSET_ARCHITECTURE.md:307:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` array | Parallel concept | Derive from `mods[]` + path |
DOC-WARN DOC-TERM docs/POLICY_ENFORCEMENT_IMPLEMENTATION_PLAN.md:288:0 — Banned/concept-expansion term mentioned in documentation.
    git_scope: str  # "local_mods" | "ck3raven" | "none"
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:31:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:33:0 — Banned/concept-expansion term mentioned in documentation.
    **Same as `local_mods` - a BANNED parallel authority list!**
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:37:0 — Banned/concept-expansion term mentioned in documentation.
    | 349 | `editable_mods = [...]` - being created |
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:38:0 — Banned/concept-expansion term mentioned in documentation.
    | 360 | `editable_mods_list` |
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:43:0 — Banned/concept-expansion term mentioned in documentation.
    **Action:** Destroy completely. Editability is DERIVED from `mods[]` + `local_mods_folder` containment check, never stored as a separate list.
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:101:0 — Banned/concept-expansion term mentioned in documentation.
    1. ✅ Deleted `local_mods.py` module entirely
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:103:0 — Banned/concept-expansion term mentioned in documentation.
    3. ✅ Removed `local_mods` import from `server.py`
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:104:0 — Banned/concept-expansion term mentioned in documentation.
    4. ✅ Archived legacy MCP tools (deregistered `ck3_list_local_mods`, etc.)
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:105:0 — Banned/concept-expansion term mentioned in documentation.
    5. ✅ Fixed `ck3_playset(command="add_mod")` to add to `mods[]` not `local_mods[]`
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:114:0 — Banned/concept-expansion term mentioned in documentation.
    - Line 4033: `local_mods.write_file()` - calls deleted module!
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:123:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods` references
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:129:0 — Banned/concept-expansion term mentioned in documentation.
    1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)
DOC-WARN DOC-TERM docs/TODO_NO_ORACLE_REFACTOR_DEC30.md:133:0 — Banned/concept-expansion term mentioned in documentation.
    5. **FIX** remaining `local_mods` references
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:42:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. LensWorld — What You See and Why It Exists
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:48:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld exists to remove that burden from you.
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:50:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld presents a **virtual filesystem and data view** that contains:
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:60:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a cognitive simplification layer**, not merely a safety feature.
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:68:0 — Banned/concept-expansion term mentioned in documentation.
    ## 3. What LensWorld Contains
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:70:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is composed of the following scope domains:
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:134:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is a hard guardrail. Anything outside it realizes as "not found".
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:138:0 — Banned/concept-expansion term mentioned in documentation.
    - paths outside LensWorld behave as nonexistent
DOC-WARN DOC-TERM docs/drafts/INITIALIZATION_PROPOSAL.md:242:0 — Banned/concept-expansion term mentioned in documentation.
    **Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.
DOC-WARN DOC-TERM docs/drafts/NEXT_SESSION_TODO.md:5:0 — Banned/concept-expansion term mentioned in documentation.
    ### LensWorld Sandbox for ck3lens WIP Scripts ✅
DOC-WARN DOC-TERM docs/drafts/NEXT_SESSION_TODO.md:9:0 — Banned/concept-expansion term mentioned in documentation.
    - `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations
DOC-WARN DOC-TERM docs/drafts/NEXT_SESSION_TODO.md:12:0 — Banned/concept-expansion term mentioned in documentation.
    - Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)
DOC-WARN DOC-TERM docs/drafts/NEXT_SESSION_TODO.md:20:0 — Banned/concept-expansion term mentioned in documentation.
    - `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`
DOC-WARN DOC-TERM docs/drafts/NEXT_SESSION_TODO.md:45:0 — Banned/concept-expansion term mentioned in documentation.
    6. `b6a65e4` - LensWorld sandbox (ck3lens)
DOC-WARN DOC-TERM docs/drafts/WIP_SCRIPTING_PROPOSAL.md:5:0 — Banned/concept-expansion term mentioned in documentation.
    > **Source:** User concern about scripts bypassing LensWorld
DOC-WARN DOC-TERM docs/drafts/WIP_SCRIPTING_PROPOSAL.md:16:0 — Banned/concept-expansion term mentioned in documentation.
    **However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**
DOC-WARN DOC-TERM docs/drafts/WIP_SCRIPTING_PROPOSAL.md:21:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld's cognitive simplification is undermined
DOC-WARN DOC-TERM docs/drafts/WIP_SCRIPTING_PROPOSAL.md:91:0 — Banned/concept-expansion term mentioned in documentation.
    - ck3_exec applies LensWorld constraints
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:4:0 — Banned/concept-expansion term mentioned in documentation.
    > **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:12:0 — Banned/concept-expansion term mentioned in documentation.
    This document captured the original requirements for playset filtering before the LensWorld architecture was designed.
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:15:0 — Banned/concept-expansion term mentioned in documentation.
    - **LENSWORLD.md** - Canonical visibility architecture
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:25:0 — Banned/concept-expansion term mentioned in documentation.
    ### Core Principle (Now Implemented via LensWorld)
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:28:0 — Banned/concept-expansion term mentioned in documentation.
    This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:37:0 — Banned/concept-expansion term mentioned in documentation.
    3. PlaysetLens class for filtering
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:40:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens handles DB query filtering
DOC-WARN DOC-TERM docs/issues/ACTIVE_PLAYSET_FILTERING.md:49:0 — Banned/concept-expansion term mentioned in documentation.
    - [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:1:0 — Banned/concept-expansion term mentioned in documentation.
    # AGENT REPLY 1: Canonical LensWorld Proposal
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:5:0 — Banned/concept-expansion term mentioned in documentation.
    > **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:11:0 — Banned/concept-expansion term mentioned in documentation.
    This document contained the agent's review and questions about the proposed LensWorld architecture.
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:14:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/LENSWORLD.md` - Canonical visibility architecture
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:28:0 — Banned/concept-expansion term mentioned in documentation.
    6. **B.6 Utility Files:** First-class LensWorld domain
DOC-WARN DOC-TERM docs/issues/AGENT REPLY 1 - Canonical lensworld proposal.md:31:0 — Banned/concept-expansion term mentioned in documentation.
    9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:63:0 — Banned/concept-expansion term mentioned in documentation.
    ### 3. live_mods_config References
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:177:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 75 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:178:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 113 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:179:0 — Banned/concept-expansion term mentioned in documentation.
    | ck3lens_rules.py | 144 | `if local_mods_folder` | ✅ Enforcement |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:180:0 — Banned/concept-expansion term mentioned in documentation.
    | types.py | 438 | `if scope.get("local_mods_folder")` | ⚠️ Review |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:182:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 242 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:183:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 287 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:186:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 600 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:187:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 965 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:188:0 — Banned/concept-expansion term mentioned in documentation.
    | canonical_phase1_lint.py | 329 | `if "local_mods_folder" in line_text` | ✅ Lint |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:202:0 — Banned/concept-expansion term mentioned in documentation.
    | audit.py | 253 | `log_lensworld_resolution` | RENAME → `log_resolution` |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:203:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:205:0 — Banned/concept-expansion term mentioned in documentation.
    | world_router.py | 27 | `PlaysetLens` import | DELETE |
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:334:0 — Banned/concept-expansion term mentioned in documentation.
    2. Rename `log_lensworld_resolution` → `log_resolution`
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:335:0 — Banned/concept-expansion term mentioned in documentation.
    3. Refactor `PlaysetLens` → use `mods[]` directly
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:389:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated when hardcodin
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:403:0 — Banned/concept-expansion term mentioned in documentation.
    ### Error 2: Claiming `live_mods_config` only in docs
DOC-WARN DOC-TERM docs/issues/ARCH_LINT_REPORT_DEC31.md:407:0 — Banned/concept-expansion term mentioned in documentation.
    **Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.
DOC-WARN DOC-TERM docs/issues/BANNED_TERM_CLEANUP_JAN3.md:11:0 — Banned/concept-expansion term mentioned in documentation.
    | "active local mods" | Implies filtered/derived list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM docs/issues/BANNED_TERM_CLEANUP_JAN3.md:12:0 — Banned/concept-expansion term mentioned in documentation.
    | "live mods" | Implies separate list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM docs/issues/BANNED_TERM_CLEANUP_JAN3.md:13:0 — Banned/concept-expansion term mentioned in documentation.
    | "local mods" (as list) | Parallel structure | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM docs/issues/BANNED_TERM_CLEANUP_JAN3.md:85:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a Path for containment checks
DOC-WARN DOC-TERM docs/issues/BANNED_TERM_CLEANUP_JAN3.md:86:0 — Banned/concept-expansion term mentioned in documentation.
    - Enforcement checks if mod path is under local_mods_folder at execution time
DOC-WARN DOC-TERM docs/issues/CK3_PLAYSET_IMPORT_NOT_IMPLEMENTED.md:63:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Imported playset. Edit agent_briefing and add local_mods as needed."
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:42:0 — Banned/concept-expansion term mentioned in documentation.
    │   │   ├── AGENT REPLY 1 - Canonical lensworld proposal.md
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:78:0 — Banned/concept-expansion term mentioned in documentation.
    │   ├── LENSWORLD.md
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:419:0 — Banned/concept-expansion term mentioned in documentation.
    ├── Lensworld - Domain - Policy review outcomes.md
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:878:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** - no parallel lists like `local_mods[]`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:993:0 — Banned/concept-expansion term mentioned in documentation.
    Use these tools to write to mods. Enforcement policy determines at execution time whether a write is allowed based on the mod's location (local_mods_folder vs workshop/vanilla).
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6503:0 — Banned/concept-expansion term mentioned in documentation.
    11. **LensWorld / scoped visibility model**
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6658:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods: 6 matches
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6659:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods: 0 matches
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6664:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable: 2 matches
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6666:0 — Banned/concept-expansion term mentioned in documentation.
    can_write: 0 matches
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6680:0 — Banned/concept-expansion term mentioned in documentation.
    --- live_mods ---
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6681:0 — Banned/concept-expansion term mentioned in documentation.
    .github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6682:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:707:  "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6683:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6684:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:748:        return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6685:0 — Banned/concept-expansion term mentioned in documentation.
    docs/ARCHITECTURE.md:755:        "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6686:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6687:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:19:live_mods_config = {
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6688:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6689:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6690:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6691:0 — Banned/concept-expansion term mentioned in documentation.
    docs/HARD CODING TO FIX.md:143:live_mods:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6692:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:9:- Which mods the agent can write to (live_mods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6693:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:35:3. Add live_mods for mods the agent can write to
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6694:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6695:0 — Banned/concept-expansion term mentioned in documentation.
    playsets/example_playset.json:27:  "live_mods": [
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6696:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6697:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6698:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6699:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6700:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/live_mods.py:35:    "live_mods module is deprecated, use local_mods instead",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6704:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6705:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6706:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6707:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6708:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6709:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6710:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6727:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6728:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6729:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6730:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6731:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6732:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6733:0 — Banned/concept-expansion term mentioned in documentation.
    tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6749:0 — Banned/concept-expansion term mentioned in documentation.
    --- is_writable ---
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6750:0 — Banned/concept-expansion term mentioned in documentation.
    docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6751:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6752:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {"write", "edit"} and not visibility_result.is_writable:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6753:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6754:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6755:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6756:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6757:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6758:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6759:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6760:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6761:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6762:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6763:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6764:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6765:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6766:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6772:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:106:    if not session.is_path_allowed(file_path):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6773:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:228:    if not session.is_path_allowed(old_path):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:6774:0 — Banned/concept-expansion term mentioned in documentation.
    tools/ck3lens_mcp/ck3lens/local_mods.py:230:    if not session.is_path_allowed(new_path):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7507:0 — Banned/concept-expansion term mentioned in documentation.
    During agent initialization, two different `local_mods_folder` paths were observed:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7521:0 — Banned/concept-expansion term mentioned in documentation.
    3. The `local_mods_folder` field in the JSON contains the absolute path from the original machine
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7562:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `local_mods_folder` Should Auto-Detect with Confirmation
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7568:0 — Banned/concept-expansion term mentioned in documentation.
    def detect_local_mods_folder() -> Path:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7569:0 — Banned/concept-expansion term mentioned in documentation.
    # Auto-detect local_mods_folder with cross-platform support.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7591:0 — Banned/concept-expansion term mentioned in documentation.
    **On first run**, if `local_mods_folder` is not in config and auto-detection succeeds, prompt user:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7604:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7611:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "~/.ck3mods"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7617:0 — Banned/concept-expansion term mentioned in documentation.
    - **Local mods**: Relative to `local_mods_folder` (e.g., `"path": "Mini Super Compatch"`)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:7647:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:/Users/Nathan/Documents/Paradox Interactive/Crusader Kings III/mod",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8311:0 — Banned/concept-expansion term mentioned in documentation.
    - can_write
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8314:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8326:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods (as an array or list)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8327:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8329:0 — Banned/concept-expansion term mentioned in documentation.
    - live_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8347:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ is_writable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8351:0 — Banned/concept-expansion term mentioned in documentation.
    ❌ local_mods[]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8420:0 — Banned/concept-expansion term mentioned in documentation.
    - no local_mods[]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8421:0 — Banned/concept-expansion term mentioned in documentation.
    - no editable_mods[]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8434:0 — Banned/concept-expansion term mentioned in documentation.
    mod.path is under local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8451:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8479:0 — Banned/concept-expansion term mentioned in documentation.
    - path_under_local_mods(path)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8566:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8613:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods arrays appear
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8614:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods lists appear
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8629:0 — Banned/concept-expansion term mentioned in documentation.
    - Is this path under local_mods_folder?
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8725:0 — Banned/concept-expansion term mentioned in documentation.
    - editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8768:0 — Banned/concept-expansion term mentioned in documentation.
    | 1 | **ONE enforcement boundary** Ã¢â‚¬â€ only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8770:0 — Banned/concept-expansion term mentioned in documentation.
    | 3 | **mods[] is THE mod list** Ã¢â‚¬â€ no parallel lists | Creating `local_mods[]` or `editable_mods[]` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8871:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, config)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8891:0 — Banned/concept-expansion term mentioned in documentation.
    **Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8896:0 — Banned/concept-expansion term mentioned in documentation.
    - `PlaysetLens` is the runtime filter that scopes all DB queries to one playset
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8898:0 — Banned/concept-expansion term mentioned in documentation.
    - `Session.local_mods_folder` is a single `Path` for containment checks
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8903:0 — Banned/concept-expansion term mentioned in documentation.
    Launcher Playset Ã¢â€ â€™ playsets/*.json Ã¢â€ â€™ PlaysetLens Ã¢â€ â€™ DB Queries (filtered)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8912:0 — Banned/concept-expansion term mentioned in documentation.
    | Local | Documents/mod/ folder | Yes (if in local_mods_folder) |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:8960:0 — Banned/concept-expansion term mentioned in documentation.
    | Under `local_mods_folder` | `LOCAL_MOD` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9016:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": f"Not found in LensWorld: {path}"}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9053:0 — Banned/concept-expansion term mentioned in documentation.
    def can_write_to_mod(mod_name: str) -> bool:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9131:0 — Banned/concept-expansion term mentioned in documentation.
    can_write
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9134:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9149:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9151:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods (as derived or filtered lists)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9152:0 — Banned/concept-expansion term mentioned in documentation.
    live_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9153:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9157:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9158:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9159:0 — Banned/concept-expansion term mentioned in documentation.
    list_live_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9163:0 — Banned/concept-expansion term mentioned in documentation.
    editable_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9185:0 — Banned/concept-expansion term mentioned in documentation.
    db_visibility() as primary API (use db_handle())
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9203:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_data         # Cached playset data = duplicate source of truth
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9204:0 — Banned/concept-expansion term mentioned in documentation.
    active_playset_file         # Cached file reference = duplicate source of truth
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9229:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9230:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` | `mods[]` + containment check | no parallel lists |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9231:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_to_mod()` | N/A Ã¢â‚¬â€ delete entirely | oracle function |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9258:0 — Banned/concept-expansion term mentioned in documentation.
    | `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9300:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write_to_db():
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9455:0 — Banned/concept-expansion term mentioned in documentation.
    Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9491:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorldAdapter(...)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9511:0 — Banned/concept-expansion term mentioned in documentation.
    - **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9513:0 — Banned/concept-expansion term mentioned in documentation.
    - **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:9514:0 — Banned/concept-expansion term mentioned in documentation.
    - **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:10073:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:10074:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods`**: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:11658:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": ["MSC", "LocalizationPatch", "CrashFixes"],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:11683:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Mods the agent can write to (whitelist) |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:11699:0 — Banned/concept-expansion term mentioned in documentation.
    return {"playset_name": None, "mods": [], "live_mods": []}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:11706:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods": playset.get("live_mods", []),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12931:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. LensWorld — What You See and Why It Exists
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12937:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld exists to remove that burden from you.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12939:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld presents a **virtual filesystem and data view** that contains:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12949:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a cognitive simplification layer**, not merely a safety feature.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12957:0 — Banned/concept-expansion term mentioned in documentation.
    ## 3. What LensWorld Contains
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:12959:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is composed of the following scope domains:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13023:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is a hard guardrail. Anything outside it realizes as "not found".
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13027:0 — Banned/concept-expansion term mentioned in documentation.
    - paths outside LensWorld behave as nonexistent
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13131:0 — Banned/concept-expansion term mentioned in documentation.
    **Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13180:0 — Banned/concept-expansion term mentioned in documentation.
    ### LensWorld Sandbox for ck3lens WIP Scripts ✅
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13184:0 — Banned/concept-expansion term mentioned in documentation.
    - `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13187:0 — Banned/concept-expansion term mentioned in documentation.
    - Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13195:0 — Banned/concept-expansion term mentioned in documentation.
    - `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13220:0 — Banned/concept-expansion term mentioned in documentation.
    6. `b6a65e4` - LensWorld sandbox (ck3lens)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13271:0 — Banned/concept-expansion term mentioned in documentation.
    > **Source:** User concern about scripts bypassing LensWorld
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13282:0 — Banned/concept-expansion term mentioned in documentation.
    **However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13287:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld's cognitive simplification is undermined
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13357:0 — Banned/concept-expansion term mentioned in documentation.
    - ck3_exec applies LensWorld constraints
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13546:0 — Banned/concept-expansion term mentioned in documentation.
    | 1140 | `playset_data.get("local_mods", [])` — reads legacy playset JSON format |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13963:0 — Banned/concept-expansion term mentioned in documentation.
    > **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13971:0 — Banned/concept-expansion term mentioned in documentation.
    This document captured the original requirements for playset filtering before the LensWorld architecture was designed.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13974:0 — Banned/concept-expansion term mentioned in documentation.
    - **LENSWORLD.md** - Canonical visibility architecture
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13984:0 — Banned/concept-expansion term mentioned in documentation.
    ### Core Principle (Now Implemented via LensWorld)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13987:0 — Banned/concept-expansion term mentioned in documentation.
    This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13996:0 — Banned/concept-expansion term mentioned in documentation.
    3. PlaysetLens class for filtering
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:13999:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens handles DB query filtering
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14008:0 — Banned/concept-expansion term mentioned in documentation.
    - [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14016:0 — Banned/concept-expansion term mentioned in documentation.
    ### `docs\issues\AGENT REPLY 1 - Canonical lensworld proposal.md`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14019:0 — Banned/concept-expansion term mentioned in documentation.
    # AGENT REPLY 1: Canonical LensWorld Proposal
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14023:0 — Banned/concept-expansion term mentioned in documentation.
    > **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14029:0 — Banned/concept-expansion term mentioned in documentation.
    This document contained the agent's review and questions about the proposed LensWorld architecture.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14032:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/LENSWORLD.md` - Canonical visibility architecture
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14046:0 — Banned/concept-expansion term mentioned in documentation.
    6. **B.6 Utility Files:** First-class LensWorld domain
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14049:0 — Banned/concept-expansion term mentioned in documentation.
    9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14126:0 — Banned/concept-expansion term mentioned in documentation.
    ### 3. live_mods_config References
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14240:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 75 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14241:0 — Banned/concept-expansion term mentioned in documentation.
    | playset_scope.py | 113 | `if not self.local_mods_folder` | ⚠️ Use mods[] |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14242:0 — Banned/concept-expansion term mentioned in documentation.
    | ck3lens_rules.py | 144 | `if local_mods_folder` | ✅ Enforcement |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14243:0 — Banned/concept-expansion term mentioned in documentation.
    | types.py | 438 | `if scope.get("local_mods_folder")` | ⚠️ Review |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14245:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 242 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14246:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 287 | `if "local_mods_folder" in data` | ✅ Config |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14249:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 600 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14250:0 — Banned/concept-expansion term mentioned in documentation.
    | world_adapter.py | 965 | `if local_mods_folder` | ⚠️ Resolution |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14251:0 — Banned/concept-expansion term mentioned in documentation.
    | canonical_phase1_lint.py | 329 | `if "local_mods_folder" in line_text` | ✅ Lint |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14265:0 — Banned/concept-expansion term mentioned in documentation.
    | audit.py | 253 | `log_lensworld_resolution` | RENAME → `log_resolution` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14266:0 — Banned/concept-expansion term mentioned in documentation.
    | workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14268:0 — Banned/concept-expansion term mentioned in documentation.
    | world_router.py | 27 | `PlaysetLens` import | DELETE |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14397:0 — Banned/concept-expansion term mentioned in documentation.
    2. Rename `log_lensworld_resolution` → `log_resolution`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14398:0 — Banned/concept-expansion term mentioned in documentation.
    3. Refactor `PlaysetLens` → use `mods[]` directly
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14452:0 — Banned/concept-expansion term mentioned in documentation.
    - `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated when hardcodin
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14466:0 — Banned/concept-expansion term mentioned in documentation.
    ### Error 2: Claiming `live_mods_config` only in docs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14470:0 — Banned/concept-expansion term mentioned in documentation.
    **Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14499:0 — Banned/concept-expansion term mentioned in documentation.
    | "active local mods" | Implies filtered/derived list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14500:0 — Banned/concept-expansion term mentioned in documentation.
    | "live mods" | Implies separate list | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14501:0 — Banned/concept-expansion term mentioned in documentation.
    | "local mods" (as list) | Parallel structure | "mods[] under local_mods_folder" |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14573:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a Path for containment checks
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14574:0 — Banned/concept-expansion term mentioned in documentation.
    - Enforcement checks if mod path is under local_mods_folder at execution time
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14739:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Imported playset. Edit agent_briefing and add local_mods as needed."
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14750:0 — Banned/concept-expansion term mentioned in documentation.
    ### `docs\LENSWORLD.md`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14753:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14762:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14764:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14770:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14774:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14776:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14779:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14782:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14792:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14861:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14903:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14904:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:14905:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15477:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods_folder` exists
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15478:0 — Banned/concept-expansion term mentioned in documentation.
    - BUT: `live_mods` key found in example_playset.json (BANNED IDEA)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15485:0 — Banned/concept-expansion term mentioned in documentation.
    | `can_write_path` | mod_files.py |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15486:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_allowed` | local_mods.py, workspace.py, tests |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15488:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15496:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q1: `mod_root` vs `local_mods_folder` disambiguation
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15505:0 — Banned/concept-expansion term mentioned in documentation.
    **Question:** Should this be renamed to `local_mods_folder` (matching the playset JSON key)?
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15507:0 — Banned/concept-expansion term mentioned in documentation.
    My recommendation: YES - rename `_session.mod_root` → `_session.local_mods_folder`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15521:0 — Banned/concept-expansion term mentioned in documentation.
    Currently `local_mod_roots` is used to track which mod paths are under `local_mods_folder`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15529:0 — Banned/concept-expansion term mentioned in documentation.
    ### Q4: Playset JSON `live_mods` key
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15531:0 — Banned/concept-expansion term mentioned in documentation.
    The example_playset.json has a `live_mods` key which is a BANNED IDEA.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15549:0 — Banned/concept-expansion term mentioned in documentation.
    is_path_writable() → path_under_local_mods()
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15556:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable → ui_hint_potentially_editable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15563:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root → local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15570:0 — Banned/concept-expansion term mentioned in documentation.
    Remove early denial checks based on is_writable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15577:0 — Banned/concept-expansion term mentioned in documentation.
    can_write_path → REMOVE
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15581:0 — Banned/concept-expansion term mentioned in documentation.
    #### 2.6 local_mods.py
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15588:0 — Banned/concept-expansion term mentioned in documentation.
    mod_root references → local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15601:0 — Banned/concept-expansion term mentioned in documentation.
    - Remove `live_mods` from example_playset.json
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15632:0 — Banned/concept-expansion term mentioned in documentation.
    7. `local_mods.py` - Remove permission helpers
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15638:0 — Banned/concept-expansion term mentioned in documentation.
    13. `lensworld_sandbox.py` - Sandbox enforcement
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15649:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` → `ui_hint_potentially_editable` | ~16 |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15650:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_path_writable` → `path_under_local_mods` | ~3 |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15651:0 — Banned/concept-expansion term mentioned in documentation.
    | `mod_root` → `local_mods_folder` | ~10 |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15830:0 — Banned/concept-expansion term mentioned in documentation.
    - `*_writable` (use `path_under_local_mods` for structural descriptor)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15878:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = LensWorldAdapter(lens, db, ...)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15885:0 — Banned/concept-expansion term mentioned in documentation.
    **Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15895:0 — Banned/concept-expansion term mentioned in documentation.
    | "Where is the local mods folder?" | Session.local_mods_folder | Path |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15929:0 — Banned/concept-expansion term mentioned in documentation.
    if not is_under_local_mods_folder(file_path, session.local_mods_folder):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15930:0 — Banned/concept-expansion term mentioned in documentation.
    return (False, "Path outside local_mods_folder")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15944:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] # Configured boundary
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15962:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:15968:0 — Banned/concept-expansion term mentioned in documentation.
    def path_under_local_mods(self, path: Path) -> bool:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16069:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\...\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16073:0 — Banned/concept-expansion term mentioned in documentation.
    **Note:** There is no `local_mods[]` array. Local mods are determined at runtime by checking `mod.path` against `local_mods_folder`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16081:0 — Banned/concept-expansion term mentioned in documentation.
    | `path_under_local_mods` | `path.startswith(local_mods_folder)` | UI hints only |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16093:0 — Banned/concept-expansion term mentioned in documentation.
    | `session.can_write_path()` | Permission oracle | Enforce at boundary |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16094:0 — Banned/concept-expansion term mentioned in documentation.
    | `if not is_writable: return error` | Early denial | Let enforcement decide |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16095:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods[]` array | Parallel concept | Derive from `mods[]` + path |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:16405:0 — Banned/concept-expansion term mentioned in documentation.
    git_scope: str  # "local_mods" | "ck3raven" | "none"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:18930:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:18932:0 — Banned/concept-expansion term mentioned in documentation.
    **Same as `local_mods` - a BANNED parallel authority list!**
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:18936:0 — Banned/concept-expansion term mentioned in documentation.
    | 349 | `editable_mods = [...]` - being created |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:18937:0 — Banned/concept-expansion term mentioned in documentation.
    | 360 | `editable_mods_list` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:18942:0 — Banned/concept-expansion term mentioned in documentation.
    **Action:** Destroy completely. Editability is DERIVED from `mods[]` + `local_mods_folder` containment check, never stored as a separate list.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19000:0 — Banned/concept-expansion term mentioned in documentation.
    1. ✅ Deleted `local_mods.py` module entirely
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19002:0 — Banned/concept-expansion term mentioned in documentation.
    3. ✅ Removed `local_mods` import from `server.py`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19003:0 — Banned/concept-expansion term mentioned in documentation.
    4. ✅ Archived legacy MCP tools (deregistered `ck3_list_local_mods`, etc.)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19004:0 — Banned/concept-expansion term mentioned in documentation.
    5. ✅ Fixed `ck3_playset(command="add_mod")` to add to `mods[]` not `local_mods[]`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19013:0 — Banned/concept-expansion term mentioned in documentation.
    - Line 4033: `local_mods.write_file()` - calls deleted module!
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19022:0 — Banned/concept-expansion term mentioned in documentation.
    - `local_mods` references
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19028:0 — Banned/concept-expansion term mentioned in documentation.
    1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19032:0 — Banned/concept-expansion term mentioned in documentation.
    5. **FIX** remaining `local_mods` references
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19347:0 — Banned/concept-expansion term mentioned in documentation.
    ### `Lensworld - Domain - Policy review outcomes.md`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19352:0 — Banned/concept-expansion term mentioned in documentation.
    In fact, you have identified the exact mechanism of **Context Poisoning**: using terminology (`LOCAL_MOD`) that is seman
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19372:0 — Banned/concept-expansion term mentioned in documentation.
    ### 1. Replacement for `LENSWORLD.md` (Sanitized)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19376:0 — Banned/concept-expansion term mentioned in documentation.
    fileName: LENSWORLD.md
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19379:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld Architecture
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19388:0 — Banned/concept-expansion term mentioned in documentation.
    ## 1. What LensWorld Is
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19390:0 — Banned/concept-expansion term mentioned in documentation.
    **LensWorld is a structural resolution layer.** It answers:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19396:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld creates the **Database-Projected View** of the file system. If `WorldAdapter` cannot resolve a path, that path effectively **does not exist** for the agent.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19400:0 — Banned/concept-expansion term mentioned in documentation.
    ## 2. What LensWorld Is Not (CRITICAL)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19402:0 — Banned/concept-expansion term mentioned in documentation.
    LensWorld is **NOT** a permission system.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19405:0 — Banned/concept-expansion term mentioned in documentation.
    * It **NEVER** returns `is_writable` or `is_allowed`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19408:0 — Banned/concept-expansion term mentioned in documentation.
    **The output of LensWorld is Identity (`CanonicalAddress`) and Geography (`RootCategory`), not Permission.**
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19418:0 — Banned/concept-expansion term mentioned in documentation.
    * `LensWorldAdapter` (Banned class)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19487:0 — Banned/concept-expansion term mentioned in documentation.
    This is the **only** allowed pattern for using LensWorld.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19530:0 — Banned/concept-expansion term mentioned in documentation.
    | `is_writable` | Oracle pattern | `enforce_policy()` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19531:0 — Banned/concept-expansion term mentioned in documentation.
    | `local_mods` (list) | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19532:0 — Banned/concept-expansion term mentioned in documentation.
    | `live_mods` | Parallel truth | `mods[]` + `ROOT_USER_DOCS` check |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19688:0 — Banned/concept-expansion term mentioned in documentation.
    2. **`is_writable` checks**: Tools must not check if a path is writable. They must attempt to write and let `enforce_pol
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19689:0 — Banned/concept-expansion term mentioned in documentation.
    3. **`live_mods` / `local_mods**`: These terms trigger hallucinations of parallel lists. Do not use them. Refer to `ROOT
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:19866:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20009:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "11. **LensWorld / scoped visibility model**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20022:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods: 6 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20035:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods: 0 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20048:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable: 2 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20061:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write: 0 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20074:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- live_mods ---",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20087:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ".github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20100:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:707:  \"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20113:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20126:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:748:        return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20139:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:755:        \"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20152:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20165:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:19:live_mods_config = {",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20178:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20191:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20204:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20217:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:143:live_mods:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20230:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:9:- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20243:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:35:3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20256:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20269:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/example_playset.json:27:  \"live_mods\": [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20282:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20295:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20308:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20321:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20334:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:35:    \"live_mods module is deprecated, use local_mods instead\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20347:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20360:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20373:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20386:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20399:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20412:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20425:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20438:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20451:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20464:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20477:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20490:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20503:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20516:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20529:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- is_writable ---",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20542:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20555:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20568:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {\"write\", \"edit\"} and not visibility_result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20581:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20594:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20607:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20620:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20633:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20646:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20659:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20672:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20685:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20698:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20711:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20724:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20737:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20750:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20763:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20776:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20789:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20802:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20815:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u274c is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20828:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- no editable_mods[]",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20841:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20854:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods lists appear",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20867:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20880:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 1 | **ONE enforcement boundary** \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20893:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 3 | **mods[] is THE mod list** \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d no parallel lists | Creating `local_mods[]` or `editable_mods[]` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20906:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, config)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20919:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20932:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` is the runtime filter that scopes all DB queries to one playset",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20945:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Launcher Playset \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 playsets/*.json \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 PlaysetLens \u00c3\u00a2\u00e2\u20ac\u00a0\u00e2\u20ac\u2122 DB Queries (filtered)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20958:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"error\": f\"Not found in LensWorld: {path}\"}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20971:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def can_write_to_mod(mod_name: str) -> bool:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20984:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:20997:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21010:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21023:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21036:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21049:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21062:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21075:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "list_live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21088:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21101:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21114:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_to_mod()` | N/A \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u20ac\u009d delete entirely | oracle function |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21127:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21140:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write_to_db():",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21153:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Previously, there were separate `LensWorldAdapter` and `DevWorldAdapter` classes. These have been consolidated into a single `WorldAdapter` that changes behavior based on mode.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21166:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorldAdapter(...)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21179:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **ORACLE-01**: Oracle-style function/variable names (`can_write`, `is_allowed`)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21192:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **TRUTH-01**: Parallel truth symbols (`local_mods`, `editable_mods`)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21205:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **CONCEPT-03**: Lens concept explosion (`PlaysetLens`, `LensWorldAdapter`)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21218:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Related:** [LENSWORLD.md](LENSWORLD.md) - Visibility layer architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21231:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 0. Relationship to LensWorld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21244:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**This document defines POLICY.** For visibility (what exists), see [LENSWORLD.md](LENSWORLD.md).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21257:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | \u274c See LENSWORLD.md |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21270:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** LensWorld and Policy are orthogonal:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21283:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld never returns ALLOW or DENY - only FOUND or NOT_FOUND",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21296:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only evaluates actions on references that LensWorld resolved successfully",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21309:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE PLAYSET (DB VIEW)** | LensWorld | \u2705 | \u274c | \u274c | Normal universe |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21322:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE LOCAL MODS** | LensWorld | \u2705 | \u2705 (contract) | \ud83d\udd36 (approval) | Only mutable scope |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21335:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE WORKSHOP MODS** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21348:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **VANILLA GAME** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21361:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3 UTILITY FILES** | LensWorld | \u2705 | \u274c | \u274c | Logs, saves, debug files |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21374:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3RAVEN SOURCE** | LensWorld | \u2705 (logged) | \u274c (always) | \u274c (always) | Read-only, for bug context |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21387:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3LENS WIP WORKSPACE** | LensWorld | \u2705 | \u2705 | \u2705 | Disposable Python scripts |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21400:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LAUNCHER / REGISTRY** | LensWorld | \u2705 (diagnostic) | \ud83d\udd36 (repair tool) | \ud83d\udd36 (repair tool) | Via ck3_repair only |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21413:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create WorldAdapter and WorldRouter (see LENSWORLD.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21426:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21439:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Action | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21452:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21465:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21478:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21491:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21504:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. LensWorld \u2014 What You See and Why It Exists",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21517:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld exists to remove that burden from you.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21530:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld presents a **virtual filesystem and data view** that contains:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21543:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a cognitive simplification layer**, not merely a safety feature.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21556:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 3. What LensWorld Contains",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21569:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is composed of the following scope domains:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21582:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a hard guardrail. Anything outside it realizes as \"not found\".",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21595:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- paths outside LensWorld behave as nonexistent",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21608:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21621:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### LensWorld Sandbox for ck3lens WIP Scripts \u2705",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21634:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21647:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21660:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21673:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. `b6a65e4` - LensWorld sandbox (ck3lens)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21686:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Source:** User concern about scripts bypassing LensWorld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21699:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21712:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld's cognitive simplification is undermined",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21725:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- ck3_exec applies LensWorld constraints",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21738:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21751:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods_config = {",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21764:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21777:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location: `DEFAULT_LIVE_MODS` constant (Lines ~70-94)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21790:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "DEFAULT_LIVE_MODS = [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21803:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21816:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `bridge/server.py` | `list_live_mods()` | \u26a0\ufe0f Hardcoded | HIGH |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21829:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `workspace.py` | `DEFAULT_LIVE_MODS` | \u2705 Has config loading | LOW |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21842:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21855:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21868:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document captured the original requirements for playset filtering before the LensWorld architecture was designed.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21881:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **LENSWORLD.md** - Canonical visibility architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21894:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Core Principle (Now Implemented via LensWorld)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21907:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21920:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. PlaysetLens class for filtering",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21933:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens handles DB query filtering",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21946:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21955:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21959:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# AGENT REPLY 1: Canonical LensWorld Proposal",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21968:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21972:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21981:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21985:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document contained the agent's review and questions about the proposed LensWorld architecture.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21994:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:21998:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/LENSWORLD.md` - Canonical visibility architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22007:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22011:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. **B.6 Utility Files:** First-class LensWorld domain",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22020:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\issues\\AGENT REPLY 1 - Canonical lensworld 
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22024:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22037:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 3. live_mods_config References",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22050:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| audit.py | 253 | `log_lensworld_resolution` | RENAME \u2192 `log_resolution` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22063:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| workspace.py | 17 | `PlaysetLens` | REFACTOR to mods[] |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22076:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| world_router.py | 27 | `PlaysetLens` import | DELETE |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22089:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "2. Rename `log_lensworld_resolution` \u2192 `log_resolution`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22102:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Refactor `PlaysetLens` \u2192 use `mods[]` directly",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22115:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/HARD CODING TO FIX.md` - Contains `live_mods_config` as example of what to fix. Should be updated w
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22128:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Error 2: Claiming `live_mods_config` only in docs",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22141:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Status:** User reports this exists in workspace.py. Search didn't find `live_mods_config` but did find `live_mods` in lint rules. Need thorough review of workspace.py for any `live_*` patterns.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22150:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22154:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld Architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22163:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22167:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 1. What LensWorld Is",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22176:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22180:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a hard visibility guardrail that defines the complete and only world an agent is capable of perceiving.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22189:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22193:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld determines:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22202:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22206:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. What LensWorld Is Not",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22215:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22219:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is **not**:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22228:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22232:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld never decides whether an action is allowed.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22241:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22245:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld and Policy are **orthogonal layers**:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22254:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22258:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | Visibility filtering |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22267:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22271:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a **hard guardrail on visibility**.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22280:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22284:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Visibility failure | Reference not in LensWorld | `NOT_FOUND` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22293:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22297:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` - Database query filtering by content_version_id",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22306:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22310:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `LensWorldAdapter` | ck3lens | Active playset only | Local mods + WIP |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22319:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22323:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 6.1 ck3lens Mode (LensWorldAdapter)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22332:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22336:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Policy enforcement runs **only after** LensWorld resolution succeeds.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22345:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22349:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Reference \u2192 LensWorld.resolve() \u2192 Found? \u2192 Policy.evaluate() \u2192 Action",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22358:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22362:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Scenario | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22371:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22375:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/world_adapter.py` | WorldAdapter interface, LensWorldAdapter, DevWorldAdapter |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22384:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22388:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/db_queries.py` | PlaysetLens - database query filtering |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22397:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22401:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22410:0 — Banned/concept-expansion term mentioned in documentation.
    "path": "C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\\docs\\LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22414:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld ensures ck3lens:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22427:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- BUT: `live_mods` key found in example_playset.json (BANNED IDEA)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22440:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_path` | mod_files.py |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22453:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22466:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Q4: Playset JSON `live_mods` key",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22479:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The example_playset.json has a `live_mods` key which is a BANNED IDEA.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22492:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable \u2192 ui_hint_potentially_editable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22505:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Remove early denial checks based on is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22518:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write_path \u2192 REMOVE",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22531:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Remove `live_mods` from example_playset.json",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22544:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "13. `lensworld_sandbox.py` - Sandbox enforcement",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22557:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` \u2192 `ui_hint_potentially_editable` | ~16 |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22570:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, ...)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22583:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22596:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `session.can_write_path()` | Permission oracle | Enforce at boundary |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22609:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `if not is_writable: return error` | Early denial | Let enforcement decide |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22622:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22635:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 349 | `editable_mods = [...]` - being created |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22648:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 360 | `editable_mods_list` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22661:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22674:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502       \u251c\u2500\u2500 lensworld_sandbox.py",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22687:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502       \u2514\u2500\u2500 test_lensworld_sandbox.py",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22700:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502   \u2502   \u251c\u2500\u2500 AGENT REPLY 1 - Canonical lensworld proposal.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22713:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u2502   \u251c\u2500\u2500 LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22726:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22739:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `archive\\deprecated_policy\\lensworld_sandbox.py`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22752:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from ck3lens.policy.lensworld_sandbox import run_script_sandboxed",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22765:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"ck3lens.policy.lensworld_sandbox is deprecated. \"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22778:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class LensWorldSandbox:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22791:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Runtime sandbox that constrains file access to LensWorld paths.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22804:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This matches the LensWorld principle that out-of-scope = \"not found\".",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22817:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "_active_sandbox: Optional[LensWorldSandbox] = None",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22830:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22843:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22856:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of builtins.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22869:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of io.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22882:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Sandboxed version of Path.open() that checks LensWorld permissions.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22895:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {path}\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22908:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[LensWorld] Path not in scope: {name}\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22921:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def activate_sandbox(sandbox: LensWorldSandbox) -> None:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22934:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Activate the LensWorld sandbox by monkey-patching file operations.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22947:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Deactivate the LensWorld sandbox and restore original functions.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22960:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Execute a Python script within the LensWorld sandbox.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22973:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "sandbox = LensWorldSandbox(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22986:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `archive\\deprecated_policy\\test_lensworld_sandbox.py`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:22999:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Test suite for LensWorld Sandbox",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23012:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. Reads inside LensWorld (should work)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23025:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "2. Reads outside LensWorld (should fail with FileNotFoundError)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23038:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Writes inside LensWorld (should work)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23051:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "4. Writes outside LensWorld (should fail with FileNotFoundError)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23064:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from ck3lens.policy.lensworld_sandbox import run_script_sandboxed, LensWorldSandbox",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23077:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_read_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23090:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Reading a file outside LensWorld should fail.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23103:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Read outside LensWorld\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23116:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert not result[\"success\"], \"Should fail - reading outside LensWorld\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23129:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert \"LensWorld\" in result.get(\"error\", \"\") or result[\"audit\"].get(\"blocked_reads\", 0) > 0",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23142:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_write_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23155:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Writing a file outside LensWorld should fail.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23168:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Write outside LensWorld\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23181:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "assert not result[\"success\"], \"Should fail - writing outside LensWorld\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23194:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def test_exists_check_outside_lensworld(wip_path, local_mod_path, utility_path):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23207:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Test: Checking if a file outside LensWorld exists should return False.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23220:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(f\"TEST: Exists check outside LensWorld\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23233:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "print(\"LensWorld Sandbox Tests\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23246:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_read_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23259:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_write_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23272:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "test_exists_check_outside_lensworld(wip_path, local_mod_path, utility_path)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23285:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "11. **LensWorld / scoped visibility model**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23298:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods: 6 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23311:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods: 0 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23324:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable: 2 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23337:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write: 0 matches",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23350:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- live_mods ---",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23363:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ".github/COPILOT_LENS_COMPATCH.md:114:| `ck3_list_live_mods` | List mods you can edit |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23376:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:707:  \"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23389:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:732:| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23402:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:748:        return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23415:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/ARCHITECTURE.md:755:        \"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23428:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:16:### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23441:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:19:live_mods_config = {",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23454:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:49:**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23467:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:94:**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23480:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:118:| `bridge/server.py` | `list_live_mods()` | ?? Hardcoded | HIGH |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23493:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/HARD CODING TO FIX.md:143:live_mods:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23506:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:9:- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23519:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:35:3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23532:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/README.md:132:| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23545:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "playsets/example_playset.json:27:  \"live_mods\": [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23558:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:8:  - live_mods ? local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23571:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:10:  - list_live_mods ? list_local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23584:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:14:Session.live_mods property still works (forwards to local_mods).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23597:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:22:    list_live_mods,  # backwards compat alias",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23610:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/live_mods.py:35:    \"live_mods module is deprecated, use local_mods instead\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23623:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23636:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23649:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23662:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23675:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23688:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23701:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23714:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:65:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23727:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:94:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23740:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:127:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23753:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:159:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23766:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:190:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23779:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:222:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23792:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tests/test_lensworld_sandbox.py:263:        local_mod_roots={local_mod_path},",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23805:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "--- is_writable ---",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23818:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "docs/LENSWORLD.md:215:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23831:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:845:    - Provides is_writable hints for policy",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23844:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:893:            if command in {\"write\", \"edit\"} and not visibility_result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23857:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1245:        if not resolution.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23870:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/unified_tools.py:1366:        if not resolution.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23883:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:101:    is_writable: bool = False  # For policy - can this be mutated?",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23896:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:400:                is_writable = mod_root in self._scope.local_mod_roots",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23909:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:406:                    is_writable=is_writable,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23922:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:425:            is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23935:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:447:            is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23948:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:460:            is_writable=False,  # Always read-only in ck3lens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23961:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:473:            is_writable=True,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23974:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:535:                is_writable=True,  # Writable in dev mode",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:23987:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:552:                is_writable=True,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24000:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:570:                    is_writable=False,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24013:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_adapter.py:588:                    is_writable=False,  # NEVER writable in dev mode",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24026:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "tools/ck3lens_mcp/ck3lens/world_router.py:31:    if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24039:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24052:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24065:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24078:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24091:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\u274c is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24104:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- no editable_mods[]",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24117:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24130:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods lists appear",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24143:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24156:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 1 | **ONE enforcement boundary** \u2014 only `enforcement.py` may deny operations | Adding `if not can_write(path)` anywhere else |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24169:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 3 | **mods[] is THE mod list** \u2014 no parallel lists | Creating `local_mods[]` or `editable_mods[]` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24182:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, config)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24195:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Canonical File:** `src/ck3raven/db/lens.py` (PlaysetLens)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24208:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` is the runtime filter that scopes all DB queries to one playset",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24221:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Launcher Playset \u2192 playsets/*.json \u2192 PlaysetLens \u2192 DB Queries (filtered)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24234:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"error\": f\"Not found in LensWorld: {path}\"}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24247:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def can_write_to_mod(mod_name: str) -> bool:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24260:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24273:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24286:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24299:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24312:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | `ui_hint_potentially_editable` | explicit non-authority |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24325:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_to_mod()` | N/A \u2014 delete entirely | oracle function |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24338:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `lensworld_sandbox.py` | Merged into WorldAdapter | `archive/deprecated_policy/` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24351:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Related:** [LENSWORLD.md](LENSWORLD.md) - Visibility layer architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24364:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 0. Relationship to LensWorld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24377:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**This document defines POLICY.** For visibility (what exists), see [LENSWORLD.md](LENSWORLD.md).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24390:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | \u274c See LENSWORLD.md |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24403:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** LensWorld and Policy are orthogonal:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24416:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld never returns ALLOW or DENY - only FOUND or NOT_FOUND",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24429:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only evaluates actions on references that LensWorld resolved successfully",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24442:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE PLAYSET (DB VIEW)** | LensWorld | \u2705 | \u274c | \u274c | Normal universe |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24455:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE LOCAL MODS** | LensWorld | \u2705 | \u2705 (contract) | \ud83d\udd36 (approval) | Only mutable scope |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24468:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **ACTIVE WORKSHOP MODS** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24481:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **VANILLA GAME** | LensWorld | \u2705 | \u274c | \u274c | Immutable |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24494:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3 UTILITY FILES** | LensWorld | \u2705 | \u274c | \u274c | Logs, saves, debug files |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24507:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3RAVEN SOURCE** | LensWorld | \u2705 (logged) | \u274c (always) | \u274c (always) | Read-only, for bug context |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24520:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **CK3LENS WIP WORKSPACE** | LensWorld | \u2705 | \u2705 | \u2705 | Disposable Python scripts |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24533:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LAUNCHER / REGISTRY** | LensWorld | \u2705 (diagnostic) | \ud83d\udd36 (repair tool) | \ud83d\udd36 (repair tool) | Via ck3_repair only |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24546:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create WorldAdapter and WorldRouter (see LENSWORLD.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24559:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [x] Create LENSWORLD.md",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24572:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Action | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24585:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [\"MSC\", \"LocalizationPatch\", \"CrashFixes\"],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24598:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | Mods the agent can write to (whitelist) |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24611:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return {\"playset_name\": None, \"mods\": [], \"live_mods\": []}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24624:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": playset.get(\"live_mods\", []),",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24637:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. LensWorld \u2014 What You See and Why It Exists",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24650:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld exists to remove that burden from you.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24663:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld presents a **virtual filesystem and data view** that contains:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24676:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a cognitive simplification layer**, not merely a safety feature.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24689:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 3. What LensWorld Contains",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24702:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is composed of the following scope domains:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24715:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a hard guardrail. Anything outside it realizes as \"not found\".",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24728:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- paths outside LensWorld behave as nonexistent",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24741:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Critical:** WorldAdapter/LensWorld visibility check must come BEFORE enforcement.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24754:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### LensWorld Sandbox for ck3lens WIP Scripts \u2705",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24767:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `lensworld_sandbox.py` - Runtime sandbox that monkey-patches file operations",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24780:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Out-of-scope access returns `FileNotFoundError` (not `PermissionError` - LensWorld principle)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24793:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `tools/ck3lens_mcp/ck3lens/policy/lensworld_sandbox.py`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24806:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. `b6a65e4` - LensWorld sandbox (ck3lens)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24819:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Source:** User concern about scripts bypassing LensWorld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24832:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**However, unrestricted scripts can bypass LensWorld by accessing the filesystem directly.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24845:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld's cognitive simplification is undermined",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24858:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- ck3_exec applies LensWorld constraints",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24871:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location 1: `list_live_mods()` function (Lines ~893-899)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24884:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods_config = {",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24897:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Should use same config as `list_live_mods()`.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24910:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Location: `DEFAULT_LIVE_MODS` constant (Lines ~70-94)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24923:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "DEFAULT_LIVE_MODS = [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24936:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Fix**: Could read from `ck3lens_config.yaml` live_mods section.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24949:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `bridge/server.py` | `list_live_mods()` | \u26a0\ufe0f Hardcoded | HIGH |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24962:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `workspace.py` | `DEFAULT_LIVE_MODS` | \u2705 Has config loading | LOW |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24975:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "live_mods:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:24988:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Superseded By:** [LENSWORLD.md](../LENSWORLD.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25001:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document captured the original requirements for playset filtering before the LensWorld architecture was designed.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25014:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- **LENSWORLD.md** - Canonical visibility architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25027:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Core Principle (Now Implemented via LensWorld)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25040:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This is now enforced by LensWorldAdapter returning NOT_FOUND for any reference outside the active playset.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25053:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. PlaysetLens class for filtering",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25066:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens handles DB query filtering",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25079:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- [LENSWORLD.md](../LENSWORLD.md) - Canonical architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25092:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `docs\\issues\\AGENT REPLY 1 - Canonical lensworld proposal.md`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25105:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# AGENT REPLY 1: Canonical LensWorld Proposal",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25118:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "> **Incorporated Into:** [LENSWORLD.md](../LENSWORLD.md), [CK3LENS_POLICY_ARCHITECTURE.md](../CK3LENS_POLICY_ARCHITECTURE.md)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25131:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "This document contained the agent's review and questions about the proposed LensWorld architecture.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25144:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `docs/LENSWORLD.md` - Canonical visibility architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25157:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "6. **B.6 Utility Files:** First-class LensWorld domain",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25170:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "9. **B.9 Multiple Adapters:** LensWorldAdapter + DevWorldAdapter with same interface",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25183:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### `docs\\LENSWORLD.md`",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25196:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld Architecture",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25209:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 1. What LensWorld Is",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25222:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld is a hard visibility guardrail that defines the complete and only world an agent is capable of perceiving.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25235:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld determines:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25248:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "## 2. What LensWorld Is Not",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25261:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is **not**:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25274:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**LensWorld never decides whether an action is allowed.**",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25287:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld and Policy are **orthogonal layers**:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25300:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| **LensWorld** | What exists and can be referenced? | Visibility filtering |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25313:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld is a **hard guardrail on visibility**.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25326:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Visibility failure | Reference not in LensWorld | `NOT_FOUND` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25339:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- `PlaysetLens` - Database query filtering by content_version_id",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25352:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `LensWorldAdapter` | ck3lens | Active playset only | Local mods + WIP |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25365:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 6.1 ck3lens Mode (LensWorldAdapter)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25378:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Policy enforcement runs **only after** LensWorld resolution succeeds.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25391:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Reference \u2192 LensWorld.resolve() \u2192 Found? \u2192 Policy.evaluate() \u2192 Action",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25404:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| Scenario | LensWorld | Policy | Result |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25417:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/world_adapter.py` | WorldAdapter interface, LensWorldAdapter, DevWorldAdapter |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25430:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3lens/db_queries.py` | PlaysetLens - database query filtering |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25443:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if wants_to_write and not result.is_writable:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25456:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LensWorld ensures ck3lens:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25469:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- BUT: `live_mods` key found in example_playset.json (BANNED IDEA)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25482:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `can_write_path` | mod_files.py |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25495:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` | 16 occurrences across unified_tools.py, world_adapter.py |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25508:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### Q4: Playset JSON `live_mods` key",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25521:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The example_playset.json has a `live_mods` key which is a BANNED IDEA.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25534:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "is_writable \u2192 ui_hint_potentially_editable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25547:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Remove early denial checks based on is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25560:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "can_write_path \u2192 REMOVE",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25573:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Remove `live_mods` from example_playset.json",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25586:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "13. `lensworld_sandbox.py` - Sandbox enforcement",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25599:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `is_writable` \u2192 `ui_hint_potentially_editable` | ~16 |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25612:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = LensWorldAdapter(lens, db, ...)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25625:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "**Key principle:** If WorldAdapter says NOT_FOUND, the resource doesn't exist in LensWorld.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25638:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `session.can_write_path()` | Permission oracle | Enforce at boundary |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25651:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `if not is_writable: return error` | Early denial | Let enforcement decide |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25664:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "### 1. `editable_mods` / `editable_mods_list` (server.py) - GUILTY",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25677:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 349 | `editable_mods = [...]` - being created |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25690:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| 360 | `editable_mods_list` |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25703:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "1. **DESTROY** `editable_mods` in server.py (same BANNED idea as `local_mods`)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25716:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\": [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25729:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25742:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25755:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25768:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class PlaysetLens:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25781:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "self._lens_cache: dict[int, PlaysetLens] = {}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25794:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def get_lens(self, playset_id: int) -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25807:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens = PlaysetLens(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25820:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def get_active_lens(self) -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25833:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ") -> Optional[PlaysetLens]:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25846:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Build a PlaysetLens from file-based playset data.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25859:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "PlaysetLens with vanilla and mod content_version_ids,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25872:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return PlaysetLens(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25885:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25898:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25911:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25924:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25937:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25950:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25963:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25976:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:25989:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26002:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through (None = search ALL content)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26015:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[PlaysetLens],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26028:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter (None = search ALL)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26041:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: \"PlaysetLens\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26054:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens to filter through",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26067:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26080:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- lensworld_sandbox.py: Merged into WorldAdapter",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26093:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LENSWORLD = \"lensworld\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26106:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# LensWorld context (optional)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26119:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def log_lensworld_resolution(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26132:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Log a LensWorld path resolution event.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26145:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "f\"audit.{EventCategory.LENSWORLD.value}\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26158:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"event_category\": EventCategory.LENSWORLD.value,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26171:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld handles visibility (FOUND vs NOT_FOUND)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26184:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Policy only applies AFTER a reference is resolved inside LensWorld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26197:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "NOT_FOUND = auto()          # For LensWorld - path outside lens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26210:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# Tools layer - MCP tool implementations that consume LensWorld + enforcement",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26223:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "The sandbox does NOT need database access (PlaysetLens/DBQueries).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26236:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# Session info for LensWorld resolution",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26249:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "Sandboxed I/O interceptor that delegates to LensWorld + enforcement.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26262:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld for visibility (can I see this path?)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26275:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise FileNotFoundError(f\"[Sandbox] Path not visible in LensWorld: {path}\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26288:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Intercepted open() that checks LensWorld + enforcement.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26301:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return False  # Not in LensWorld = doesn't exist",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26314:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "All file operations are routed through LensWorld + enforcement.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26327:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "session: Active Session for LensWorld resolution",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26340:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorld: visibility (what exists)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26353:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- LensWorldAdapter: For ck3lens mode - visibility filtered to active playset",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26366:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .db_queries import PlaysetLens, DBQueries",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26379:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "class LensWorldAdapter(WorldAdapter):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26392:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: \"PlaysetLens\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26405:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def lens(self) -> \"PlaysetLens\":",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26418:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Get the underlying PlaysetLens for direct DB query filtering.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26431:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- is_writable checks (enforcement.py decides)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26444:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .world_adapter import WorldAdapter, LensWorldAdapter, DevWorldAdapter",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26457:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "from .db_queries import DBQueries, PlaysetLens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26470:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"] = None,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26483:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: PlaysetLens for DB filtering (required for ck3lens)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26496:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"],",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26509:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": ") -> LensWorldAdapter:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26522:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"\"\"Build a LensWorldAdapter for ck3lens mode.\"\"\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26535:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"LensWorldAdapter requires PlaysetLens. \"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26548:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "raise RuntimeError(\"DBQueries required for LensWorldAdapter\")",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26561:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "return LensWorldAdapter(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26574:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "lens: Optional[\"PlaysetLens\"] = None,",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26587:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# For writes, call enforcement.py - do NOT check result.is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26600:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | List writable mods |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26613:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "& \"C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe\" -c \"from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26626:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | \u2705 Works |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26639:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "PlaysetLens object or None if no_lens=True or no playset configured",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26652:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# NOTE: No editable_mods list - enforcement.py determines writability at execution time",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26665:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"message\": \"Dry run - script would be executed in LensWorld sandbox\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26678:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"reason\": \"Executed in LensWorld sandbox\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26691:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"can_write\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26704:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"is_writable\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26717:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"editable_mods\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26730:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"live_mods\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26743:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "# These are WorldAdapter/LensWorld instances where resolve() is the correct API",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26756:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "\"lensworld\",",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26769:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- Which mods the agent can write to (live_mods)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26782:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "3. Add live_mods for mods the agent can write to",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:26795:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `live_mods` | array | Names of mods the agent can write to |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27184:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27185:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LOCAL_MODS = [",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27186:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "LOCAL_MODS",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27457:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'LOCAL_MODS' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27458:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "LOCAL_MODS = Path.home() / \"Documents\" / \"Paradox Interactive\" / \"Crusader Kings III\" / \"mod\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:27459:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "LOCAL_MODS",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30422:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if not self.local_mods_folder:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30435:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if self.path_under_local_mods(mod_path):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30512:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'log_lensworld_resolution(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30513:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def log_lensworld_resolution(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30514:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "log_lensworld_resolution",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30526:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if local_mods_folder:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:30578:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "local_str = str(local_mods_folder.resolve()).replace(\"\\\\\", \"/\").lower()",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31228:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if scope.get(\"local_mods_folder\") is not None:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31656:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Symbol 'is_under_local_mods_folder' appears unused (no repo references found).",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31658:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "is_under_local_mods_folder",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31669:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Parallel truth symbol 'is_under_local_mods_folder' suggests recomputing scope/editability outside the canonical handles.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31670:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "def is_under_local_mods_folder(file_path: Path, local_mods_folder: Path) -> bool:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31671:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "is_under_local_mods_folder",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31683:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in data:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31696:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in data and data[\"local_mods_folder\"]:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31708:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'PlaysetLens(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31709:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens (just use mods[].cvid)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:31710:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "PlaysetLens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32060:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if local_mods_folder:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32073:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if self._local_mods_folder:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32254:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Concept explosion: constructor 'PlaysetLens(...)' suggests creating overlapping Lens objects.",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32255:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "- PlaysetLens (class - use mods[] instead)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32256:0 — Banned/concept-expansion term mentioned in documentation.
    "symbol": "PlaysetLens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32268:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "adapter = self._build_lens_adapter(db, local_mods_folder, mods)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32294:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "ck3lens/live_mods.py",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32307:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "& \"C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe\" -c \"from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')\"",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:32320:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "| `ck3_list_live_mods` | \u2705 Works |",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:34218:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if \"local_mods_folder\" in line_text:",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:34584:0 — Banned/concept-expansion term mentioned in documentation.
    "notes": "Compatibility patch - path under local_mods_folder makes it writable"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:35773:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": "C:\\Users\\nateb\\Documents\\Paradox Interactive\\Crusader Kings III\\mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:37031:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": {
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:37149:0 — Banned/concept-expansion term mentioned in documentation.
    from whether a mod's path is under `local_mods_folder`.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:37281:0 — Banned/concept-expansion term mentioned in documentation.
    - Path under `local_mods_folder` → enforcement allows writes
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:37285:0 — Banned/concept-expansion term mentioned in documentation.
    There is no `live_mods[]`, `editable_mods[]`, or any permission list in playsets.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:39350:0 — Banned/concept-expansion term mentioned in documentation.
    def get_active_playset_file() -> Optional[Path]:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:39598:0 — Banned/concept-expansion term mentioned in documentation.
    playset_path = get_active_playset_file()
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:39699:0 — Banned/concept-expansion term mentioned in documentation.
    playset_path = get_active_playset_file()
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:45570:0 — Banned/concept-expansion term mentioned in documentation.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:45599:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": [],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:45652:0 — Banned/concept-expansion term mentioned in documentation.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:45707:0 — Banned/concept-expansion term mentioned in documentation.
    print("  2. Add local_mods entries for mods the agent can edit")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:252403:0 — Banned/concept-expansion term mentioned in documentation.
    - Permission oracles (can_write, is_allowed, etc.)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:252404:0 — Banned/concept-expansion term mentioned in documentation.
    - Parallel truth structures (editable_mods, live_mods, etc.)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:252405:0 — Banned/concept-expansion term mentioned in documentation.
    - Concept explosion (Lens*, PlaysetLens, etc.)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253027:0 — Banned/concept-expansion term mentioned in documentation.
    "can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253030:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253047:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253048:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods_list",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253050:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253051:0 — Banned/concept-expansion term mentioned in documentation.
    "live_mods_config",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253052:0 — Banned/concept-expansion term mentioned in documentation.
    "default_live_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253062:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253063:0 — Banned/concept-expansion term mentioned in documentation.
    "db_visibility",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253069:0 — Banned/concept-expansion term mentioned in documentation.
    "playsetlens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253070:0 — Banned/concept-expansion term mentioned in documentation.
    "lensworld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253071:0 — Banned/concept-expansion term mentioned in documentation.
    "getlens",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253091:0 — Banned/concept-expansion term mentioned in documentation.
    "legacyvisibility",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253092:0 — Banned/concept-expansion term mentioned in documentation.
    "legacy_visibility",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253098:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253099:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_file",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253130:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": "local_mods_folder",  # Only allowed as part of local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253153:0 — Banned/concept-expansion term mentioned in documentation.
    ("ERROR", "BANNED_ORACLE", "is%writable", "Oracle: is_writable pattern"),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253158:0 — Banned/concept-expansion term mentioned in documentation.
    ("ERROR", "BANNED_ORACLE", "can%write", "Oracle: can_write pattern"),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253255:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods.py",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253275:0 — Banned/concept-expansion term mentioned in documentation.
    "lensworld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253433:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder",  # canonical allowed
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253491:0 — Banned/concept-expansion term mentioned in documentation.
    9. **Oracle Pattern Detection** — AST-based detection of `can_write`, `is_allowed`, etc.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253493:0 — Banned/concept-expansion term mentioned in documentation.
    11. **Concept Explosion** — Flags `Lens*`, `PlaysetLens`, `ScopeWorld` nouns
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253550:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE discovery.py:45:5 — Oracle: can_write pattern
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253551:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253573:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253574:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write(path):",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253618:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE src/foo.py:12:4 — Oracle: can_write pattern
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253619:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253668:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253714:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_ORACLE` | Oracle-style term (`can_write`, `is_allowed`, etc.) | Route through `enforcement.py` |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253715:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_PARALLEL` | Parallel authority structure (`local_mods`, `editable_mods`) | Use `mods[]` only |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253724:0 — Banned/concept-expansion term mentioned in documentation.
    | `CONCEPT-03` | Lens concept explosion (`PlaysetLens`, `ScopeWorld`) | Use canonical naming |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253747:0 — Banned/concept-expansion term mentioned in documentation.
    mod_roots, is_writable, is_editable, is_allowed, is_path_allowed,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253750:0 — Banned/concept-expansion term mentioned in documentation.
    _validate_visibility, _build_cv_filter, _derive_cvid, visible_cvids,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253759:0 — Banned/concept-expansion term mentioned in documentation.
    can_write, can_edit, can_delete, may_write, may_edit, may_delete,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253760:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable, is_editable, is_deletable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253768:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods, editable_mods, writable_mods, live_mods, list_live_mods,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:253871:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** — No parallel lists like `local_mods[]`
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254055:0 — Banned/concept-expansion term mentioned in documentation.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254056:0 — Banned/concept-expansion term mentioned in documentation.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254061:0 — Banned/concept-expansion term mentioned in documentation.
    r"\b([A-Za-z_]*Lens[A-Za-z_]*|PlaysetLens|Lens)\s*\(",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254067:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"else\s*:\s*.*(?:visibility|visible_cvids|lens|legacy|scope)", re.IGNORECASE),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254068:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"\s+or\s+.*(?:visibility|visible_cvids|legacy)", re.IGNORECASE),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254069:0 — Banned/concept-expansion term mentioned in documentation.
    re.compile(r"getattr\s*\(.*(?:visibility|visible_cvids|legacy)", re.IGNORECASE),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254206:0 — Banned/concept-expansion term mentioned in documentation.
    # Contextually banned (e.g., local_mods only allowed as local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254843:0 — Banned/concept-expansion term mentioned in documentation.
    "playsetlens", "getlens", "get.lens", "lensworld",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254844:0 — Banned/concept-expansion term mentioned in documentation.
    "editable_mods", "live_mods", "local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254845:0 — Banned/concept-expansion term mentioned in documentation.
    "is_writable", "can_write",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254846:0 — Banned/concept-expansion term mentioned in documentation.
    "legacyvisibility", "legacy_visibility",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254847:0 — Banned/concept-expansion term mentioned in documentation.
    "visible_cvids", "db_visibility",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:254848:0 — Banned/concept-expansion term mentioned in documentation.
    "active_playset_data", "active_playset_file",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255311:0 — Banned/concept-expansion term mentioned in documentation.
    - DbHandle carries visible_cvids automatically
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255398:0 — Banned/concept-expansion term mentioned in documentation.
    The DbHandle carries visible_cvids derived from mods[] automatically.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255405:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder: Path = None  # Canonical path for local mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255468:0 — Banned/concept-expansion term mentioned in documentation.
    The handle carries visible_cvids derived from mods[].
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255506:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255519:0 — Banned/concept-expansion term mentioned in documentation.
    # Get local_mods_folder from active playset
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255522:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255529:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255534:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = local_mods_folder  # Store for use by methods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255539:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(local_mods_folder) if local_mods_folder else None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255864:0 — Banned/concept-expansion term mentioned in documentation.
    # Use DbHandle from WorldAdapter (carries visible_cvids)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:255924:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256026:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = dbh.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256083:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256084:0 — Banned/concept-expansion term mentioned in documentation.
    return {"exists": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256085:0 — Banned/concept-expansion term mentioned in documentation.
    file_path = self._local_mods_folder / mod_name / rel_path
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256102:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256103:0 — Banned/concept-expansion term mentioned in documentation.
    return {"success": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256104:0 — Banned/concept-expansion term mentioned in documentation.
    file_path = self._local_mods_folder / mod_name / rel_path
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256117:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256118:0 — Banned/concept-expansion term mentioned in documentation.
    return {"error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256119:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path = self._local_mods_folder / mod_name
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256259:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256260:0 — Banned/concept-expansion term mentioned in documentation.
    return {"success": False, "error": "local_mods_folder not configured"}
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:256272:0 — Banned/concept-expansion term mentioned in documentation.
    target_path = self._local_mods_folder / target_mod / rel_path
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:263823:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods: Sandboxed local mod operations (user-configured mods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:264824:0 — Banned/concept-expansion term mentioned in documentation.
    - _*_internal methods accept visible_cvids: Optional[FrozenSet[int]] directly
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:264834:0 — Banned/concept-expansion term mentioned in documentation.
    - VisibilityScope (replaced by visible_cvids parameter to internal methods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:264952:0 — Banned/concept-expansion term mentioned in documentation.
    - DbHandle calls _*_internal methods with visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265128:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265147:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of content_version_ids to search within, or None for all
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265169:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265262:0 — Banned/concept-expansion term mentioned in documentation.
    refs = self._get_references_for_symbols_internal(symbol_names, visible_cvids, file_pattern, limit)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265290:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265307:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265375:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265387:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265409:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265420:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265426:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265500:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265511:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265518:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265565:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265586:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: FrozenSet of cvids to filter, or None for all
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265599:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265750:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265774:0 — Banned/concept-expansion term mentioned in documentation.
    "playset": playset_name if playset_name else ("ACTIVE PLAYSET" if visible_cvids else "ALL CONTENT"),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265789:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265808:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265824:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265841:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265853:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265899:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265911:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265936:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:265950:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "f.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266002:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266017:0 — Banned/concept-expansion term mentioned in documentation.
    if not visible_cvids:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266020:0 — Banned/concept-expansion term mentioned in documentation.
    cv_filter = self._cv_filter_sql(visible_cvids, "s.content_version_id")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266178:0 — Banned/concept-expansion term mentioned in documentation.
    """Extract visible_cvids from legacy visibility parameter.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266186:0 — Banned/concept-expansion term mentioned in documentation.
    if hasattr(visibility, 'visible_cvids'):
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266187:0 — Banned/concept-expansion term mentioned in documentation.
    cvids = visibility.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266194:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_symbols_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266199:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_files_internal(pattern, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266204:0 — Banned/concept-expansion term mentioned in documentation.
    return self._search_content_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266211:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266216:0 — Banned/concept-expansion term mentioned in documentation.
    return self._confirm_not_exists_internal(query, symbol_type, visible_cvids=cvids)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266221:0 — Banned/concept-expansion term mentioned in documentation.
    return self._unified_search_internal(query, visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266226:0 — Banned/concept-expansion term mentioned in documentation.
    return self._get_symbol_conflicts_internal(visible_cvids=cvids, **kwargs)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:266237:0 — Banned/concept-expansion term mentioned in documentation.
    Git commands for mods, sandboxed to mods under local_mods_folder.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:267991:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods": str(user_docs / "Paradox Interactive" / "Crusader Kings III" / "mod"),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268067:0 — Banned/concept-expansion term mentioned in documentation.
    # local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268068:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268069:0 — Banned/concept-expansion term mentioned in documentation.
    paths_to_check.append(("local_mods_folder", data.get("local_mods_folder", "")))
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268096:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268097:0 — Banned/concept-expansion term mentioned in documentation.
    old_val = data["local_mods_folder"]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268100:0 — Banned/concept-expansion term mentioned in documentation.
    data["local_mods_folder"] = new_val
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268147:0 — Banned/concept-expansion term mentioned in documentation.
    - lensworld_sandbox.py: Merged into WorldAdapter
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268772:0 — Banned/concept-expansion term mentioned in documentation.
    LENSWORLD = "lensworld"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268815:0 — Banned/concept-expansion term mentioned in documentation.
    # LensWorld context (optional)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268991:0 — Banned/concept-expansion term mentioned in documentation.
    def log_lensworld_resolution(
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:268998:0 — Banned/concept-expansion term mentioned in documentation.
    """Log a LensWorld path resolution event."""
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269000:0 — Banned/concept-expansion term mentioned in documentation.
    f"audit.{EventCategory.LENSWORLD.value}",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269003:0 — Banned/concept-expansion term mentioned in documentation.
    "event_category": EventCategory.LENSWORLD.value,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269358:0 — Banned/concept-expansion term mentioned in documentation.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269450:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path | None = None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269459:0 — Banned/concept-expansion term mentioned in documentation.
    For mod paths, returns None - enforcement.py decides based on local_mods_folder.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269483:0 — Banned/concept-expansion term mentioned in documentation.
    # Local mods - path under local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269484:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269485:0 — Banned/concept-expansion term mentioned in documentation.
    local_str = str(local_mods_folder.resolve()).replace("\\", "/").lower()
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269490:0 — Banned/concept-expansion term mentioned in documentation.
    # If it looks like a mod path but not under local_mods_folder, it's workshop
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269527:0 — Banned/concept-expansion term mentioned in documentation.
    Rule: no_python_editing (except WIP), local_mods_only
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269561:0 — Banned/concept-expansion term mentioned in documentation.
    # Classify the domain using local_mods_folder boundary
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:269564:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=ctx.local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:270965:0 — Banned/concept-expansion term mentioned in documentation.
    "active_local_mods",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:271818:0 — Banned/concept-expansion term mentioned in documentation.
    NOT_FOUND = auto()          # For LensWorld - path outside lens
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:274533:0 — Banned/concept-expansion term mentioned in documentation.
    # local_mods_folder boundary (mods here are editable)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:274534:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:274569:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:274585:0 — Banned/concept-expansion term mentioned in documentation.
    if scope.get("local_mods_folder") is not None:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:274586:0 — Banned/concept-expansion term mentioned in documentation.
    self.local_mods_folder = Path(scope["local_mods_folder"])
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:275308:0 — Banned/concept-expansion term mentioned in documentation.
    (mods whose paths are under local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:275957:0 — Banned/concept-expansion term mentioned in documentation.
    # Tools layer - MCP tool implementations that consume LensWorld + enforcement
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:275982:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder (active playset mods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:275993:0 — Banned/concept-expansion term mentioned in documentation.
    The sandbox does NOT need database access (PlaysetLens/DBQueries).
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:275998:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder: Path to Paradox mod folder (readable, writable with contract)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276042:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276046:0 — Banned/concept-expansion term mentioned in documentation.
    # Session info for LensWorld resolution
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276069:0 — Banned/concept-expansion term mentioned in documentation.
    Sandboxed I/O interceptor that delegates to LensWorld + enforcement.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276072:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorld for visibility (can I see this path?)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276102:0 — Banned/concept-expansion term mentioned in documentation.
    raise FileNotFoundError(f"[Sandbox] Path not visible in LensWorld: {path}")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276139:0 — Banned/concept-expansion term mentioned in documentation.
    """Intercepted open() that checks LensWorld + enforcement."""
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276163:0 — Banned/concept-expansion term mentioned in documentation.
    return False  # Not in LensWorld = doesn't exist
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276213:0 — Banned/concept-expansion term mentioned in documentation.
    All file operations are routed through LensWorld + enforcement.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:276217:0 — Banned/concept-expansion term mentioned in documentation.
    session: Active Session for LensWorld resolution
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:277692:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=session.local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279343:0 — Banned/concept-expansion term mentioned in documentation.
    - Session contains: playset info, db_path, local_mods_folder, mods[]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279349:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is a path - mods under it are potentially editable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279354:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (just use mods[].cvid)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279355:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods[] / editable_mods[] (derive from mods[] + local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279357:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable / can_write / can_edit (permission oracles)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279433:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder: Path to folder where editable mods live
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279439:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path = field(default_factory=lambda: DEFAULT_CK3_MOD_DIR)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279483:0 — Banned/concept-expansion term mentioned in documentation.
    # Default CK3 mod directory (this is local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279633:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279634:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = _expand_path(data["local_mods_folder"])
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279653:0 — Banned/concept-expansion term mentioned in documentation.
    # Fallback: construct from local_mods_folder + folder name
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279655:0 — Banned/concept-expansion term mentioned in documentation.
    path = session.local_mods_folder / folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279672:0 — Banned/concept-expansion term mentioned in documentation.
    if "local_mods_folder" in data and data["local_mods_folder"]:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279673:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = _expand_path(data["local_mods_folder"])
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279690:0 — Banned/concept-expansion term mentioned in documentation.
    path = _expand_path(m["path"]) if "path" in m else session.local_mods_folder / m["mod_id"]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279772:0 — Banned/concept-expansion term mentioned in documentation.
    - WorldAdapter.db_handle() -> DbHandle (carries capability + visible_cvids)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279783:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (class)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279789:0 — Banned/concept-expansion term mentioned in documentation.
    - db_visibility() method (replaced by db_handle())
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279844:0 — Banned/concept-expansion term mentioned in documentation.
    - visible_cvids: Frozenset of content_version_ids for queries.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279854:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids: Optional[FrozenSet[int]]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279862:0 — Banned/concept-expansion term mentioned in documentation.
    return self.visible_cvids is None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279874:0 — Banned/concept-expansion term mentioned in documentation.
    # These call _*_internal methods on DBQueries which require visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279881:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279888:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279895:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279902:0 — Banned/concept-expansion term mentioned in documentation.
    relpath, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279909:0 — Banned/concept-expansion term mentioned in documentation.
    name, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279916:0 — Banned/concept-expansion term mentioned in documentation.
    file_id, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279923:0 — Banned/concept-expansion term mentioned in documentation.
    symbol_name, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279930:0 — Banned/concept-expansion term mentioned in documentation.
    query, symbol_type, visible_cvids=self.visible_cvids
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279937:0 — Banned/concept-expansion term mentioned in documentation.
    query, visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:279944:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self.visible_cvids, **kwargs
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280259:0 — Banned/concept-expansion term mentioned in documentation.
    This replaces the previous LensWorldAdapter, DevWorldAdapter, and
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280279:0 — Banned/concept-expansion term mentioned in documentation.
    BANNED (December 2025): LensWorldAdapter, DevWorldAdapter, UninitiatedWorldAdapter
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280290:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280304:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (ck3lens)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280324:0 — Banned/concept-expansion term mentioned in documentation.
    self._init_lens_mode(mods, local_mods_folder, utility_roots, wip_root)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280338:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280344:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280355:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids: Optional[FrozenSet[int]] = frozenset(
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280359:0 — Banned/concept-expansion term mentioned in documentation.
    if not self._visible_cvids:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280360:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # Treat empty as unrestricted
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280379:0 — Banned/concept-expansion term mentioned in documentation.
    if local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280382:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path.resolve().relative_to(local_mods_folder.resolve())
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280391:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280394:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED DB access
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280412:0 — Banned/concept-expansion term mentioned in documentation.
    self._local_mods_folder = None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280415:0 — Banned/concept-expansion term mentioned in documentation.
    self._visible_cvids = None  # UNRESTRICTED during init
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280444:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=self._visible_cvids,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280754:0 — Banned/concept-expansion term mentioned in documentation.
    if self._local_mods_folder:
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280756:0 — Banned/concept-expansion term mentioned in documentation.
    mod_path.resolve().relative_to(self._local_mods_folder.resolve())
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280855:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280870:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (for ck3lens)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280886:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280898:0 — Banned/concept-expansion term mentioned in documentation.
    # - LensWorldAdapter (use WorldAdapter(mode="ck3lens", ...))
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280932:0 — Banned/concept-expansion term mentioned in documentation.
    - is_writable checks (enforcement.py decides)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280936:0 — Banned/concept-expansion term mentioned in documentation.
    - PlaysetLens (class - use mods[] instead)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280938:0 — Banned/concept-expansion term mentioned in documentation.
    - LensWorldAdapter, DevWorldAdapter, UninitiatedWorldAdapter (use single WorldAdapter)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:280973:0 — Banned/concept-expansion term mentioned in documentation.
    instead of separate LensWorldAdapter/DevWorldAdapter classes.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281000:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281009:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder (for ck3lens write enforcement)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281038:0 — Banned/concept-expansion term mentioned in documentation.
    adapter = self._build_lens_adapter(db, local_mods_folder, mods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281051:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path],
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281094:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281206:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Optional[Path] = None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281217:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder: Path to local mods folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281226:0 — Banned/concept-expansion term mentioned in documentation.
    world = get_world(db=db, mods=session.mods, local_mods_folder=session.local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281232:0 — Banned/concept-expansion term mentioned in documentation.
    # For writes, call enforcement.py - do NOT check result.is_writable
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:281237:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:283166:0 — Banned/concept-expansion term mentioned in documentation.
    Expected: Shows mods configured in your playset's `local_mods` section
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:283227:0 — Banned/concept-expansion term mentioned in documentation.
    & "C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe" -c "from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:283265:0 — Banned/concept-expansion term mentioned in documentation.
    | `ck3_list_live_mods` | ✅ Works |
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284004:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284023:0 — Banned/concept-expansion term mentioned in documentation.
    files = self._search_files_internal(file_search_pattern, visible_cvids=visible_cvids, source_filter=source_filter, limit=limit)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284388:0 — Banned/concept-expansion term mentioned in documentation.
    2. Add a `local_mods` section with your mod paths
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284411:0 — Banned/concept-expansion term mentioned in documentation.
    - Mod file operations (writes sandboxed to local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284417:0 — Banned/concept-expansion term mentioned in documentation.
    - Writes only allowed to mods under local_mods_folder
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284613:0 — Banned/concept-expansion term mentioned in documentation.
    # BANNED: _get_lens, _get_cvids, _derive_search_cvids, db_visibility (December 2025 purge)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284663:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder=session.local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284767:0 — Banned/concept-expansion term mentioned in documentation.
    # Get local_mods_folder path (editability is DERIVED from path containment)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284768:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder_raw = data.get("local_mods_folder", "")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284769:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = Path(local_mods_folder_raw).expanduser() if local_mods_folder_raw else None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284771:0 — Banned/concept-expansion term mentioned in documentation.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284772:0 — Banned/concept-expansion term mentioned in documentation.
    # based on path containment under local_mods_folder. No pre-computed permission lists.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:284786:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(local_mods_folder) if local_mods_folder else None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:285005:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder is the folder boundary for editable mods
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:285006:0 — Banned/concept-expansion term mentioned in documentation.
    - "mods under local_mods_folder" are derived at runtime, not stored
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:285050:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(_session.local_mods_folder) if _session.local_mods_folder else None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:285915:0 — Banned/concept-expansion term mentioned in documentation.
    # No db_visibility() or visible_cvids - derive inline from mods[]
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:285927:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:286128:0 — Banned/concept-expansion term mentioned in documentation.
    - Mod name → Mod from active playset (writable if under local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:286608:0 — Banned/concept-expansion term mentioned in documentation.
    # Add a mod to the active playset's local_mods array
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:286705:0 — Banned/concept-expansion term mentioned in documentation.
    # Add to mods[] (THE list, not a separate local_mods array)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287202:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods_folder = playset_data.get("local_mods_folder", "")
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287203:0 — Banned/concept-expansion term mentioned in documentation.
    mismatch = detect_path_mismatch(local_mods_folder)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287219:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": local_mods_folder,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287354:0 — Banned/concept-expansion term mentioned in documentation.
    # BANNED: canonical_domains, semantic domains (active_local_mods, etc.)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287847:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Dry run - script would be executed in LensWorld sandbox",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:287875:0 — Banned/concept-expansion term mentioned in documentation.
    "reason": "Executed in LensWorld sandbox",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:288382:0 — Banned/concept-expansion term mentioned in documentation.
    visible_cvids=cvids if cvids else None
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:288669:0 — Banned/concept-expansion term mentioned in documentation.
    # It used deprecated db_visibility() and visible_cvids concepts.
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289069:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": session_info.get("local_mods_folder"),
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289114:0 — Banned/concept-expansion term mentioned in documentation.
    "mods[] under local_mods_folder",  # Enforcement decides at execution time
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289118:0 — Banned/concept-expansion term mentioned in documentation.
    "mods[] under local_mods_folder",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289121:0 — Banned/concept-expansion term mentioned in documentation.
    "write to mods[] NOT under local_mods_folder",
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289302:0 — Banned/concept-expansion term mentioned in documentation.
    - local_mods_folder (for editable mods)
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289323:0 — Banned/concept-expansion term mentioned in documentation.
    "local_mods_folder": str(session.local_mods_folder) if session.local_mods_folder else None,
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289818:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = Path.home() / "Documents/Paradox Interactive/Crusader Kings III/mod"
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289828:0 — Banned/concept-expansion term mentioned in documentation.
    session.local_mods_folder = None  # Not used in dev mode
DOC-WARN DOC-TERM exports/ck3raven_export_jan19.md:289916:0 — Banned/concept-expansion term mentioned in documentation.
    assert mock_session_ck3lens.local_mods_folder is not None
DOC-WARN DOC-TERM playsets/README.md:13:0 — Banned/concept-expansion term mentioned in documentation.
    from whether a mod's path is under `local_mods_folder`.
DOC-WARN DOC-TERM playsets/README.md:145:0 — Banned/concept-expansion term mentioned in documentation.
    - Path under `local_mods_folder` → enforcement allows writes
DOC-WARN DOC-TERM playsets/README.md:149:0 — Banned/concept-expansion term mentioned in documentation.
    There is no `live_mods[]`, `editable_mods[]`, or any permission list in playsets.
WARN UNUSED-01 qbuilder/api.py:349:0 [wait_for_completion] — Top-level function 'wait_for_completion' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:387:0 [is_build_running] — Top-level function 'is_build_running' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:455:0 [check_playset_build_status] — Top-level function 'check_playset_build_status' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:550:0 [start_background_build] — Top-level function 'start_background_build' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:620:0 [refresh_file] — Top-level function 'refresh_file' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:632:0 [mark_file_deleted] — Top-level function 'mark_file_deleted' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:645:0 [check_and_recover] — Top-level function 'check_and_recover' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/api.py:720:0 [get_health_status] — Top-level function 'get_health_status' appears unused (no repo references found).
WARN SUSPECT_COMMENT qbuilder/discovery.py:52:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Minimal fallback
WARN UNUSED-01 qbuilder/enqueue.py:17:0 [enqueue_all_files] — Top-level function 'enqueue_all_files' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/enqueue.py:115:0 [clear_queue] — Top-level function 'clear_queue' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/enqueue.py:122:0 [get_queue_summary] — Top-level function 'get_queue_summary' appears unused (no repo references found).
WARN SUSPECT_COMMENT qbuilder/ipc_server.py:117:16 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: try to get path from main conn (may not work)
WARN UNUSED-01 qbuilder/ipc_server.py:427:0 [get_ipc_address] — Top-level function 'get_ipc_address' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/logging.py:280:0 [summarize_run] — Top-level function 'summarize_run' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/lookup_extractors.py:46:0 [NameRecord] — Top-level class 'NameRecord' appears unused (no repo references found).
WARN SUSPECT_COMMENT qbuilder/routing.py:70:8 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Empty match = fallback rule (matches everything)
WARN UNUSED-01 qbuilder/routing.py:172:0 [reload_router] — Top-level function 'reload_router' appears unused (no repo references found).
WARN UNUSED-01 qbuilder/schema.py:207:0 [get_root_path_for_cvid] — Top-level function 'get_root_path_for_cvid' appears unused (no repo references found).
WARN SUSPECT_COMMENT qbuilder/worker.py:75:8 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback to latin-1 which accepts any byte sequence
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:195:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    return False
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:196:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    else:
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:197:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    os.kill(info.pid, 0)  # Signal 0 just checks if process exists
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:198:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    return True
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:199:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    except (OSError, PermissionError):
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:200:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    return False
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:201:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:202:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    @property
WARN SUSPECT_EXCEPTION qbuilder/writer_lock.py:203:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    def is_acquired(self) -> bool:
WARN UNUSED-01 qbuilder/writer_lock.py:221:0 [check_writer_lock] — Top-level function 'check_writer_lock' appears unused (no repo references found).
WARN UNUSED-01 scripts/guards/code_diff_guard.py:172:0 [get_domain_for_path] — Top-level function 'get_domain_for_path' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:18:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:18:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:19:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:19:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:20:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    PLAYSETS_DIR = Path(__file__).parent.parent / "playsets"
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:20:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    PLAYSETS_DIR = Path(__file__).parent.parent / "playsets"
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:21:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    STEAM_WORKSHOP = Path("C:/Program Files (x86)/Steam/steamapps/workshop/content/1158310")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:21:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    STEAM_WORKSHOP = Path("C:/Program Files (x86)/Steam/steamapps/workshop/content/1158310")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:22:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:22:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    LOCAL_MODS = Path.home() / "Documents" / "Paradox Interactive" / "Crusader Kings III" / "mod"
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:23:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:23:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:24:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:24:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:25:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def convert_launcher_to_playset(launcher_data: dict[str, Any]) -> dict[str, Any]:
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:25:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def convert_launcher_to_playset(launcher_data: dict[str, Any]) -> dict[str, Any]:
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:26:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:26:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:47:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "enabled": True
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:47:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "enabled": True
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:48:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    },
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:48:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    },
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:49:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:49:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:50:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "mods": [],
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:50:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "mods": [],
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:51:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "local_mods": [],
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:51:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "local_mods": [],
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:52:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:52:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:53:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "agent_briefing": {
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:53:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "agent_briefing": {
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:54:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "context": "",
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:54:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "context": "",
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:55:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "error_analysis_notes": [
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:55:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "error_analysis_notes": [
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:100:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_entry["path"] = str(STEAM_WORKSHOP / str(steam_id))
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:100:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_entry["path"] = str(STEAM_WORKSHOP / str(steam_id))
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:101:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    elif mod.get("path"):
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:101:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    elif mod.get("path"):
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:102:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_entry["path"] = mod["path"]
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:102:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_entry["path"] = mod["path"]
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:103:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    else:
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:103:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    else:
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_entry["path"] = str(LOCAL_MODS / mod_entry["name"])
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:106:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Detect compatch mods by name
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:106:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Detect compatch mods by name
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:107:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    name_lower = mod_entry["name"].lower()
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:107:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    name_lower = mod_entry["name"].lower()
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:108:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if any(x in name_lower for x in ["compatch", "compatibility", "patch", "fix"]):
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:108:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if any(x in name_lower for x in ["compatch", "compatibility", "patch", "fix"]):
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:155:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print(f"  Output: {output_path}")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:155:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print(f"  Output: {output_path}")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:156:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print()
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:156:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print()
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:157:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print("Next steps:")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:157:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print("Next steps:")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:158:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print("  1. Edit the playset and fill in agent_briefing notes")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:158:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print("  1. Edit the playset and fill in agent_briefing notes")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:159:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print("  2. Add local_mods entries for mods the agent can edit")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:159:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print("  2. Add local_mods entries for mods the agent can edit")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:160:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print("  3. Set is_compatch=true for compatibility patch mods")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:160:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print("  3. Set is_compatch=true for compatibility patch mods")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:161:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    print("  4. Add mod_relationships for expected conflicts")
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:161:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    print("  4. Add mod_relationships for expected conflicts")
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:162:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:162:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE scripts/launcher_to_playset.py:163:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR scripts/launcher_to_playset.py:163:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMMENT scripts/temp_write.py:793:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback to explicit path
WARN UNUSED-01 src/ck3raven/analyzers/crash_parser.py:296:0 [get_crash_summary] — Top-level function 'get_crash_summary' appears unused (no repo references found).
WARN SUSPECT_COMMENT src/ck3raven/analyzers/error_parser.py:245:8 — XXX marker detected. (keyword: 'xxx')
    # Pattern 4: mod/ugc_XXXXX.mod
WARN UNUSED-01 src/ck3raven/analyzers/error_parser.py:705:0 [get_errors_summary] — Top-level function 'get_errors_summary' appears unused (no repo references found).
WARN SUSPECT_COMMENT src/ck3raven/analyzers/log_parser.py:211:8 — XXX marker detected. (keyword: 'xxx')
    # Pattern 3: at common/xxx/file.txt line : 123 (note space before colon)
WARN UNUSED-01 src/ck3raven/analyzers/log_parser.py:563:0 [parse_all_logs] — Top-level function 'parse_all_logs' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/analyzers/log_parser.py:576:0 [get_game_log_errors] — Top-level function 'get_game_log_errors' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/analyzers/log_parser.py:588:0 [get_system_info] — Top-level function 'get_system_info' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/ast_cache.py:254:0 [parse_file_cached] — Top-level function 'parse_file_cached' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/ast_cache.py:296:0 [get_ast_stats] — Top-level function 'get_ast_stats' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/ast_cache.py:320:0 [clear_ast_cache_for_parser] — Top-level function 'clear_ast_cache_for_parser' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cleanup.py:29:0 [find_orphaned_content_hashes] — Top-level function 'find_orphaned_content_hashes' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cleanup.py:242:0 [get_cleanup_stats] — Top-level function 'get_cleanup_stats' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:165:0 [store_file_content] — Top-level function 'store_file_content' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:213:0 [get_file_content] — Top-level function 'get_file_content' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:225:0 [store_file_record] — Top-level function 'store_file_record' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:249:0 [get_file_record] — Top-level function 'get_file_record' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:267:0 [list_files_in_version] — Top-level function 'list_files_in_version' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:289:0 [get_stored_manifest] — Top-level function 'get_stored_manifest' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:307:0 [find_content_version_by_hash] — Top-level function 'find_content_version_by_hash' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/content.py:322:0 [create_content_version] — Top-level function 'create_content_version' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:93:0 [list_snapshots] — Top-level function 'list_snapshots' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:102:0 [add_content_to_snapshot] — Top-level function 'add_content_to_snapshot' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:128:0 [delete_snapshot] — Top-level function 'delete_snapshot' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:147:0 [export_snapshot_to_file] — Top-level function 'export_snapshot_to_file' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:324:0 [import_snapshot_from_file] — Top-level function 'import_snapshot_from_file' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/cryo.py:401:0 [get_snapshot_stats] — Top-level function 'get_snapshot_stats' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:242:0 [should_process_with_script_parser] — Top-level function 'should_process_with_script_parser' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:248:0 [should_process_with_loc_parser] — Top-level function 'should_process_with_loc_parser' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:254:0 [is_lookup_data] — Top-level function 'is_lookup_data' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:260:0 [should_skip] — Top-level function 'should_skip' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:298:0 [get_localization_file_filter_sql] — Top-level function 'get_localization_file_filter_sql' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/file_routes.py:314:0 [categorize_files] — Top-level function 'categorize_files' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/lookups.py:100:0 [get_ast_block] — Top-level function 'get_ast_block' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/lookups.py:342:0 [extract_all_lookups] — Top-level function 'extract_all_lookups' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/models.py:21:0 [VanillaVersion] — Top-level class 'VanillaVersion' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/models.py:50:0 [ModPackage] — Top-level class 'ModPackage' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/models.py:343:0 [ExemplarMod] — Top-level class 'ExemplarMod' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/parser_version.py:116:0 [list_parser_versions] — Top-level function 'list_parser_versions' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/parser_version.py:125:0 [is_parser_version_current] — Top-level function 'is_parser_version_current' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/parser_version.py:134:0 [invalidate_ast_cache_for_old_parsers] — Top-level function 'invalidate_ast_cache_for_old_parsers' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/parser_version.py:154:0 [register_new_parser_version] — Top-level function 'register_new_parser_version' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/parser_version.py:181:0 [get_parser_info] — Top-level function 'get_parser_info' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:51:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:51:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:52:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    -- Mod package identities (e.g., Steam Workshop ID)
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:52:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    -- Mod package identities (e.g., Steam Workshop ID)
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:53:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CREATE TABLE IF NOT EXISTS mod_packages (
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:53:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CREATE TABLE IF NOT EXISTS mod_packages (
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:54:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_package_id INTEGER PRIMARY KEY AUTOINCREMENT,
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:54:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_package_id INTEGER PRIMARY KEY AUTOINCREMENT,
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:55:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    workshop_id TEXT,                        -- Steam Workshop ID (can be NULL for local mods)
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:55:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    workshop_id TEXT,                        -- Steam Workshop ID (can be NULL for local mods)
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:56:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    name TEXT NOT NULL,
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:56:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    name TEXT NOT NULL,
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:57:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    source_path TEXT,                        -- Original filesystem path
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:57:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    source_path TEXT,                        -- Original filesystem path
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:58:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    source_url TEXT,                         -- Workshop URL or other source
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:58:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    source_url TEXT,                         -- Workshop URL or other source
WARN SUSPECT_COMPOSITE src/ck3raven/db/schema.py:59:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    notes TEXT,
WARN SUSPECT_NEAR src/ck3raven/db/schema.py:59:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    notes TEXT,
WARN UNUSED-01 src/ck3raven/db/schema.py:937:0 [has_active_builder_session] — Top-level function 'has_active_builder_session' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/schema.py:946:0 [cleanup_expired_sessions] — Top-level function 'cleanup_expired_sessions' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/search.py:289:0 [search_all] — Top-level function 'search_all' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/search.py:326:0 [find_definition] — Top-level function 'find_definition' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/search.py:373:0 [find_references] — Top-level function 'find_references' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/search.py:420:0 [get_search_stats] — Top-level function 'get_search_stats' appears unused (no repo references found).
WARN SUSPECT_COMMENT src/ck3raven/db/symbols.py:385:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: try to infer from path structure
WARN SUSPECT_COMMENT src/ck3raven/db/symbols.py:393:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Generic fallback
WARN SUSPECT_COMMENT src/ck3raven/db/symbols.py:474:20 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: use content_hash as placeholder
WARN SUSPECT_COMMENT src/ck3raven/db/symbols.py:525:20 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: use content_hash as placeholder
WARN UNUSED-01 src/ck3raven/db/symbols.py:692:0 [extract_and_store] — Top-level function 'extract_and_store' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:717:0 [find_symbol_by_name] — Top-level function 'find_symbol_by_name' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:735:0 [find_symbols_fts] — Top-level function 'find_symbols_fts' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:751:0 [find_refs_to_symbol] — Top-level function 'find_refs_to_symbol' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:769:0 [find_refs_fts] — Top-level function 'find_refs_fts' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:785:0 [get_symbol_stats] — Top-level function 'get_symbol_stats' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:810:0 [find_unused_symbols] — Top-level function 'find_unused_symbols' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:835:0 [find_undefined_refs] — Top-level function 'find_undefined_refs' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:864:0 [extract_symbols_incremental] — Top-level function 'extract_symbols_incremental' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/symbols.py:1046:0 [extract_refs_incremental] — Top-level function 'extract_refs_incremental' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:125:0 [get_files_needing_ingest] — Top-level function 'get_files_needing_ingest' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:176:0 [get_content_versions_to_check] — Top-level function 'get_content_versions_to_check' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:209:0 [get_files_needing_ast] — Top-level function 'get_files_needing_ast' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:260:0 [get_files_with_failed_ast] — Top-level function 'get_files_with_failed_ast' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:338:0 [get_asts_needing_symbols] — Top-level function 'get_asts_needing_symbols' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:427:0 [get_loc_files_needing_parse] — Top-level function 'get_loc_files_needing_parse' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:569:0 [get_slow_parses] — Top-level function 'get_slow_parses' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:668:0 [should_full_rebuild] — Top-level function 'should_full_rebuild' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/db/work_detection.py:747:0 [get_recommended_actions] — Top-level function 'get_recommended_actions' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/emulator/builder.py:191:0 [build_game_state] — Top-level function 'build_game_state' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/emulator/builder.py:254:0 [build_folder_state] — Top-level function 'build_folder_state' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/emulator/exporter.py:36:0 [GameStateExporter] — Top-level class 'GameStateExporter' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/parser/lexer.py:455:0 [tokenize_file] — Top-level function 'tokenize_file' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/parser/localization.py:140:0 [parse_localization_entries] — Top-level function 'parse_localization_entries' appears unused (no repo references found).
WARN SUSPECT_COMMENT src/ck3raven/parser/parser.py:900:43 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    rbrace_end_offset = lbrace_offset  # fallback
WARN UNUSED-01 src/ck3raven/parser/parser.py:947:0 [parse_source_recovering] — Top-level function 'parse_source_recovering' appears unused (no repo references found).
WARN SUSPECT_COMMENT src/ck3raven/resolver/__init__.py:43:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Legacy file-based resolver (DEPRECATED - for tests only)
WARN SUSPECT_COMMENT src/ck3raven/resolver/__init__.py:83:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Legacy file-based (DEPRECATED)
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:67:0 [ContributionUnit] — Top-level class 'ContributionUnit' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:118:0 [ConflictUnit] — Top-level class 'ConflictUnit' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:172:0 [ResolutionChoice] — Top-level class 'ResolutionChoice' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:306:0 [get_domain_from_path] — Top-level function 'get_domain_from_path' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:364:0 [make_unit_key] — Top-level function 'make_unit_key' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:387:0 [get_merge_behavior] — Top-level function 'get_merge_behavior' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:444:0 [compute_risk_score] — Top-level function 'compute_risk_score' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:501:0 [compute_uncertainty] — Top-level function 'compute_uncertainty' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:527:0 [get_merge_capability] — Top-level function 'get_merge_capability' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/contributions.py:633:0 [init_contribution_schema] — Top-level function 'init_contribution_schema' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:38:0 [RiskBucket] — Top-level class 'RiskBucket' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:44:0 [UncertaintyBucket] — Top-level class 'UncertaintyBucket' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:51:0 [SeparabilityClass] — Top-level class 'SeparabilityClass' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:57:0 [MergeSemantics] — Top-level class 'MergeSemantics' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:316:0 [UnknownRef] — Top-level class 'UnknownRef' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:1178:0 [generate_conflicts_report] — Top-level function 'generate_conflicts_report' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:1188:0 [report_to_json] — Top-level function 'report_to_json' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/report.py:1194:0 [report_summary_cli] — Top-level function 'report_summary_cli' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/resolver/resolver.py:458:0 [Resolver] — Top-level class 'Resolver' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/tools/diff.py:346:0 [diff_files] — Top-level function 'diff_files' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/tools/format.py:28:0 [FormatStyle] — Top-level class 'FormatStyle' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/tools/format.py:199:0 [format_file] — Top-level function 'format_file' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/tools/lint.py:394:0 [lint_file] — Top-level function 'lint_file' appears unused (no repo references found).
WARN UNUSED-01 src/ck3raven/tools/merge.py:59:0 [MergeResult] — Top-level class 'MergeResult' appears unused (no repo references found).
WARN UNUSED-01 tests/conftest.py:67:0 [extract_block_keys] — Top-level function 'extract_block_keys' appears unused (no repo references found).
WARN UNUSED-01 tests/conftest.py:77:0 [get_block_by_name] — Top-level function 'get_block_by_name' appears unused (no repo references found).
WARN UNUSED-01 tests/test_builder_daemon.py:30:0 [TestBuilderDaemon] — Top-level class 'TestBuilderDaemon' appears unused (no repo references found).
WARN UNUSED-01 tests/test_builder_daemon.py:326:0 [TestSchemaChanges] — Top-level class 'TestSchemaChanges' appears unused (no repo references found).
WARN UNUSED-01 tests/test_content_types.py:16:0 [TestContentTypeRegistry] — Top-level class 'TestContentTypeRegistry' appears unused (no repo references found).
WARN UNUSED-01 tests/test_content_types.py:50:0 [TestPolicyLookup] — Top-level class 'TestPolicyLookup' appears unused (no repo references found).
WARN UNUSED-01 tests/test_content_types.py:89:0 [TestContentTypeForPath] — Top-level class 'TestContentTypeForPath' appears unused (no repo references found).
WARN UNUSED-01 tests/test_content_types.py:117:0 [TestMergePolicyEnum] — Top-level class 'TestMergePolicyEnum' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:20:0 [TestOperationTypes] — Top-level class 'TestOperationTypes' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:60:0 [TestBranchProtection] — Top-level class 'TestBranchProtection' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:102:0 [TestEnforcementRequest] — Top-level class 'TestEnforcementRequest' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:142:0 [TestModeHardGates] — Top-level class 'TestModeHardGates' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:180:0 [TestReadOperations] — Top-level class 'TestReadOperations' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:201:0 [TestContractRequirement] — Top-level class 'TestContractRequirement' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:225:0 [TestAuditLogging] — Top-level class 'TestAuditLogging' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:282:0 [TestCk3FileEnforcement] — Top-level class 'TestCk3FileEnforcement' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:319:0 [TestCk3GitEnforcement] — Top-level class 'TestCk3GitEnforcement' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:362:0 [TestCk3ExecAuditLogging] — Top-level class 'TestCk3ExecAuditLogging' appears unused (no repo references found).
WARN UNUSED-01 tests/test_enforcement.py:386:0 [TestEnforcementDecisionMappings] — Top-level class 'TestEnforcementDecisionMappings' appears unused (no repo references found).
WARN UNUSED-01 tests/test_parser.py:9:0 [TestBasicParsing] — Top-level class 'TestBasicParsing' appears unused (no repo references found).
WARN UNUSED-01 tests/test_parser.py:77:0 [TestTraditionParsing] — Top-level class 'TestTraditionParsing' appears unused (no repo references found).
WARN UNUSED-01 tests/test_parser.py:114:0 [TestOperators] — Top-level class 'TestOperators' appears unused (no repo references found).
WARN UNUSED-01 tests/test_parser.py:137:0 [TestScriptedValues] — Top-level class 'TestScriptedValues' appears unused (no repo references found).
WARN UNUSED-01 tests/test_parser.py:154:0 [TestSerialization] — Top-level class 'TestSerialization' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver.py:14:0 [TestMergePolicy] — Top-level class 'TestMergePolicy' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver.py:48:0 [TestContentTypeConfig] — Top-level class 'TestContentTypeConfig' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:19:0 [get_block_by_name] — Top-level function 'get_block_by_name' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:153:0 [TestContainerMergePolicy] — Top-level class 'TestContainerMergePolicy' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:162:0 [TestContainerMergeAppendLists] — Top-level class 'TestContainerMergeAppendLists' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:212:0 [TestContainerMergeSingleSlot] — Top-level class 'TestContainerMergeSingleSlot' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:256:0 [TestContainerMergeSourceTracking] — Top-level class 'TestContainerMergeSourceTracking' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_container_merge.py:286:0 [TestContainerMergeTotalCounts] — Top-level class 'TestContainerMergeTotalCounts' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:19:0 [extract_block_keys] — Top-level function 'extract_block_keys' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:29:0 [get_block_by_name] — Top-level function 'get_block_by_name' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:112:0 [TestOverridePolicy] — Top-level class 'TestOverridePolicy' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:136:0 [TestOverrideResolution] — Top-level class 'TestOverrideResolution' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:202:0 [TestOverrideBlockContent] — Top-level class 'TestOverrideBlockContent' appears unused (no repo references found).
WARN UNUSED-01 tests/test_resolver_override.py:241:0 [TestOverrideLoadOrder] — Top-level class 'TestOverrideLoadOrder' appears unused (no repo references found).
DOC-WARN DOC-TERM tools/arch_lint/README.md:36:0 — Banned/concept-expansion term mentioned in documentation.
    9. **Oracle Pattern Detection** — AST-based detection of `can_write`, `is_allowed`, etc.
DOC-WARN DOC-TERM tools/arch_lint/README.md:38:0 — Banned/concept-expansion term mentioned in documentation.
    11. **Concept Explosion** — Flags `Lens*`, `PlaysetLens`, `ScopeWorld` nouns
DOC-WARN DOC-TERM tools/arch_lint/README.md:95:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE discovery.py:45:5 — Oracle: can_write pattern
DOC-WARN DOC-TERM tools/arch_lint/README.md:96:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM tools/arch_lint/README.md:118:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern",
DOC-WARN DOC-TERM tools/arch_lint/README.md:119:0 — Banned/concept-expansion term mentioned in documentation.
    "evidence": "if can_write(path):",
DOC-WARN DOC-TERM tools/arch_lint/README.md:163:0 — Banned/concept-expansion term mentioned in documentation.
    ERROR BANNED_ORACLE src/foo.py:12:4 — Oracle: can_write pattern
DOC-WARN DOC-TERM tools/arch_lint/README.md:164:0 — Banned/concept-expansion term mentioned in documentation.
    if can_write(path):
DOC-WARN DOC-TERM tools/arch_lint/README.md:213:0 — Banned/concept-expansion term mentioned in documentation.
    "message": "Oracle: can_write pattern"
DOC-WARN DOC-TERM tools/arch_lint/README.md:259:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_ORACLE` | Oracle-style term (`can_write`, `is_allowed`, etc.) | Route through `enforcement.py` |
DOC-WARN DOC-TERM tools/arch_lint/README.md:260:0 — Banned/concept-expansion term mentioned in documentation.
    | `BANNED_PARALLEL` | Parallel authority structure (`local_mods`, `editable_mods`) | Use `mods[]` only |
DOC-WARN DOC-TERM tools/arch_lint/README.md:269:0 — Banned/concept-expansion term mentioned in documentation.
    | `CONCEPT-03` | Lens concept explosion (`PlaysetLens`, `ScopeWorld`) | Use canonical naming |
DOC-WARN DOC-TERM tools/arch_lint/README.md:292:0 — Banned/concept-expansion term mentioned in documentation.
    mod_roots, is_writable, is_editable, is_allowed, is_path_allowed,
DOC-WARN DOC-TERM tools/arch_lint/README.md:295:0 — Banned/concept-expansion term mentioned in documentation.
    _validate_visibility, _build_cv_filter, _derive_cvid, visible_cvids,
DOC-WARN DOC-TERM tools/arch_lint/README.md:304:0 — Banned/concept-expansion term mentioned in documentation.
    can_write, can_edit, can_delete, may_write, may_edit, may_delete,
DOC-WARN DOC-TERM tools/arch_lint/README.md:305:0 — Banned/concept-expansion term mentioned in documentation.
    is_writable, is_editable, is_deletable
DOC-WARN DOC-TERM tools/arch_lint/README.md:313:0 — Banned/concept-expansion term mentioned in documentation.
    local_mods, editable_mods, writable_mods, live_mods, list_live_mods,
DOC-WARN DOC-TERM tools/arch_lint/README.md:416:0 — Banned/concept-expansion term mentioned in documentation.
    3. **mods[] is THE mod list** — No parallel lists like `local_mods[]`
INFO CONCEPT-01 tools/arch_lint/patterns.py:69:0 [BANNED_LENS_CONCEPTS] — Concept explosion: Lens-like noun 'BANNED_LENS_CONCEPTS' overlaps Session/WorldAdapter/handles.
    BANNED_LENS_CONCEPTS = frozenset({
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
WARN SUSPECT_COMMENT tools/arch_lint/patterns.py:92:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Legacy/drift markers
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:136:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # =============================================================================
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:136:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # =============================================================================
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:168:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:168:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:168:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:168:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:168:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:168:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "local%mods", "Suspicious: local mods (ensure not a parallel truth)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:169:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:169:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:169:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:169:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:169:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:169:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:169:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_COMPOSITE", "workspace%mods", "Suspicious: workspace mods registry"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:170:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:170:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:170:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:170:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:170:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:170:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:170:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:170:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:171:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:171:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:171:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:171:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:171:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:171:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:171:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:171:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_COMMENT tools/arch_lint/patterns.py:171:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Exception/fallback patterns (v2.32)
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:172:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:172:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:172:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:172:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:172:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:172:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:172:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ("WARN", "SUSPECT_EXCEPTION", "except%permission", "Hiding permission errors (Oracle evasion)"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:173:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ("WARN", "SUSPECT_EXCEPTION", "except%access", "Hiding access errors (Oracle evasion)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:173:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_EXCEPTION", "except%access", "Hiding access errors (Oracle evasion)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:173:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ("WARN", "SUSPECT_EXCEPTION", "except%access", "Hiding access errors (Oracle evasion)"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:173:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ("WARN", "SUSPECT_EXCEPTION", "except%access", "Hiding access errors (Oracle evasion)"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:173:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ("WARN", "SUSPECT_EXCEPTION", "except%access", "Hiding access errors (Oracle evasion)"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:174:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_FALLBACK", "else%visibility", "Suspect fallback logic using visibility"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:174:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ("WARN", "SUSPECT_FALLBACK", "else%visibility", "Suspect fallback logic using visibility"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:174:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ("WARN", "SUSPECT_FALLBACK", "else%visibility", "Suspect fallback logic using visibility"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:174:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ("WARN", "SUSPECT_FALLBACK", "else%visibility", "Suspect fallback logic using visibility"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:175:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ("WARN", "SUSPECT_FALLBACK", "else%lens", "Suspect fallback logic using lens"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:175:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ("WARN", "SUSPECT_FALLBACK", "else%lens", "Suspect fallback logic using lens"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:175:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ("WARN", "SUSPECT_FALLBACK", "else%lens", "Suspect fallback logic using lens"),
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:175:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ("WARN", "SUSPECT_FALLBACK", "else%lens", "Suspect fallback logic using lens"),
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:176:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    ]
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:176:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    ]
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:176:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ]
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:176:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ]
WARN SUSPECT_EXCEPTION tools/arch_lint/patterns.py:177:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:177:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_FALLBACK tools/arch_lint/patterns.py:177:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:253:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "world_adapter.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:253:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "world_adapter.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:253:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "world_adapter.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:254:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "paths.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:254:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "paths.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:254:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "paths.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:255:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "path_utils.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:255:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "path_utils.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:255:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "path_utils.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:256:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "workspace.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:256:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "workspace.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:256:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "workspace.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:257:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "local_mods.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:257:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "local_mods.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:257:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "local_mods.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:258:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_scope.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:258:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "playset_scope.py",
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:258:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_scope.py",
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:259:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:259:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ]
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:259:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:260:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:260:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:260:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:261:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Directories allowed to use path APIs
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:261:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Directories allowed to use path APIs
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:431:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # =============================================================================
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:431:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # =============================================================================
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:432:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Raw text substrings that are always allowed
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:432:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Raw text substrings that are always allowed
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:433:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:433:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:434:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    RAW_ALLOWLIST_SUBSTRINGS: list[str] = [
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:434:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    RAW_ALLOWLIST_SUBSTRINGS: list[str] = [
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:437:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ]
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:437:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:438:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:438:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:439:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Token sequences that are allowed
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:439:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Token sequences that are allowed
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:440:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ALLOWLIST_TOKEN_SEQUENCES: list[tuple[str, ...]] = [
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:440:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ALLOWLIST_TOKEN_SEQUENCES: list[tuple[str, ...]] = [
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:441:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ("local", "mods", "folder"),
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:441:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ("local", "mods", "folder"),
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:442:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ]
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:442:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:443:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:443:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:444:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:444:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/patterns.py:445:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # =============================================================================
WARN SUSPECT_NEAR tools/arch_lint/patterns.py:445:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # =============================================================================
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:68:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:68:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
WARN SUSPECT_NEAR tools/arch_lint/rules.py:68:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    re.compile(r"is_.*(writable|editable|allowed|permitted|authorized|mutable|write_ok|writeable)", re.IGNORECASE),
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:69:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:69:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ]
WARN SUSPECT_NEAR tools/arch_lint/rules.py:69:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ]
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:70:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:70:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/rules.py:70:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:71:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    _RX_PARALLEL_TRUTH = re.compile(
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:71:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    _RX_PARALLEL_TRUTH = re.compile(
WARN SUSPECT_NEAR tools/arch_lint/rules.py:71:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    _RX_PARALLEL_TRUTH = re.compile(
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:72:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:72:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
WARN SUSPECT_NEAR tools/arch_lint/rules.py:72:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    r"(editable_mods_list|active_mods|enabled_mods|local_mods|live_mods|"
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:73:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:73:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
WARN SUSPECT_NEAR tools/arch_lint/rules.py:73:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    r"write_mods|allowed_mods|mutable_mods|visible_cvids|db_visibility)",
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:74:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    re.IGNORECASE
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:74:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    re.IGNORECASE
WARN SUSPECT_NEAR tools/arch_lint/rules.py:74:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    re.IGNORECASE
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:75:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    )
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:75:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/arch_lint/rules.py:75:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:76:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:76:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/arch_lint/rules.py:76:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMMENT tools/arch_lint/rules.py:82:0 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback patterns (else/or with banned concepts)
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:87:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    ]
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:87:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    ]
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:88:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:88:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:752:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/arch_lint/rules.py:753:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    # Check definitions
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:864:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    "visible_cvids", "db_visibility",
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:864:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "visible_cvids", "db_visibility",
WARN SUSPECT_NEAR tools/arch_lint/rules.py:864:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "visible_cvids", "db_visibility",
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:865:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    "active_playset_data", "active_playset_file",
WARN SUSPECT_COMPOSITE tools/arch_lint/rules.py:865:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "active_playset_data", "active_playset_file",
WARN SUSPECT_NEAR tools/arch_lint/rules.py:865:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "active_playset_data", "active_playset_file",
WARN SUSPECT_COMMENT tools/arch_lint/runner.py:87:8 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback pattern checks
WARN SUSPECT_EXCEPTION tools/ck3lens-explorer/bridge/server.py:94:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
WARN SUSPECT_EXCEPTION tools/ck3lens-explorer/bridge/server.py:95:1 — Hiding access errors (Oracle evasion) — matched pattern 'except%access'.
    class CK3LensBridge:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:102:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def __init__(self):
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:102:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def __init__(self):
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:103:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.db_path = None
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:103:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.db_path = None
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._db: "DBQueries" = None  # DBQueries instance
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._db: "DBQueries" = None  # DBQueries instance
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._world: "WorldAdapter" = None  # WorldAdapter for visibility
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._world: "WorldAdapter" = None  # WorldAdapter for visibility
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:107:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.initialized = False
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:107:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.initialized = False
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:108:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._playset_name: str = None
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:108:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._playset_name: str = None
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:109:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:109:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:110:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def handle_request(self, request: dict) -> dict:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:110:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def handle_request(self, request: dict) -> dict:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:143:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "confirm_not_exists": self.confirm_not_exists,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:144:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "read_local_file": self.read_local_file,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:145:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "write_file": self.write_file,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:146:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "git_status": self.git_status,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:147:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "get_playset_mods": self.get_playset_mods,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:148:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "get_top_level_folders": self.get_top_level_folders,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:203:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._db = DBQueries(db_path=self.db_path, read_only=True)
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:203:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._db = DBQueries(db_path=self.db_path, read_only=True)
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:204:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:204:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:205:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Get mods from playset_ops (THE source)
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:205:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Get mods from playset_ops (THE source)
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:206:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods = []
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:206:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods = []
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:208:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if IMPL_AVAILABLE:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:208:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if IMPL_AVAILABLE:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:209:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    result = playset_ops.get_playset_mods()
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:209:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    result = playset_ops.get_playset_mods()
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:210:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if result.get("success"):
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:210:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if result.get("success"):
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:211:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._playset_name = result.get("playset_name")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:211:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._playset_name = result.get("playset_name")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:219:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:219:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:219:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:221:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    active = playset_ops.get_active_playset()
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:221:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    active = playset_ops.get_active_playset()
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:221:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    active = playset_ops.get_active_playset()
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:222:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    if active.get("success"):
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:222:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if active.get("success"):
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:222:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if active.get("success"):
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:224:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:224:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:224:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:225:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    # Create WorldAdapter with mods[] for visibility
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:225:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Create WorldAdapter with mods[] for visibility
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:225:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Create WorldAdapter with mods[] for visibility
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:226:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    self._world = WorldAdapter(
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:226:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._world = WorldAdapter(
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:226:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._world = WorldAdapter(
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:227:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode="ck3lens",
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:227:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode="ck3lens",
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:228:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db=self._db,
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:228:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db=self._db,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:229:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=mods if mods else None,
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:229:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=mods if mods else None,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:231:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root=Path("C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game"),
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:231:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root=Path("C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game"),
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:232:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:232:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:233:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:233:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:234:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.initialized = True
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:234:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.initialized = True
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:236:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:236:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:237:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:237:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:238:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "initialized": True,
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:238:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "initialized": True,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:239:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "db_path": str(self.db_path),
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:239:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "db_path": str(self.db_path),
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:241:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_name": self._playset_name,
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:241:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_name": self._playset_name,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:242:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "world_available": True,
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:242:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "world_available": True,
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:243:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "mod_count": len(mods),
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:243:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "mod_count": len(mods),
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:244:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    }
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:244:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    }
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:714:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "sourcePath": mod.get("path", ""),
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:714:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "sourcePath": mod.get("path", ""),
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:715:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "kind": "steam" if mod.get("steam_id") else "local"
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:715:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "kind": "steam" if mod.get("steam_id") else "local"
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:716:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    })
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:716:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    })
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:717:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:717:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:718:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"mods": mods_list}
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:718:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"mods": mods_list}
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:719:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:719:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:780:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Read file from local mod."""
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:780:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Read file from local mod."""
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:781:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:781:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:782:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path = params.get("rel_path", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:782:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path = params.get("rel_path", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:783:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:783:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:787:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:787:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:788:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if not file_path.exists():
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:788:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if not file_path.exists():
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:789:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"exists": False, "content": None}
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:789:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"exists": False, "content": None}
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:790:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:790:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:794:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    except Exception as e:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:794:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    except Exception as e:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:795:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"exists": False, "error": str(e)}
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:795:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"exists": False, "error": str(e)}
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:796:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:796:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:797:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def write_file(self, params: dict) -> dict:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:797:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def write_file(self, params: dict) -> dict:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:798:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Write file to mod - direct filesystem write for local mods."""
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:798:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Write file to mod - direct filesystem write for local mods."""
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:799:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:799:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:800:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path = params.get("rel_path", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:800:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path = params.get("rel_path", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:801:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    content = params.get("content", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:801:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    content = params.get("content", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:802:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:802:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:806:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:806:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:807:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    try:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:807:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    try:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:808:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    file_path.parent.mkdir(parents=True, exist_ok=True)
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:808:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    file_path.parent.mkdir(parents=True, exist_ok=True)
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:809:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    file_path.write_text(content, encoding="utf-8")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:809:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    file_path.write_text(content, encoding="utf-8")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:814:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def git_status(self, params: dict) -> dict:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:814:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def git_status(self, params: dict) -> dict:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:815:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Get git status for a local mod."""
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:815:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Get git status for a local mod."""
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:816:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:816:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_name = params.get("mod_name", "")
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:817:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:817:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:821:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:821:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:822:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if not (mod_path / ".git").exists():
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:822:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if not (mod_path / ".git").exists():
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:823:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"error": "Not a git repository"}
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:823:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"error": "Not a git repository"}
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:824:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:824:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:956:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:956:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:957:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if not source_path or not target_mod:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:957:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if not source_path or not target_mod:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:958:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"success": False, "error": "source_path and target_mod required"}
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:958:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"success": False, "error": "source_path and target_mod required"}
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:959:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:959:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:962:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:962:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:963:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if mode == "override_patch":
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:963:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if mode == "override_patch":
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:964:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path = source_path
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:964:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path = source_path
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:965:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if '/' in rel_path:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:965:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if '/' in rel_path:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:969:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path = f"zzz_{rel_path}"
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:969:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path = f"zzz_{rel_path}"
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:970:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    else:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:970:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    else:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:971:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path = source_path
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:971:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path = source_path
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:972:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:972:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:974:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:974:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:975:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    try:
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:975:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    try:
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:976:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    target_path.parent.mkdir(parents=True, exist_ok=True)
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:976:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    target_path.parent.mkdir(parents=True, exist_ok=True)
WARN SUSPECT_COMPOSITE tools/ck3lens-explorer/bridge/server.py:977:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    content = initial_content or f"# Override patch for {source_path}\n# Created by CK3 Lens\n\n"
WARN SUSPECT_NEAR tools/ck3lens-explorer/bridge/server.py:977:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    content = initial_content or f"# Override patch for {source_path}\n# Created by CK3 Lens\n\n"
DOC-WARN DOC-TERM tools/ck3lens_mcp/README.md:104:0 — Banned/concept-expansion term mentioned in documentation.
    2. Add a `local_mods` section with your mod paths
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:4:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - workspace: Session management and configuration
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:4:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - workspace: Session management and configuration
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:4:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - workspace: Session management and configuration
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:5:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - db_queries: Symbol database access
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:5:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - db_queries: Symbol database access
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:5:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - db_queries: Symbol database access
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - validate: Parse and validate CK3 script
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:6:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - validate: Parse and validate CK3 script
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - validate: Parse and validate CK3 script
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:7:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - semantic: Syntax validation (CK3SyntaxValidator)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:7:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - semantic: Syntax validation (CK3SyntaxValidator)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:7:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - semantic: Syntax validation (CK3SyntaxValidator)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - local_mods: Sandboxed local mod operations (user-configured mods)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:8:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - local_mods: Sandboxed local mod operations (user-configured mods)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - local_mods: Sandboxed local mod operations (user-configured mods)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:9:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - git_ops: Git integration for mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:9:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - git_ops: Git integration for mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:10:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - contracts: Pydantic data models (ArtifactFile, ArtifactBundle)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:10:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - contracts: Pydantic data models (ArtifactFile, ArtifactBundle)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:11:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - trace: Tool call tracing
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:11:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - trace: Tool call tracing
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/__init__.py:12:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/__init__.py:12:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/agent_mode.py:95:0 [clear_agent_mode] — Top-level function 'clear_agent_mode' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/agent_mode.py:108:0 [get_mode_file_path] — Top-level function 'get_mode_file_path' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/agent_mode.py:118:0 [cleanup_stale_mode_files] — Top-level function 'cleanup_stale_mode_files' appears unused (no repo references found).
WARN FALLBACK-01 tools/ck3lens_mcp/ck3lens/db_queries.py:16:0 — Fallback pattern detected - fallbacks often retain banned ideas during refactor.
    - _lens_cache or any caching of visibility
    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/db_queries.py:875:44 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    return terms if terms else [query]  # Fallback to original if parsing fails
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/db_queries.py:1357:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # DEPRECATED: Legacy wrapper methods for gradual migration
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/db_queries.py:1372:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    cvids = visibility.visible_cvids
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1379:52 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._search_symbols_internal(query, visible_cvids=cvids, **kwargs)
    -> Remove/rename to canonical architecture.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1384:52 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._search_files_internal(pattern, visible_cvids=cvids, **kwargs)
    -> Remove/rename to canonical architecture.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1389:52 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._search_content_internal(query, visible_cvids=cvids, **kwargs)
    -> Remove/rename to canonical architecture.
WARN FALLBACK-01 tools/ck3lens_mcp/ck3lens/db_queries.py:1396:0 — Fallback pattern detected - fallbacks often retain banned ideas during refactor.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1396:54 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._get_file_internal(relpath or "", visible_cvids=cvids, file_id=file_id, expand=expand)
    -> Remove/rename to canonical architecture.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1401:69 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._confirm_not_exists_internal(query, symbol_type, visible_cvids=cvids)
    -> Remove/rename to canonical architecture.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1406:52 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._unified_search_internal(query, visible_cvids=cvids, **kwargs)
    -> Remove/rename to canonical architecture.
INFO BANNED_TERM tools/ck3lens_mcp/ck3lens/db_queries.py:1411:51 [visible_cvids] — Banned term 'visible_cvids' used.
    return self._get_symbol_conflicts_internal(visible_cvids=cvids, **kwargs)
    -> Remove/rename to canonical architecture.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:1:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:1:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:2:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Git Operations
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:2:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Git Operations
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:3:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:3:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:5:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:5:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from __future__ import annotations
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from __future__ import annotations
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:7:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    import subprocess
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:7:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    import subprocess
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/git_ops.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from pathlib import Path
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/git_ops.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from pathlib import Path
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:51:0 [git_status] — Top-level function 'git_status' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:99:0 [git_diff] — Top-level function 'git_diff' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:120:0 [git_add] — Top-level function 'git_add' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:169:0 [git_push] — Top-level function 'git_push' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:197:0 [git_pull] — Top-level function 'git_pull' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/git_ops.py:225:0 [git_log] — Top-level function 'git_log' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/conflict_ops.py:193:0 [get_conflict_summary] — Top-level function 'get_conflict_summary' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/file_ops.py:21:0 [list_files] — Top-level function 'list_files' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/file_ops.py:96:0 [get_file] — Top-level function 'get_file' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/file_ops.py:193:0 [get_top_level_folders] — Top-level function 'get_top_level_folders' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:30:0 [get_manifest_file] — Top-level function 'get_manifest_file' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:35:0 [list_playsets] — Top-level function 'list_playsets' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:152:0 [get_playset_mods] — Top-level function 'get_playset_mods' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:199:0 [switch_playset] — Top-level function 'switch_playset' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/playset_ops.py:267:0 [reorder_mod] — Top-level function 'reorder_mod' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/impl/search_ops.py:129:0 [confirm_not_exists] — Top-level function 'confirm_not_exists' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/ipc_client.py:275:0 [get_vscode_diagnostics] — Top-level function 'get_vscode_diagnostics' appears unused (no repo references found).
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/ipc_client.py:297:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    except VSCodeIPCError as e:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/ipc_client.py:298:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    return {
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/ipc_client.py:299:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "error": True,
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/ipc_client.py:305:0 [get_vscode_error_summary] — Top-level function 'get_vscode_error_summary' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Collect all paths to check
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Collect all paths to check
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:106:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    paths_to_check = []
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:106:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    paths_to_check = []
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:107:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:107:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:111:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:111:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:112:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Mod paths
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:112:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Mod paths
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:113:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for i, mod in enumerate(data.get("mods", [])):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:113:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for i, mod in enumerate(data.get("mods", [])):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:114:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if "path" in mod:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:114:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if "path" in mod:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:133:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:133:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:134:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Migrate all paths
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:134:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Migrate all paths
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:135:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    modified_count = 0
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:135:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    modified_count = 0
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:136:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:136:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:139:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    new_val = migrate_path(old_val, old_user, new_user)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:139:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    new_val = migrate_path(old_val, old_user, new_user)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:140:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if old_val != new_val:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:140:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if old_val != new_val:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:142:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    modified_count += 1
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:142:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    modified_count += 1
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:143:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:143:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:144:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for mod in data.get("mods", []):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:144:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for mod in data.get("mods", []):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/path_migration.py:145:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if "path" in mod:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/path_migration.py:145:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if "path" in mod:
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/audit.py:37:0 [EnforcementEventV1] — Top-level class 'EnforcementEventV1' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/audit.py:301:0 [reset_audit_logger] — Top-level function 'reset_audit_logger' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/audit.py:311:0 [count_decisions_by_type] — Top-level function 'count_decisions_by_type' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/audit.py:330:0 [get_denied_operations] — Top-level function 'get_denied_operations' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/audit.py:347:0 [get_safe_push_grants] — Top-level function 'get_safe_push_grants' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/capability_matrix.py:162:0 [get_capability] — Top-level function 'get_capability' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/capability_matrix.py:213:0 [dump_matrix] — Top-level function 'dump_matrix' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:6:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:7:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    Core Invariants:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:7:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Core Invariants:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:7:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Core Invariants:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:8:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    1. Mods must be ingested into the database to be visible
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    1. Mods must be ingested into the database to be visible
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    1. Mods must be ingested into the database to be visible
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:9:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    2. Only mods in the active playset are visible by default
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:9:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    2. Only mods in the active playset are visible by default
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:9:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    2. Only mods in the active playset are visible by default
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:10:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    3. Only active local mods are mutable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:10:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    3. Only active local mods are mutable
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:10:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    3. Only active local mods are mutable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:11:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    4. Vanilla and workshop mods are always immutable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:11:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    4. Vanilla and workshop mods are always immutable
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:11:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    4. Vanilla and workshop mods are always immutable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    5. Filesystem access never expands mod discovery
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    5. Filesystem access never expands mod discovery
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    5. Filesystem access never expands mod discovery
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:12:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    5. Filesystem access never expands mod discovery
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    6. ck3lens cannot write Python except to the WIP workspace
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    6. ck3lens cannot write Python except to the WIP workspace
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    6. ck3lens cannot write Python except to the WIP workspace
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:13:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    6. ck3lens cannot write Python except to the WIP workspace
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    7. ck3raven source is read-only (no writes even with contract)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    7. ck3raven source is read-only (no writes even with contract)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    7. ck3raven source is read-only (no writes even with contract)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:14:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    7. ck3raven source is read-only (no writes even with contract)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:15:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:15:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:15:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:16:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:16:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:16:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CRITICAL: ck3lens agents can ONLY edit CK3 mod files in configured local_mods.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:17:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    They CANNOT edit Python code, core ck3raven code, or any infrastructure files
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:17:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    They CANNOT edit Python code, core ck3raven code, or any infrastructure files
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:17:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    They CANNOT edit Python code, core ck3raven code, or any infrastructure files
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:18:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    (except Python in the WIP workspace for temporary scripts).
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:18:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    (except Python in the WIP workspace for temporary scripts).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:19:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:19:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:20:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from __future__ import annotations
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:20:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from __future__ import annotations
INFO CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:67:0 [CK3LENS_FORBIDDEN_PATHS] — Concept explosion: Lens-like noun 'CK3LENS_FORBIDDEN_PATHS' overlaps Session/WorldAdapter/handles.
    CK3LENS_FORBIDDEN_PATHS = (
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
INFO CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:81:0 [CK3LENS_FORBIDDEN_EXTENSIONS] — Concept explosion: Lens-like noun 'CK3LENS_FORBIDDEN_EXTENSIONS' overlaps Session/WorldAdapter/handles.
    CK3LENS_FORBIDDEN_EXTENSIONS = frozenset({
    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def classify_path_domain(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def classify_path_domain(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:106:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path: str | Path,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:106:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path: str | Path,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:107:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    *,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:107:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    *,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:109:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: str | None = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:109:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: str | None = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:110:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root: Path | None = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:110:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root: Path | None = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:111:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> ScopeDomain | None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:111:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> ScopeDomain | None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:112:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:112:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:113:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Classify a path into its scope domain.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:113:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Classify a path into its scope domain.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:114:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:114:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:115:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns the ScopeDomain for structural classification only (NOT permissions).
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:115:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns the ScopeDomain for structural classification only (NOT permissions).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:116:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:116:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:118:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:118:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:119:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if isinstance(path, str):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:119:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if isinstance(path, str):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:120:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path = Path(path)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:120:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path = Path(path)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:121:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:121:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:122:20 — Suspicious .resolve() call on 'path'. Only WorldAdapter (world.resolve()) is allowed.
    path_resolved = path.resolve()
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:131:27 — Suspicious .resolve() call on 'ck3raven_root'. Only WorldAdapter (world.resolve()) is allowed.
    ck3raven_str = str(ck3raven_root.resolve()).replace("\\", "/").lower()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:138:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if path_str.startswith(vanilla_str):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:138:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if path_str.startswith(vanilla_str):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:139:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return ScopeDomain.VANILLA_GAME
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:139:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return ScopeDomain.VANILLA_GAME
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:140:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:140:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:143:24 — Suspicious .resolve() call on 'local_mods_folder'. Only WorldAdapter (world.resolve()) is allowed.
    local_str = str(local_mods_folder.resolve()).replace("\\", "/").lower()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:144:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if path_str.startswith(local_str):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:144:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if path_str.startswith(local_str):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:145:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Mod paths handled by enforcement.py
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:145:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Mod paths handled by enforcement.py
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:146:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:146:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:147:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:147:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:181:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:181:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:182:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:182:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:183:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Enforce: ck3lens agents can ONLY edit CK3 mod files (plus Python in WIP).
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:183:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Enforce: ck3lens agents can ONLY edit CK3 mod files (plus Python in WIP).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:184:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:184:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:185:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Rule: no_python_editing (except WIP), local_mods_only
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:185:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Rule: no_python_editing (except WIP), local_mods_only
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:186:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Severity: ERROR (HARD GATE)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:186:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Severity: ERROR (HARD GATE)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:187:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:187:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:218:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:218:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:220:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    domain = classify_path_domain(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:220:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    domain = classify_path_domain(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:221:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:221:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:223:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root=ctx.vanilla_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:223:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root=ctx.vanilla_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:224:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root=ctx.ck3raven_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:224:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root=ctx.ck3raven_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:225:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:225:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:226:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/ck3lens_rules.py:226:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:76:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "targets_legacy",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:76:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "targets_legacy",
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:76:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "targets_legacy",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "allowed_paths",  # Legacy field, replaced by targets
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "allowed_paths",  # Legacy field, replaced by targets
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "allowed_paths",  # Legacy field, replaced by targets
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:77:22 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    "allowed_paths",  # Legacy field, replaced by targets
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:78:21 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    "capabilities",  # Legacy field, replaced by operations
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:593:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # LEGACY MIGRATION (Hard Cutover)
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:614:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Find legacy contract files (wcp-* pattern, not v1-*)
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/contract_v1.py:617:12 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Move to legacy archive (don't parse, don't migrate)
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:313:37 — Suspicious .resolve() call on 'WorldAdapter'. Only WorldAdapter (world.resolve()) is allowed.
    Domain classification happens in WorldAdapter.resolve():
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:426:19 — Suspicious .resolve() call on 'path'. Only WorldAdapter (world.resolve()) is allowed.
    rel_path = path.resolve().relative_to(repo_root.resolve())
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/enforcement.py:426:46 — Suspicious .resolve() call on 'repo_root'. Only WorldAdapter (world.resolve()) is allowed.
    rel_path = path.resolve().relative_to(repo_root.resolve())
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1024:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Case 7: No domain or unknown - fallback checks
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1025:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # This handles legacy callers that haven't been updated to pass domain
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1027:8 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Legacy fallback: check target_path format
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1034:8 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Legacy fallback: mod_name + rel_path implies local mod
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/enforcement.py:1160:4 — Architectural workaround detected. (keyword: 'workaround')
    # Check for workaround detection (repeated execution without core changes)
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/loader.py:61:0 [reload_policy] — Top-level function 'reload_policy' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/loader.py:99:0 [get_validation_domains] — Top-level function 'get_validation_domains' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/loader.py:110:0 [is_rule_applicable] — Top-level function 'is_rule_applicable' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:128:0 [is_under_any] — Top-level function 'is_under_any' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:147:0 [make_relative] — Top-level function 'make_relative' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:172:0 [join_path] — Top-level function 'join_path' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:284:0 [matches_any_pattern] — Top-level function 'matches_any_pattern' appears unused (no repo references found).
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/paths.py:299:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # LEGACY COMPATIBILITY
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:305:0 [posixify] — Top-level function 'posixify' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/paths.py:314:0 [normalize_for_comparison] — Top-level function 'normalize_for_comparison' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:317:0 [consume_token] — Top-level function 'consume_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:427:0 [cleanup_expired_tokens] — Top-level function 'cleanup_expired_tokens' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:477:0 [issue_delete_token] — Top-level function 'issue_delete_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:519:0 [issue_inactive_mod_token] — Top-level function 'issue_inactive_mod_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:558:0 [issue_script_execute_token] — Top-level function 'issue_script_execute_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:637:0 [issue_git_push_mod_token] — Top-level function 'issue_git_push_mod_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:671:0 [check_user_prompt_required] — Top-level function 'check_user_prompt_required' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/tokens.py:685:0 [check_script_hash_required] — Top-level function 'check_script_hash_required' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/trace_helpers.py:78:0 [trace_first_call_ts] — Top-level function 'trace_first_call_ts' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/trace_helpers.py:84:0 [trace_last_call_ts] — Top-level function 'trace_last_call_ts' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/trace_helpers.py:162:0 [get_db_search_calls] — Top-level function 'get_db_search_calls' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/trace_helpers.py:167:0 [get_conflict_calls] — Top-level function 'get_conflict_calls' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/trace_helpers.py:194:0 [count_tool_calls_by_type] — Top-level function 'count_tool_calls_by_type' appears unused (no repo references found).
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/types.py:52:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # AcceptanceTest REMOVED - Part of legacy contract schema
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:236:0 [get_ck3lens_wip_path] — Top-level function 'get_ck3lens_wip_path' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:241:0 [get_ck3raven_dev_wip_path] — Top-level function 'get_ck3raven_dev_wip_path' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:256:0 [WipWorkspaceInfo] — Top-level class 'WipWorkspaceInfo' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    active_roots: Optional[set[str]] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    active_roots: Optional[set[str]] = None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    active_roots: Optional[set[str]] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    vanilla_root: Optional[str] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: Optional[str] = None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: Optional[str] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:342:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:342:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - vanilla_version_id
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - vanilla_version_id
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - vanilla_version_id
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - active_mod_ids
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - active_mod_ids
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - active_mod_ids
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - active_roots
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - active_roots
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - active_roots
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - vanilla_root
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - vanilla_root
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - vanilla_root
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - local_mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - local_mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - local_mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - ck3raven_root
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - ck3raven_root
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - ck3raven_root
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:379:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:379:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:380:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Self for chaining
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:380:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Self for chaining
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    if scope.get("active_roots") is not None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if scope.get("active_roots") is not None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if scope.get("active_roots") is not None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    self.active_roots = scope["active_roots"]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.active_roots = scope["active_roots"]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.active_roots = scope["active_roots"]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    if scope.get("vanilla_root") is not None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if scope.get("vanilla_root") is not None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if scope.get("vanilla_root") is not None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    self.vanilla_root = scope["vanilla_root"]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.vanilla_root = scope["vanilla_root"]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.vanilla_root = scope["vanilla_root"]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:394:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if scope.get("ck3raven_root") is not None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:394:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if scope.get("ck3raven_root") is not None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:395:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self.ck3raven_root = Path(scope["ck3raven_root"])
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:395:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self.ck3raven_root = Path(scope["ck3raven_root"])
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:396:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return self
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:396:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return self
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:397:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:397:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/validator.py:86:0 [server_delivery_gate] — Top-level function 'server_delivery_gate' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    CK3LENS Mode:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CK3LENS Mode:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    CK3LENS Mode:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CK3LENS Mode:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    Location: ~/.ck3raven/wip/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Location: ~/.ck3raven/wip/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    Location: ~/.ck3raven/wip/
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:7:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Location: ~/.ck3raven/wip/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - Auto-wiped at session start
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Auto-wiped at session start
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - Auto-wiped at session start
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Auto-wiped at session start
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:9:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - General purpose for analysis scripts
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:9:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - General purpose for analysis scripts
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:9:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - General purpose for analysis scripts
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:10:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - Script output can go to WIP or active local mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:10:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Script output can go to WIP or active local mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:10:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Script output can go to WIP or active local mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:11:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:11:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:11:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:12:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    CK3RAVEN-DEV Mode:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:12:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CK3RAVEN-DEV Mode:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:12:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CK3RAVEN-DEV Mode:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:13:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    Location: <repo>/.wip/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:13:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Location: <repo>/.wip/
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:13:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Location: <repo>/.wip/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:14:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - Git-ignored
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:14:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Git-ignored
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:14:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Git-ignored
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:58:0 [get_workspace_state] — Top-level function 'get_workspace_state' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:145:0 [cleanup_stale_files] — Top-level function 'cleanup_stale_files' appears unused (no repo references found).
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:193:8 — Suspicious .resolve() call on 'path'. Only WorldAdapter (world.resolve()) is allowed.
    path.resolve().relative_to(wip_path.resolve())
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:193:35 — Suspicious .resolve() call on 'wip_path'. Only WorldAdapter (world.resolve()) is allowed.
    path.resolve().relative_to(wip_path.resolve())
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:199:0 [is_any_wip_path] — Top-level function 'is_any_wip_path' appears unused (no repo references found).
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:232:29 — Suspicious .resolve() call on 'wip_path'. Only WorldAdapter (world.resolve()) is allowed.
    resolved.relative_to(wip_path.resolve())
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:239:0 [write_wip_file] — Top-level function 'write_wip_file' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:277:0 [read_wip_file] — Top-level function 'read_wip_file' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:316:0 [delete_wip_file] — Top-level function 'delete_wip_file' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:368:0 [validate_script_syntax] — Top-level function 'validate_script_syntax' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:439:0 [validate_script_declarations] — Top-level function 'validate_script_declarations' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:447:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Args:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:447:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Args:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:448:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    script_hash: SHA256 of script content
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:448:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    script_hash: SHA256 of script content
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:449:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    declarations: What the script claims to read/write
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:449:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    declarations: What the script claims to read/write
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:450:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    allowed_write_mods: Set of mod names where writes are allowed
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:450:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    allowed_write_mods: Set of mod names where writes are allowed
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:452:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:452:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:453:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:453:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:454:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Validation result with any errors
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:454:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Validation result with any errors
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:455:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:455:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:481:0 — Architectural workaround detected. (keyword: 'workaround')
    # WORKAROUND DETECTION (ck3raven-dev only)
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:541:4 — Architectural workaround detected. (keyword: 'workaround')
    # Workaround detected!
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:562:0 [clear_execution_tracker] — Top-level function 'clear_execution_tracker' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/wip_workspace.py:582:0 [get_execution_tracker_state] — Top-level function 'get_execution_tracker_state' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:382:0 [validate_startup] — Top-level function 'validate_startup' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:466:0 [transform_python_command] — Top-level function 'transform_python_command' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:471:0 [get_python_executable] — Top-level function 'get_python_executable' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/runtime_env.py:476:0 [check_dependencies] — Top-level function 'check_dependencies' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:14:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Script calls open("some/path", "r")
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:14:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Script calls open("some/path", "r")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:15:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    └─> Sandbox intercepts
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:15:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    └─> Sandbox intercepts
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:16:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    └─> Is path under allowed read domains?
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:16:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    └─> Is path under allowed read domains?
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:17:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - WIP (always)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:17:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - WIP (always)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:19:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - vanilla_path (CK3 game files)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:19:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - vanilla_path (CK3 game files)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:20:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - utility_paths (logs, saves)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:20:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - utility_paths (logs, saves)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:21:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    └─> Yes → allow, No → FileNotFoundError
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:21:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    └─> Yes → allow, No → FileNotFoundError
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:22:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:22:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:30:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    It only needs path boundaries from Session:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:30:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    It only needs path boundaries from Session:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:31:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:31:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:32:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Required from Session:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:32:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Required from Session:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:33:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - wip_path: Path to ~/.ck3raven/wip/ (always readable/writable)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:33:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - wip_path: Path to ~/.ck3raven/wip/ (always readable/writable)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:35:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - vanilla_path: Path to CK3 game/ folder (read-only)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:35:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - vanilla_path: Path to CK3 game/ folder (read-only)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:36:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - utility_paths: Set of paths to logs, saves, etc. (read-only)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:36:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - utility_paths: Set of paths to logs, saves, etc. (read-only)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:37:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:37:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:38:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    The WorldAdapter abstraction is OVERKILL for sandbox I/O gating.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:38:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    The WorldAdapter abstraction is OVERKILL for sandbox I/O gating.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:39:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Simple path containment checks (path.is_relative_to(boundary)) suffice.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:39:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Simple path containment checks (path.is_relative_to(boundary)) suffice.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:40:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:40:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:41:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    For writes, delegate to enforcement._enforce_ck3lens_write() which
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:41:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    For writes, delegate to enforcement._enforce_ck3lens_write() which
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:42:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    already knows the write policy (WIP always, local mods with contract).
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:42:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    already knows the write policy (WIP always, local mods with contract).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:43:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:43:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:44:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    INTEGRATION WITH ck3_exec:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:44:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    INTEGRATION WITH ck3_exec:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:45:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    When ck3_exec detects a WIP Python script:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:45:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    When ck3_exec detects a WIP Python script:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:46:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    1. Validate token (user approved execution)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:46:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    1. Validate token (user approved execution)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:74:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Captures path boundaries and tracks actual I/O for audit.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:74:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Captures path boundaries and tracks actual I/O for audit.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:75:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:75:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:76:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    TODO: Refactor to use simple path boundaries instead of session:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:76:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    TODO: Refactor to use simple path boundaries instead of session:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:77:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_path: Path
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:77:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_path: Path
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:79:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_path: Optional[Path]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:79:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_path: Optional[Path]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:80:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_paths: Set[Path]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:80:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_paths: Set[Path]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:81:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:81:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:82:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Session info for LensWorld resolution
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:82:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Session info for LensWorld resolution
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:141:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:141:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:142:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Check if write is allowed via enforcement.enforce_policy().
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:142:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Check if write is allowed via enforcement.enforce_policy().
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:143:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:143:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:144:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns True if allowed, raises PermissionError if not.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:144:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns True if allowed, raises PermissionError if not.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:145:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Enforcement handles WIP, local mods, etc. - no shortcuts here.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:145:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Enforcement handles WIP, local mods, etc. - no shortcuts here.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:146:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:146:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:147:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from ..policy.enforcement import (
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:147:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from ..policy.enforcement import (
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:148:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    enforce_policy, EnforcementRequest, OperationType, Decision
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:148:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    enforce_policy, EnforcementRequest, OperationType, Decision
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:149:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:149:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:309:46 — Suspicious .resolve() call on 'no'. Only WorldAdapter (world.resolve()) is allowed.
    wip_path=wip_path,  # Already a Path, no .resolve() needed
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:342:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    exec(compile(script_content, str(script_path), 'exec'), script_globals)
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:343:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    success = True
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:344:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    except FileNotFoundError as e:
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:345:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    error_msg = f"Read denied: {e}"
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:346:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    except PermissionError as e:
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:347:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    error_msg = f"Write denied: {e}"
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:348:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    except Exception as e:
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:349:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    error_msg = f"Script error: {type(e).__name__}: {e}"
WARN SUSPECT_EXCEPTION tools/ck3lens_mcp/ck3lens/tools/script_sandbox.py:350:1 — Hiding permission errors (Oracle evasion) — matched pattern 'except%permission'.
    finally:
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:612:12 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback for raw path when no resolution available
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:615:12 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback for mod addressing when no resolution available
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:632:12 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback for raw path when no resolution available
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:635:12 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback for mod addressing when no resolution available
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:706:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    return {"error": f"File not found: {path}"}
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:707:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:708:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:717:4 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # world parameter is REQUIRED - no fallback to banned playset_scope
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:894:8 — Architectural workaround detected. (keyword: 'workaround')
    # Track core source change for WIP workaround detection
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:966:8 — Architectural workaround detected. (keyword: 'workaround')
    # Track core source change for WIP workaround detection
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1188:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    else:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1188:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    else:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1189:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Get WorldAdapter for canonical path resolution
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1189:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Get WorldAdapter for canonical path resolution
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1190:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Note: WorldAdapter should be pre-initialized; we use mods from session
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1190:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Note: WorldAdapter should be pre-initialized; we use mods from session
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1191:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    adapter = get_world(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1191:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    adapter = get_world(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1193:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=session.mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1193:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=session.mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1194:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1194:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1195:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1195:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1196:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    files = []
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1196:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    files = []
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/unified_tools.py:1201:30 — Suspicious .resolve() call on 'WorldAdapter'. Only WorldAdapter (world.resolve()) is allowed.
    # Use WorldAdapter.resolve() to get canonical address
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:1206:28 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: just use filename
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:3:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:3:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:3:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:4:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Manages session state for the MCP server.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:4:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    Manages session state for the MCP server.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:4:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Manages session state for the MCP server.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:5:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:5:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:5:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CANONICAL MODEL (January 2026):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:6:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    CANONICAL MODEL (January 2026):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CANONICAL MODEL (January 2026):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[0] is ALWAYS vanilla (injected automatically, load_order=0)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[0] is ALWAYS vanilla (injected automatically, load_order=0)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:9:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[1:] are user mods from playset
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:9:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[1:] are user mods from playset
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:10:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[] is NEVER empty - vanilla is always present even if playset fails to load
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:10:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[] is NEVER empty - vanilla is always present even if playset fails to load
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:11:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Each mod has .cvid resolved from database
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:11:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Each mod has .cvid resolved from database
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - is_writable / can_write / can_edit (permission oracles)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:21:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - is_writable / can_write / can_edit (permission oracles)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:22:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CONFLICT ANALYSIS MODEL:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:23:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CONFLICT ANALYSIS MODEL:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:93:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[0] = vanilla (always present, injected automatically)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:93:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[0] = vanilla (always present, injected automatically)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:94:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[1:] = user mods from playset in load order
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:94:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[1:] = user mods from playset in load order
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:95:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[] is NEVER empty - vanilla is always present
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:95:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[] is NEVER empty - vanilla is always present
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:96:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - DB filtering = {m.cvid for m in mods if m.cvid}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:96:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - DB filtering = {m.cvid for m in mods if m.cvid}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:98:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - NO permission methods - enforcement.py handles that
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:98:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - NO permission methods - enforcement.py handles that
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:99:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:100:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    playset_name: Optional[str] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:100:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    playset_name: Optional[str] = None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:100:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    playset_name: Optional[str] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:101:1 — Likely drift: live local mods — matched pattern 'live%local%mods'.
    db_path: Optional[Path] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:101:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db_path: Optional[Path] = None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:101:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db_path: Optional[Path] = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:102:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: list[ModEntry] = field(default_factory=list)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:102:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: list[ModEntry] = field(default_factory=list)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def get_mod(self, mod_id: str) -> Optional[ModEntry]:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def get_mod(self, mod_id: str) -> Optional[ModEntry]:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:106:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Get mod by ID or name from mods[]."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:106:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Get mod by ID or name from mods[]."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:107:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for mod in self.mods:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:107:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for mod in self.mods:
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/workspace.py:156:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Legacy location (deprecated)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:293:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    cvids are NOT resolved here - call session.resolve_cvids(db) after DB connection.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:293:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    cvids are NOT resolved here - call session.resolve_cvids(db) after DB connection.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:294:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:294:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:295:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.playset_name = data.get("playset_name", data.get("name"))
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:295:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.playset_name = data.get("playset_name", data.get("name"))
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:296:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:296:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:299:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:299:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:300:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Get vanilla path from playset or data
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:300:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Get vanilla path from playset or data
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:301:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_data = data.get("vanilla", {})
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:301:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_data = data.get("vanilla", {})
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:302:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_path_str = vanilla_data.get("path") if isinstance(vanilla_data, dict) else data.get("vanilla_path")
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:302:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_path_str = vanilla_data.get("path") if isinstance(vanilla_data, dict) else data.get("vanilla_path")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:315:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path = _expand_path(path_str)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:315:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path = _expand_path(path_str)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:316:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    else:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:316:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    else:
WARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/workspace.py:317:12 — Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')
    # Fallback: construct from local_mods_folder + folder name
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:318:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    folder = m.get("folder", m.get("mod_id", ""))
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:318:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    folder = m.get("folder", m.get("mod_id", ""))
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:320:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:320:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:321:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod = ModEntry(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:321:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod = ModEntry(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:322:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_id=m.get("mod_id", m.get("name", "")),
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:322:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_id=m.get("mod_id", m.get("name", "")),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:323:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    name=m.get("name", m.get("mod_id", "")),
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:323:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    name=m.get("name", m.get("mod_id", "")),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:332:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Apply config data to session."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:332:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Apply config data to session."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:333:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if "db_path" in data and data["db_path"]:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:333:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if "db_path" in data and data["db_path"]:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:334:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.db_path = _expand_path(data["db_path"])
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:334:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.db_path = _expand_path(data["db_path"])
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:335:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:335:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:338:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:338:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:339:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Load mods from config
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:339:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Load mods from config
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:340:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods_data = data.get("mods", [])
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:340:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods_data = data.get("mods", [])
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:341:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:341:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:350:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Start with vanilla as mods[0]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:350:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Start with vanilla as mods[0]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:351:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.mods = [_create_vanilla_entry(vanilla_path)]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:351:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.mods = [_create_vanilla_entry(vanilla_path)]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:352:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:352:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:353:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for i, m in enumerate(mods_data):
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:353:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for i, m in enumerate(mods_data):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:355:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod = ModEntry(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:355:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod = ModEntry(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:356:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_id=m["mod_id"],
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:356:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_id=m["mod_id"],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:357:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    name=m.get("name", m["mod_id"]),
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:357:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    name=m.get("name", m["mod_id"]),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/workspace.py:358:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path=path,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/workspace.py:358:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path=path,
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/workspace.py:365:0 [get_validation_rules_config] — Top-level function 'get_validation_rules_config' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:523:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Optional["DBQueries"] = None,  # Can be None - only needed for DB operations
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:523:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Optional["DBQueries"] = None,  # Can be None - only needed for DB operations
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:524:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    *,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:524:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    *,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:525:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # ck3lens mode parameters
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:525:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # ck3lens mode parameters
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:526:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: Optional[list] = None,  # List of mod entries from session
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:526:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: Optional[list] = None,  # List of mod entries from session
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:528:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots: Optional[dict[str, Path]] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:528:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots: Optional[dict[str, Path]] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:529:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Shared parameters
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:529:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Shared parameters
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:530:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: Optional[Path] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:530:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: Optional[Path] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:531:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root: Optional[Path] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:531:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root: Optional[Path] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:537:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Args:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:537:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Args:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:538:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode: Agent mode ("ck3lens", "ck3raven-dev", or "uninitiated")
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:538:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode: Agent mode ("ck3lens", "ck3raven-dev", or "uninitiated")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:539:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: DBQueries instance (optional - only needed for DB operations, not path resolution)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:539:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: DBQueries instance (optional - only needed for DB operations, not path resolution)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:540:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: List of mod entries (REQUIRED for ck3lens mode)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:540:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: List of mod entries (REQUIRED for ck3lens mode)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:542:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots: Dict of utility type to path (ck3lens)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:542:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots: Dict of utility type to path (ck3lens)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:543:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: Path to vanilla game folder
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:543:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: Path to vanilla game folder
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:544:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root: Path to ck3raven source
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:544:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root: Path to ck3raven source
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:545:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root: Path to WIP workspace
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:545:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root: Path to WIP workspace
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:557:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if mods is None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:557:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if mods is None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:558:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    raise WorldAdapterNotAvailableError(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:558:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    raise WorldAdapterNotAvailableError(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:559:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "ck3lens mode requires mods[] from session"
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:559:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "ck3lens mode requires mods[] from session"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:560:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:560:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:562:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    elif mode == "ck3raven-dev":
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:562:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    elif mode == "ck3raven-dev":
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:563:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if ck3raven_root is None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:563:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if ck3raven_root is None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:564:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    raise WorldAdapterNotAvailableError(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:564:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    raise WorldAdapterNotAvailableError(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:565:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "ck3raven-dev mode requires ck3raven_root"
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:565:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "ck3raven-dev mode requires ck3raven_root"
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:568:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    else:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:569:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    # Uninitiated mode - minimal setup
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:570:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    self._init_uninitiated_mode()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:571:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:571:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:571:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:572:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def _init_lens_mode(
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:572:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    def _init_lens_mode(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:572:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def _init_lens_mode(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:573:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:573:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:574:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: list,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:574:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: list,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:576:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots: Optional[dict[str, Path]],
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:576:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots: Optional[dict[str, Path]],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:577:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root: Optional[Path],
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:577:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root: Optional[Path],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:578:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:578:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:579:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Initialize for ck3lens mode."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:579:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Initialize for ck3lens mode."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:580:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._mods = mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:580:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._mods = mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:582:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._wip_root = wip_root
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:582:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._wip_root = wip_root
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:583:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._utility_roots = utility_roots or {}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:583:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._utility_roots = utility_roots or {}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:584:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:584:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:585:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Build mod path lookup from mods[]
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:585:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Build mod path lookup from mods[]
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:612:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for util_root in self._utility_roots.values():
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:612:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for util_root in self._utility_roots.values():
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:613:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._read_roots.add(util_root)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:613:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._read_roots.add(util_root)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:614:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:614:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:615:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Write access - local mods only
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:615:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Write access - local mods only
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:617:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    for mod_path in self._mod_paths.values():
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:617:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    for mod_path in self._mod_paths.values():
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:618:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    try:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:618:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    try:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:620:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._write_roots.add(mod_path)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:620:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._write_roots.add(mod_path)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:621:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    except ValueError:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:621:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    except ValueError:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:622:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    pass
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:622:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    pass
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:623:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:623:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:624:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def _init_dev_mode(self, wip_root: Optional[Path]) -> None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:624:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def _init_dev_mode(self, wip_root: Optional[Path]) -> None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:625:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Initialize for ck3raven-dev mode."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:625:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Initialize for ck3raven-dev mode."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:626:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Dev mode does NOT use mods[] - they are not part of the execution model
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:626:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Dev mode does NOT use mods[] - they are not part of the execution model
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:627:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._mods = []
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:627:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._mods = []
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:629:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._utility_roots = {}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:629:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._utility_roots = {}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._mod_paths = {}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:630:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._mod_paths = {}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._visible_cvids = None  # UNRESTRICTED DB access
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:631:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._visible_cvids = None  # UNRESTRICTED DB access
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:632:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:645:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:645:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:646:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def _init_uninitiated_mode(self) -> None:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:646:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def _init_uninitiated_mode(self) -> None:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:647:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Initialize for uninitiated mode (pre-initialization)."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:647:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Initialize for uninitiated mode (pre-initialization)."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:648:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._mods = []
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:648:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._mods = []
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._utility_roots = {}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:650:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._utility_roots = {}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._mod_paths = {}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:651:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._mod_paths = {}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._visible_cvids = None  # UNRESTRICTED during init
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:652:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._visible_cvids = None  # UNRESTRICTED during init
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self._wip_root = None
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:653:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self._wip_root = None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:690:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:690:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:691:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    This is THE ONLY legal way to obtain a FsHandle.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:691:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    This is THE ONLY legal way to obtain a FsHandle.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:692:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:692:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:693:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Read-only handles get access to all visible roots.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:693:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Read-only handles get access to all visible roots.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:694:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Write handles get access only to writable roots (local mods + WIP for ck3lens,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:694:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Write handles get access only to writable roots (local mods + WIP for ck3lens,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:695:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven source + WIP for ck3raven-dev).
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:695:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven source + WIP for ck3raven-dev).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:696:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:696:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:697:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if read_only:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:697:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if read_only:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:698:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    roots = frozenset(self._read_roots)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:698:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    roots = frozenset(self._read_roots)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:737:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    return self._resolve_dev(address)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:738:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    else:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:738:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    else:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:739:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    return ResolutionResult.not_found(path_or_address)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:739:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    return ResolutionResult.not_found(path_or_address)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:740:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:740:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:741:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    def _resolve_lens(self, address: CanonicalAddress) -> ResolutionResult:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:741:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    def _resolve_lens(self, address: CanonicalAddress) -> ResolutionResult:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:742:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    """Resolve address in ck3lens mode (full playset visibility)."""
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:742:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    """Resolve address in ck3lens mode (full playset visibility)."""
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:766:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    # MOD and UTILITY not resolved in dev mode
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:767:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    return ResolutionResult.not_found(address.raw_input)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:768:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:769:1 — Suspect fallback logic using visibility — matched pattern 'else%visibility'.
    def is_visible(self, path_or_address: str) -> bool:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:848:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    # Dev mode: prioritize ck3raven source
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:849:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    return self._translate_raw_path_dev(path, raw_path)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:850:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    else:
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:851:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    # Lens mode: full translation
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:852:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    return self._translate_raw_path_lens(path, raw_path)
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:853:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_adapter.py:854:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    def _translate_raw_path_lens(self, path: Path, raw_path: str) -> CanonicalAddress:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:987:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    abs_path = mod_path / address.relative_path
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:987:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    abs_path = mod_path / address.relative_path
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:988:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:988:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:989:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Determine domain (local vs workshop)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:989:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Determine domain (local vs workshop)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:990:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    domain = PathDomain.WORKSHOP_MOD
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:990:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    domain = PathDomain.WORKSHOP_MOD
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:992:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    try:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:992:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    try:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:994:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    domain = PathDomain.LOCAL_MOD
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:994:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    domain = PathDomain.LOCAL_MOD
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:995:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    except ValueError:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:995:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    except ValueError:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:996:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    pass
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:996:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    pass
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:997:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:997:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/world_adapter.py:1087:0 [get_world_adapter] — Top-level function 'get_world_adapter' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1088:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode: str,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1088:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode: str,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1089:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: "DBQueries",
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1089:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: "DBQueries",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1090:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    *,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1090:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    *,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1091:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: Optional[list] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1091:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: Optional[list] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1093:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: Optional[Path] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1093:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: Optional[Path] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1094:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root: Optional[Path] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1094:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root: Optional[Path] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1095:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root: Optional[Path] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1095:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root: Optional[Path] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1096:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots: Optional[dict[str, Path]] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1096:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots: Optional[dict[str, Path]] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1103:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Args:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1103:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Args:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode: Agent mode ("ck3lens", "ck3raven-dev", or "uninitiated")
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode: Agent mode ("ck3lens", "ck3raven-dev", or "uninitiated")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1105:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: DBQueries instance
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1105:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: DBQueries instance
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1106:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: List of mod entries (required for ck3lens mode)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1106:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: List of mod entries (required for ck3lens mode)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1108:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root: Path to vanilla game folder
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1108:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root: Path to vanilla game folder
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1109:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root: Path to ck3raven source
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1109:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root: Path to ck3raven source
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1110:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root: Path to WIP workspace
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1110:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root: Path to WIP workspace
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1111:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots: Dict of utility type to path (logs, saves, etc.)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1111:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots: Dict of utility type to path (logs, saves, etc.)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1119:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return WorldAdapter(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1119:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return WorldAdapter(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1120:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode=mode,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1120:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode=mode,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1121:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db=db,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1121:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db=db,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1122:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=mods,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1122:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=mods,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1124:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root=vanilla_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1124:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root=vanilla_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1125:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root=ck3raven_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1125:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root=ck3raven_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1126:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root=wip_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1126:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root=wip_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_adapter.py:1127:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots=utility_roots,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_adapter.py:1127:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots=utility_roots,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:87:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:87:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:88:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def get_adapter(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:88:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def get_adapter(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:89:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:89:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:90:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Optional["DBQueries"] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:90:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Optional["DBQueries"] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:92:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: Optional[list] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:92:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: Optional[list] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:93:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    force_mode: Optional[str] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:93:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    force_mode: Optional[str] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:94:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> WorldAdapter:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:94:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> WorldAdapter:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:95:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:95:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:96:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Get the WorldAdapter for the current (or specified) mode.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:96:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Get the WorldAdapter for the current (or specified) mode.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:97:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:97:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:98:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Args:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:98:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Args:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:99:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Database queries instance (required for full functionality)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:99:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Database queries instance (required for full functionality)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:101:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: List of mod entries from session (for ck3lens visibility)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:101:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: List of mod entries from session (for ck3lens visibility)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:102:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Each mod should have .name, .path, and optionally .cvid
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:102:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Each mod should have .name, .path, and optionally .cvid
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:103:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods[0] is always vanilla (never empty in normal operation)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:103:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods[0] is always vanilla (never empty in normal operation)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:104:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    force_mode: Override detected mode (for testing)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:104:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    force_mode: Override detected mode (for testing)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:125:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return self._cached_adapter
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:125:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return self._cached_adapter
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:126:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:126:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:127:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Build new adapter using single WorldAdapter class
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:127:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Build new adapter using single WorldAdapter class
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:128:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if mode == "ck3lens":
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:128:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if mode == "ck3lens":
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:130:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    elif mode == "ck3raven-dev":
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:130:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    elif mode == "ck3raven-dev":
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:131:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    adapter = self._build_dev_adapter(db)
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:131:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    adapter = self._build_dev_adapter(db)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:132:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    else:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:132:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    else:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:133:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    raise RuntimeError(f"Unknown agent mode: {mode}")
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:133:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    raise RuntimeError(f"Unknown agent mode: {mode}")
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_router.py:135:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    self._cached_adapter = adapter
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/world_router.py:136:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    self._cached_mode = mode
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:138:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:138:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:139:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def _build_lens_adapter(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:139:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def _build_lens_adapter(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:140:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    self,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:140:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    self,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:141:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Optional["DBQueries"],
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:141:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Optional["DBQueries"],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:143:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: Optional[list],
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:143:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: Optional[list],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:144:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> WorldAdapter:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:144:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> WorldAdapter:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:145:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Build a WorldAdapter for ck3lens mode.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:145:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Build a WorldAdapter for ck3lens mode.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:146:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:146:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN FALLBACK-01 tools/ck3lens_mcp/ck3lens/world_router.py:148:0 — Fallback pattern detected - fallbacks often retain banned ideas during refactor.
    If mods is empty or None, we proceed with empty visibility
    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:181:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return WorldAdapter(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:181:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return WorldAdapter(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:182:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mode="ck3lens",
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:182:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mode="ck3lens",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:183:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db=db,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:183:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db=db,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:184:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=mods,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:184:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=mods,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:186:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root=vanilla_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:186:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root=vanilla_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:187:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ck3raven_root=ck3raven_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:187:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ck3raven_root=ck3raven_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:188:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    wip_root=wip_root,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:188:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    wip_root=wip_root,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:189:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    utility_roots=utility_roots,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:189:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    utility_roots=utility_roots,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:293:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # =============================================================================
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:293:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # =============================================================================
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:294:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:294:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:295:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def get_world(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:295:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def get_world(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:296:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Optional["DBQueries"] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:296:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Optional["DBQueries"] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:298:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: Optional[list] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:298:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: Optional[list] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:299:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    force_mode: Optional[str] = None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:299:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    force_mode: Optional[str] = None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:300:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ) -> WorldAdapter:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:300:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ) -> WorldAdapter:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:301:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:301:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:304:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    This is the canonical entry point for all MCP tools.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:304:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    This is the canonical entry point for all MCP tools.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:305:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:305:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:306:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Args:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:306:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Args:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:307:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db: Database queries instance
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:307:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db: Database queries instance
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:309:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods: List of mod entries from session. Each mod should have:
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:309:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods: List of mod entries from session. Each mod should have:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:310:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - .name: mod name
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:310:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - .name: mod name
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:311:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - .path: filesystem path
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:311:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - .path: filesystem path
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:321:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {"error": result.error_message}
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:321:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {"error": result.error_message}
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:324:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:324:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:325:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    router = WorldRouter.get_instance()
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:325:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    router = WorldRouter.get_instance()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:326:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return router.get_adapter(
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:326:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return router.get_adapter(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:327:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db=db,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:327:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db=db,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:329:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=mods,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:329:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=mods,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:330:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    force_mode=force_mode,
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:330:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    force_mode=force_mode,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:331:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:331:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/world_router.py:332:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/world_router.py:332:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/world_router.py:334:0 [get_current_mode] — Top-level function 'get_current_mode' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/ck3lens/world_router.py:339:0 [reset_world] — Top-level function 'reset_world' appears unused (no repo references found).
DOC-WARN DOC-TERM tools/ck3lens_mcp/ck3lens_mcp.egg-info/SOURCES.txt:7:0 — Banned/concept-expansion term mentioned in documentation.
    ck3lens/live_mods.py
DOC-WARN DOC-TERM tools/ck3lens_mcp/docs/TESTING.md:48:0 — Banned/concept-expansion term mentioned in documentation.
    Expected: Shows mods configured in your playset's `local_mods` section
DOC-WARN DOC-TERM tools/ck3lens_mcp/docs/TESTING.md:109:0 — Banned/concept-expansion term mentioned in documentation.
    & "C:/Users/Nathan/Documents/AI Workspace/.venv/Scripts/python.exe" -c "from ck3lens.workspace import Session; s = Session(); print(f'mod_root: {s.mod_root}'); print(f'live_mods: {[m.name for m in s.live_mods]}')"
DOC-WARN DOC-TERM tools/ck3lens_mcp/docs/TESTING.md:147:0 — Banned/concept-expansion term mentioned in documentation.
    | `ck3_list_live_mods` | ✅ Works |
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/launcher.py:113:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/launcher.py:114:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/launcher.py:115:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    def main():
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:3:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:3:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    An MCP server providing CK3 modding tools:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    An MCP server providing CK3 modding tools:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:5:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Symbol search (from ck3raven SQLite DB)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:5:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Symbol search (from ck3raven SQLite DB)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:6:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Conflict detection
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:6:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Conflict detection
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:8:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Git operations
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:8:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Git operations
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:9:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Validation
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:9:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Validation
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:10:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:10:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:11:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Architecture:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:11:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Architecture:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:12:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - ALL reads come from ck3raven's SQLite database (symbols, files, AST)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:12:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - ALL reads come from ck3raven's SQLite database (symbols, files, AST)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:14:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:14:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:15:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from __future__ import annotations
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:15:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from __future__ import annotations
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:16:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    import sys
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:16:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    import sys
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:17:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    import os
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:17:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    import os
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/server.py:217:6 — Suspicious .resolve() call on 'WorldAdapter'. Only WorldAdapter (world.resolve()) is allowed.
    # Use WorldAdapter.resolve() for visibility, enforcement.py for decisions.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:255:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # the error should propagate with a clear message about calling
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:255:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # the error should propagate with a clear message about calling
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:256:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # ck3_get_mode_instructions() first.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:256:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # ck3_get_mode_instructions() first.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:257:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    adapter = get_world(
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:257:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    adapter = get_world(
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:258:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    db=None,  # DB not needed for path resolution - get it when needed
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:258:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    db=None,  # DB not needed for path resolution - get it when needed
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:260:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods=session.mods
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:260:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods=session.mods
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:261:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    )
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:261:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:262:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    _cached_world_adapter = adapter
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:262:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    _cached_world_adapter = adapter
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:263:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    _cached_world_mode = mode
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:263:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    _cached_world_mode = mode
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:360:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    vanilla_config = data.get("vanilla", {})
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:360:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_config = data.get("vanilla", {})
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:360:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_config = data.get("vanilla", {})
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:361:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    vanilla_root = vanilla_config.get("path", "C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:361:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    vanilla_root = vanilla_config.get("path", "C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game")
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:361:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    vanilla_root = vanilla_config.get("path", "C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game")
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:362:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:362:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:366:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:366:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:367:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:367:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # NOTE: No editable_mods list - enforcement.py determines writability at execution time
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:369:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:369:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:378:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "vanilla_version_id": None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:378:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "vanilla_version_id": None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:378:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "vanilla_version_id": None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:379:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "vanilla_root": str(Path(vanilla_root).expanduser()),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:379:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "vanilla_root": str(Path(vanilla_root).expanduser()),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:379:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "vanilla_root": str(Path(vanilla_root).expanduser()),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:380:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "source": "json",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:380:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "source": "json",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:380:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "source": "json",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:381:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    "file_path": str(playset_file),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:381:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "file_path": str(playset_file),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:381:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "file_path": str(playset_file),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:383:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "agent_briefing": agent_briefing,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:383:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "agent_briefing": agent_briefing,
WARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:392:0 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # REMOVED: _load_legacy_playset - Legacy playset format BANNED (December 2025)
WARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:438:4 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # No playset available - legacy format support REMOVED
WARN UNUSED-01 tools/ck3lens_mcp/server.py:554:0 [ck3_get_instance_info] — Top-level function 'ck3_get_instance_info' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:574:0 [ck3_ping] — Top-level function 'ck3_ping' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:597:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:597:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:597:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:598:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    CANONICAL MODEL:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:598:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    CANONICAL MODEL:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:598:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    CANONICAL MODEL:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:599:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - Session is loaded from active playset via load_config()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:599:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Session is loaded from active playset via load_config()
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:599:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Session is loaded from active playset via load_config()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:600:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - mods[] contains all mods from playset
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:600:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - mods[] contains all mods from playset
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:600:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - mods[] contains all mods from playset
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:603:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:603:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:603:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:604:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns session info dict.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:604:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns session info dict.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:605:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:605:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:606:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from ck3lens.workspace import load_config
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:606:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from ck3lens.workspace import load_config
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:642:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "db_path": str(_db.db_path) if _db.db_path else None,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:642:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "db_path": str(_db.db_path) if _db.db_path else None,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:643:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_name": playset_name,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:643:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_name": playset_name,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:644:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "mod_count": mod_count,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:644:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "mod_count": mod_count,
WARN UNUSED-01 tools/ck3lens_mcp/server.py:766:0 [ck3_close_db] — Top-level function 'ck3_close_db' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:822:0 [ck3_db] — Top-level function 'ck3_db' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:893:0 [ck3_db_delete] — Top-level function 'ck3_db_delete' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1298:0 [ck3_get_policy_status] — Top-level function 'ck3_get_policy_status' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1342:0 [ck3_logs] — Top-level function 'ck3_logs' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1437:0 [ck3_conflicts] — Top-level function 'ck3_conflicts' appears unused (no repo references found).
WARN FALLBACK-01 tools/ck3lens_mcp/server.py:1510:0 — Fallback pattern detected - fallbacks often retain banned ideas during refactor.
    # No db_visibility() or visible_cvids - derive inline from mods[]
    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1668:0 [ck3_file] — Top-level function 'ck3_file' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    path: File path (for get/read from filesystem)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    path: File path (for get/read from filesystem)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    path: File path (for get/read from filesystem)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1719:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    path: File path (for get/read from filesystem)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    mod_name: Target for file operations. Can be:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mod_name: Target for file operations. Can be:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    mod_name: Target for file operations. Can be:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1720:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mod_name: Target for file operations. Can be:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - "wip" → WIP workspace (~/.ck3raven/wip/) - always writable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - "wip" → WIP workspace (~/.ck3raven/wip/) - always writable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - "wip" → WIP workspace (~/.ck3raven/wip/) - always writable
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1721:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - "wip" → WIP workspace (~/.ck3raven/wip/) - always writable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    - "vanilla" → Vanilla game files (read-only)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - "vanilla" → Vanilla game files (read-only)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - "vanilla" → Vanilla game files (read-only)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1722:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - "vanilla" → Vanilla game files (read-only)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    rel_path: Relative path within target
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    rel_path: Relative path within target
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    rel_path: Relative path within target
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1724:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    rel_path: Relative path within target
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    include_ast: Include parsed AST (for get)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    include_ast: Include parsed AST (for get)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    include_ast: Include parsed AST (for get)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1725:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    include_ast: Include parsed AST (for get)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    content: File content (for write)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    content: File content (for write)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1726:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    content: File content (for write)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 — Likely drift: active local mods — matched pattern 'active%local%mods'.
    start_line: Start line for read (1-indexed)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    start_line: Start line for read (1-indexed)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1727:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    start_line: Start line for read (1-indexed)
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1784:0 [ck3_folder] — Top-level function 'ck3_folder' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:1861:0 [ck3_playset] — Top-level function 'ck3_playset' appears unused (no repo references found).
WARN SUSPECT_RESOLVE tools/ck3lens_mcp/server.py:2270:55 — Suspicious .resolve() call on 'folder'. Only WorldAdapter (world.resolve()) is allowed.
    mod_path = str(folder.resolve())  # Needed for absolute path
WARN UNUSED-01 tools/ck3lens_mcp/server.py:2370:0 [ck3_git] — Top-level function 'ck3_git' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:2441:0 [ck3_validate] — Top-level function 'ck3_validate' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:2503:0 [ck3_vscode] — Top-level function 'ck3_vscode' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:2559:0 [ck3_repair] — Top-level function 'ck3_repair' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2793:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # At this point playset_file is guaranteed to be set (found in loop above)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2793:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # At this point playset_file is guaranteed to be set (found in loop above)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2794:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    assert playset_file is not None
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2794:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    assert playset_file is not None
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2795:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2795:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2796:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Detect path mismatch
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2796:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Detect path mismatch
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2799:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2799:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2800:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if not mismatch:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2800:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if not mismatch:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2801:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Check individual mod paths too
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2801:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Check individual mod paths too
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2802:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    mods = playset_data.get("mods", [])
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2802:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    mods = playset_data.get("mods", [])
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2810:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    if not mismatch:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2810:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    if not mismatch:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2811:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return {
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2811:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return {
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2812:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "success": True,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2812:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "success": True,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2813:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "message": "No path migration needed - paths already match current user profile",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2813:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "message": "No path migration needed - paths already match current user profile",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2815:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    }
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2815:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    }
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2816:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2816:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2817:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    old_user, new_user = mismatch
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2817:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    old_user, new_user = mismatch
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2818:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2818:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN UNUSED-01 tools/ck3lens_mcp/server.py:2954:0 [ck3_contract] — Top-level function 'ck3_contract' appears unused (no repo references found).
WARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:3230:8 — Legacy code marker detected. Schedule for removal. (keyword: 'legacy')
    # Move all pre-v1 contracts to legacy folder
WARN UNUSED-01 tools/ck3lens_mcp/server.py:3249:0 [ck3_exec] — Top-level function 'ck3_exec' appears unused (no repo references found).
WARN FALLBACK-01 tools/ck3lens_mcp/server.py:3326:0 — Fallback pattern detected - fallbacks often retain banned ideas during refactor.
    # DB unavailable or not initialized - continue without path visibility checks
    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3466:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "output": sandbox_result.get("output", ""),
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3467:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "exit_code": 0 if sandbox_result["success"] else 1,
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3468:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "policy": {
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3469:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "decision": "ALLOW",
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3470:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "reason": "Executed in LensWorld sandbox",
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3471:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    "category": "WIP_SCRIPT_SANDBOXED",
WARN UNUSED-01 tools/ck3lens_mcp/server.py:3710:0 [ck3_token] — Top-level function 'ck3_token' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:3890:0 [ck3_search] — Top-level function 'ck3_search' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4043:0 [ck3_grep_raw] — Top-level function 'ck3_grep_raw' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4160:0 [ck3_file_search] — Top-level function 'ck3_file_search' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4272:0 [ck3_parse_content] — Top-level function 'ck3_parse_content' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4320:0 [ck3_report_validation_issue] — Top-level function 'ck3_report_validation_issue' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4403:0 [ck3_get_agent_briefing] — Top-level function 'ck3_get_agent_briefing' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4455:0 [ck3_search_mods] — Top-level function 'ck3_search_mods' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4547:0 [ck3_get_mode_instructions] — Top-level function 'ck3_get_mode_instructions' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4660:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "wip_workspace": wip_info,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4660:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "wip_workspace": wip_info,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4660:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "wip_workspace": wip_info,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4661:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "session_note": _get_mode_session_note(mode),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4661:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "session_note": _get_mode_session_note(mode),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4661:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "session_note": _get_mode_session_note(mode),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4662:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Session info (from what ck3_init_session used to return)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4662:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    # Session info (from what ck3_init_session used to return)
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4662:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Session info (from what ck3_init_session used to return)
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4663:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "session": {
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4663:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "session": {
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4663:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "session": {
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4665:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "db_path": session_info.get("db_path"),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4665:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "db_path": session_info.get("db_path"),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4666:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_id": session_info.get("playset_id"),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4666:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_id": session_info.get("playset_id"),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4667:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_name": session_info.get("playset_name"),
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4667:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_name": session_info.get("playset_name"),
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4705:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4705:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4705:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4706:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4706:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4706:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4707:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4707:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ],
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4707:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4708:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "write_allowed": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4708:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "write_allowed": [
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4708:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "write_allowed": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4710:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4710:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4710:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ScopeDomain.WIP_WORKSPACE.value,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4711:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4711:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ],
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4711:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4712:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "delete_requires_token": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4712:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "delete_requires_token": [
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4712:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "delete_requires_token": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4714:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4714:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    ],
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4714:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4715:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "always_denied": [
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4715:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "always_denied": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4717:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "write to VANILLA_GAME",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4717:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "write to VANILLA_GAME",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4718:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "write to CK3RAVEN_SOURCE",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4718:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "write to CK3RAVEN_SOURCE",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4719:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    ],
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4719:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    ],
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4720:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    },
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4720:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    },
WARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:4788:1 — Suspect fallback logic using lens — matched pattern 'else%lens'.
    def _get_mode_session_note(mode: str) -> str:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4792:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "CK3 Lens mode active. You can:\n"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4793:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "- Search symbols, files, content via database\n"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4794:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\n"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4795:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "- Use ck3_repair for launcher/cache issues\n\n"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4796:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    "You CANNOT write to workshop mods, vanilla, or ck3raven source."
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4797:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    )
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4798:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    elif mode == "ck3raven-dev":
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4812:0 [ck3_get_detected_mode] — Top-level function 'ck3_get_detected_mode' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:4890:0 [ck3_get_workspace_config] — Top-level function 'ck3_get_workspace_config' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4893:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4893:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4893:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4894:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Use this to understand:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4894:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    Use this to understand:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4894:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Use this to understand:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4895:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Available modes/tool sets and what tools they enable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4895:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - Available modes/tool sets and what tools they enable
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4895:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Available modes/tool sets and what tools they enable
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4896:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - MCP server configuration
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4896:1 — Suspicious: workspace mods registry — matched pattern 'workspace%mods'.
    - MCP server configuration
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4896:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - MCP server configuration
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4898:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    - Database path
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4898:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    - Database path
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4899:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4899:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4900:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Returns:
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4900:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Returns:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4901:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    Complete workspace configuration
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4901:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    Complete workspace configuration
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4914:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "path": db_path_str,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4914:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "path": db_path_str,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4915:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "exists": db_exists,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4915:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "exists": db_exists,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4916:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    },
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4916:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    },
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4917:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "playset_name": session.playset_name,
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4917:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "playset_name": session.playset_name,
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4919:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "available_modes": [
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4919:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "available_modes": [
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4920:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    {
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4920:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    {
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4921:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "name": "ck3lens",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4921:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "name": "ck3lens",
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4922:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    "description": "CK3 modding - database search, conflict detection, mod editing",
WARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4922:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    "description": "CK3 modding - database search, conflict detection, mod editing",
WARN UNUSED-01 tools/ck3lens_mcp/server.py:5059:0 [ck3_db_query] — Top-level function 'ck3_db_query' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/server.py:5216:0 [ck3_qbuilder] — Top-level function 'ck3_qbuilder' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:29:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Mock session in ck3lens mode."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:29:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Mock session in ck3lens mode."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:30:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session = MagicMock()
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:30:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session = MagicMock()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:31:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.mode = "ck3lens"
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:31:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.mode = "ck3lens"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:32:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.playset_id = 1
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:32:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.playset_id = 1
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:34:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return session
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:34:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return session
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:35:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:35:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:36:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:36:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:37:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    @pytest.fixture
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:37:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    @pytest.fixture
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:39:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Mock session in ck3raven-dev mode."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:39:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Mock session in ck3raven-dev mode."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:40:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session = MagicMock()
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:40:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session = MagicMock()
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:41:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.mode = "ck3raven-dev"
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:41:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.mode = "ck3raven-dev"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:42:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    session.playset_id = None  # Not used in dev mode
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:42:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    session.playset_id = None  # Not used in dev mode
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:44:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    return session
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:44:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    return session
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:45:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:45:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:46:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:46:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:47:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    @pytest.fixture
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:47:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    @pytest.fixture
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:48:0 [mock_db] — Top-level function 'mock_db' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:59:0 [TestModeInitialization] — Top-level class 'TestModeInitialization' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:96:0 [TestModePathResolution] — Top-level class 'TestModePathResolution' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:124:0 [TestModeWritePermissions] — Top-level class 'TestModeWritePermissions' appears unused (no repo references found).
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:124:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    class TestModeWritePermissions:
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:124:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    class TestModeWritePermissions:
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:125:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """Tests for write permission enforcement by mode."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:125:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """Tests for write permission enforcement by mode."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:126:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:126:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:127:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def test_ck3lens_allows_local_mod_writes(self, mock_session_ck3lens):
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:127:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def test_ck3lens_allows_local_mod_writes(self, mock_session_ck3lens):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:128:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """ck3lens should allow writes to local mods."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:128:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """ck3lens should allow writes to local mods."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:129:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    # Local mods in Documents/Paradox Interactive/CK3/mod/
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:129:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    # Local mods in Documents/Paradox Interactive/CK3/mod/
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:130:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    assert mock_session_ck3lens.mode == "ck3lens"
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:130:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    assert mock_session_ck3lens.mode == "ck3lens"
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:132:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:132:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:133:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    def test_ck3lens_denies_ck3raven_writes(self):
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:133:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    def test_ck3lens_denies_ck3raven_writes(self):
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:134:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    """ck3lens should deny writes to ck3raven source."""
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:134:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    """ck3lens should deny writes to ck3raven source."""
WARN SUSPECT_COMPOSITE tools/ck3lens_mcp/tests/test_agent_mode.py:135:1 — Suspicious: local mods (ensure not a parallel truth) — matched pattern 'local%mods'.
    from ck3lens.policy.enforcement import enforce_policy, EnforcementRequest, OperationType
WARN SUSPECT_NEAR tools/ck3lens_mcp/tests/test_agent_mode.py:135:1 — Suspicious: local mods (near-match) — near-window match ['local', 'mods'] within 6 tokens.
    from ck3lens.policy.enforcement import enforce_policy, EnforcementRequest, OperationType
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:169:0 [TestModeToolRouting] — Top-level class 'TestModeToolRouting' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:201:0 [TestModePolicyEnforcement] — Top-level class 'TestModePolicyEnforcement' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:245:0 [TestTokenValidation] — Top-level class 'TestTokenValidation' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:279:0 [TestArtifactBundleContract] — Top-level class 'TestArtifactBundleContract' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:307:0 [TestValidationReportContract] — Top-level class 'TestValidationReportContract' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:342:0 [TestConflictAnalyzerContract] — Top-level class 'TestConflictAnalyzerContract' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_agent_mode.py:362:0 [TestModeIntegration] — Top-level class 'TestModeIntegration' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:41:0 [mock_trace_with_init] — Top-level function 'mock_trace_with_init' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:115:0 [TestPolicyLoader] — Top-level class 'TestPolicyLoader' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:153:0 [TestTraceHelpers] — Top-level class 'TestTraceHelpers' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:206:0 [TestCK3LensRules] — Top-level class 'TestCK3LensRules' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:281:0 [TestCK3RavenDevRules] — Top-level class 'TestCK3RavenDevRules' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:350:0 [TestCoreValidator] — Top-level class 'TestCoreValidator' appears unused (no repo references found).
WARN UNUSED-01 tools/ck3lens_mcp/tests/test_policy_validator.py:398:0 [TestPolicyOutcome] — Top-level class 'TestPolicyOutcome' appears unused (no repo references found).


============================================================
STDERR
============================================================

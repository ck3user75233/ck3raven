{
  "contract_id": "test-d5-audit",
  "lock_hash": "17aff142a29634532286313090b8fe1af1fdcded4f741ac63444dc7e9fbf21d2",
  "lock_verified": true,
  "timestamp": "2026-01-20T10:38:44.034517+00:00",
  "hash_algorithm": "sha256",
  "tool_path": "tools/arch_lint",
  "tool_version": "v2.35",
  "exit_code": 1,
  "stdout": "Scanned: 4 files under C:\\Users\\nateb\\Documents\\CK3 Mod Project 1.18\\ck3raven\r\narch_lint v2.35\r\nErrors: 386  Warnings: 387\r\n\r\nERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:60:0 [CK3LensTokenType] \u2014 Concept explosion: Lens-like noun 'CK3LensTokenType' overlaps Session/WorldAdapter/handles.\r\n    class CK3LensTokenType(str, Enum):\r\n    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.\r\nERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:75:0 [CK3LENS_TOKEN_TTLS] \u2014 Concept explosion: Lens-like noun 'CK3LENS_TOKEN_TTLS' overlaps Session/WorldAdapter/handles.\r\n    CK3LENS_TOKEN_TTLS = {\r\n    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.\r\nERROR CONCEPT-01 tools/ck3lens_mcp/ck3lens/policy/types.py:236:0 [get_ck3lens_wip_path] \u2014 Concept explosion: Lens-like noun 'get_ck3lens_wip_path' overlaps Session/WorldAdapter/handles.\r\n    def get_ck3lens_wip_path() -> Path:\r\n    -> Do not introduce Lens wrappers. Use Session + WorldAdapter + canonical handles.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    active_roots: Optional[set[str]] = None\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    vanilla_root: Optional[str] = None\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - vanilla_version_id\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - vanilla_version_id\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - active_mod_ids\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - active_mod_ids\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - active_roots\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - active_roots\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - vanilla_root\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    - vanilla_root\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - vanilla_root\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Path oracle: mod root (near-match) \u2014 near-window match ['mod', 'root'] within 6 tokens.\r\n    - vanilla_root\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - local_mods\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    - local_mods\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - local_mods\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Path oracle: mod root (near-match) \u2014 near-window match ['mod', 'root'] within 6 tokens.\r\n    - local_mods\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - ck3raven_root\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    - ck3raven_root\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - ck3raven_root\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Path oracle: mod root (near-match) \u2014 near-window match ['mod', 'root'] within 6 tokens.\r\n    - ck3raven_root\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:386:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    if scope.get(\"active_mod_ids\") is not None:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:387:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    self.active_mod_ids = scope[\"active_mod_ids\"]\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    if scope.get(\"active_roots\") is not None:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    if scope.get(\"active_roots\") is not None:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    self.active_roots = scope[\"active_roots\"]\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    self.active_roots = scope[\"active_roots\"]\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    if scope.get(\"vanilla_root\") is not None:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    if scope.get(\"vanilla_root\") is not None:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    self.vanilla_root = scope[\"vanilla_root\"]\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    self.vanilla_root = scope[\"vanilla_root\"]\r\nERROR ORACLE-02 tools/ck3lens_mcp/ck3lens/policy/types.py:392:8 \u2014 Permission branching / oracle-style gating detected in if-condition.\r\n    if scope.get(\"local_mods_folder\") is not None:\r\n    -> Remove permission pre-checks; use canonical boundary gates at mutation sites.\r\nERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/ck3lens/unified_tools.py:1316:36 \u2014 Forbidden path API '.relative_to(' outside canonical modules.\r\n    \"relpath\": str(f.relative_to(target)),\r\n    -> Route through WorldAdapter.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1342:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    Modes:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1343:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    - partial_patch: Creates zzz_[mod]_[original_name].txt (for adding/modifying specific units)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1344:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    - full_replace: Creates [original_name].txt (full replacement, last-wins)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1345:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1346:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    NOTE: This function computes paths and delegates to _file_write.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1347:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    Enforcement happens via the normal _file_write path.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1500:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    if deleted:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1501:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    # For deletion, still use enqueue but the file won't exist\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1502:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    result = daemon.enqueue_files(\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1503:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    paths=[file_path],\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1504:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    mod_name=mod_name,\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1505:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    priority=\"high\",\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1506:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    reason=\"file_deleted\",\r\nERROR BANNED_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1507:1 \u2014 Path oracle: mod paths (near-match) \u2014 near-window match ['mod', 'paths'] within 8 tokens.\r\n    )\r\nERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1551:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    subprocess.Popen(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1551:12 [subprocess.Popen] \u2014 Raw I/O call 'subprocess.Popen(...)' outside allowed modules.\r\n    subprocess.Popen(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1560:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    subprocess.Popen(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1560:12 [subprocess.Popen] \u2014 Raw I/O call 'subprocess.Popen(...)' outside allowed modules.\r\n    subprocess.Popen(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1610:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=contents    -> Get folder contents from database (path required)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1611:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=top_level   -> Get top-level folders in active playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1612:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=mod_folders -> Get folders in specific mod (content_version_id required)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1613:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1614:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    CANONICAL: Uses cvids (list of content_version_ids from session.mods[]) instead of playset_id.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1615:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    The caller should pass cvids=[m.cvid for m in session.mods if m.cvid].\r\nERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:1859:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    result = subprocess.run(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:1859:17 [subprocess.run] \u2014 Raw I/O call 'subprocess.run(...)' outside allowed modules.\r\n    result = subprocess.run(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:2118:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    result_obj = subprocess.run(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:2118:33 [subprocess.run] \u2014 Raw I/O call 'subprocess.run(...)' outside allowed modules.\r\n    result_obj = subprocess.run(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/ck3lens/unified_tools.py:2138:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    result_obj = subprocess.run(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/ck3lens/unified_tools.py:2138:33 [subprocess.run] \u2014 Raw I/O call 'subprocess.run(...)' outside allowed modules.\r\n    result_obj = subprocess.run(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/server.py:39:10 \u2014 Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().\r\n    exe = Path(sys.executable).resolve()\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:344:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    active_mod_ids = set()\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:345:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    active_roots = set()\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:346:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:347:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    # Read mods array (new format)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:348:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    for mod in data.get(\"mods\", []):\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:349:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    if not mod.get(\"enabled\", True):\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:357:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    active_roots.add(str(Path(path).expanduser()))\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:358:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:360:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    vanilla_config = data.get(\"vanilla\", {})\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:361:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    vanilla_root = vanilla_config.get(\"path\", \"C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game\")\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:375:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"playset_name\": data.get(\"playset_name\", \"JSON Playset\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:376:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"active_mod_ids\": active_mod_ids,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:377:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"active_roots\": active_roots,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:378:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"vanilla_version_id\": None,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:378:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"vanilla_version_id\": None,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:379:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"vanilla_root\": str(Path(vanilla_root).expanduser()),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:379:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"vanilla_root\": str(Path(vanilla_root).expanduser()),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:380:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"source\": \"json\",\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:380:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"source\": \"json\",\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:381:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"file_path\": str(playset_file),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:405:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Returns dict with:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    Returns dict with:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:406:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    Returns dict with:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:406:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    Returns dict with:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    playset_id: None (JSON-based, no DB ID)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    playset_id: None (JSON-based, no DB ID)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:407:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    playset_id: None (JSON-based, no DB ID)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:407:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    playset_id: None (JSON-based, no DB ID)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    playset_name: Human-readable name\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    playset_name: Human-readable name\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:408:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    playset_name: Human-readable name\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:408:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    playset_name: Human-readable name\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    active_mod_ids: Set of workshop IDs for mods in playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    active_mod_ids: Set of workshop IDs for mods in playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:409:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    active_mod_ids: Set of workshop IDs for mods in playset\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:409:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    active_mod_ids: Set of workshop IDs for mods in playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    active_roots: Set of filesystem root paths for mods\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    active_roots: Set of filesystem root paths for mods\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:410:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    active_roots: Set of filesystem root paths for mods\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:410:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    active_roots: Set of filesystem root paths for mods\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    vanilla_version_id: None (unused)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    vanilla_version_id: None (unused)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:411:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    vanilla_version_id: None (unused)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:411:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    vanilla_version_id: None (unused)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    vanilla_root: Path to vanilla game files\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    vanilla_root: Path to vanilla game files\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:412:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    vanilla_root: Path to vanilla game files\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:412:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    vanilla_root: Path to vanilla game files\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    source: \"json\" or \"none\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    source: \"json\" or \"none\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:413:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    source: \"json\" or \"none\"\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:413:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    source: \"json\" or \"none\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:414:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    agent_briefing: Dict with agent instructions (if available)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:441:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"playset_name\": None,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:442:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"active_mod_ids\": set(),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:443:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"active_roots\": set(),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:444:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"vanilla_version_id\": None,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:445:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"vanilla_root\": None,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:446:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"source\": \"none\",\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:596:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Internal session initialization - called by ck3_get_mode_instructions.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:596:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    Internal session initialization - called by ck3_get_mode_instructions.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:597:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:597:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:597:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:598:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    CANONICAL MODEL:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:598:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    CANONICAL MODEL:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:598:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\n    CANONICAL MODEL:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:599:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - Session is loaded from active playset via load_config()\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:599:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - Session is loaded from active playset via load_config()\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:599:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\n    - Session is loaded from active playset via load_config()\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:600:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - mods[] contains all mods from playset\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:600:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    - mods[] contains all mods from playset\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:600:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\n    - mods[] contains all mods from playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:603:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:603:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:603:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:604:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\n    Returns session info dict.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:605:1 \u2014 Oracle: is_editable pattern \u2014 matched pattern 'is%editable'.\r\n    \"\"\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:631:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:632:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    # CANONICAL: Get playset info from session - no database lookup needed\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:633:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    # Vanilla is mods[0], playset name comes from session config\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:634:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    playset_name = getattr(_session, \"playset_name\", \"Active Playset\")\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:635:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    mod_count = len(_session.mods) if hasattr(_session, \"mods\") else 0\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:636:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:637:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    # Check database health\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:638:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    db_status = _check_db_health(_db.conn)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:900:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    \"\"\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:901:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    Flexible database cleanup tool for surgical deletion of indexed data.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:902:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:903:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    Mode-aware behavior:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:904:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    - ck3lens mode: Can delete playset/mod data for re-ingestion\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:905:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    - ck3raven-dev mode: Full access for schema changes and debugging\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:906:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:907:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    Use this to clear cached/derived data when:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:908:1 \u2014 Oracle: can_delete pattern \u2014 matched pattern 'can%delete'.\r\n    - Mods have been updated from Steam and need re-ingestion\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1125:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(f\"DELETE FROM files {where}\", params)\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1162:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(f\"DELETE FROM playset_mods WHERE content_version_id IN ({placeholders})\", cv_ids)\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1166:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(f\"DELETE FROM files WHERE content_version_id IN ({placeholders})\", cv_ids)\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1170:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(f\"DELETE FROM content_versions {where}\", params)\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1174:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM mod_packages WHERE mod_package_id NOT IN (SELECT DISTINCT mod_package_id FROM content_versions WHERE mod_package_id IS NOT NULL)\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1215:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(f\"DELETE FROM {table}\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1238:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM playset_mods\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1240:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM playsets\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1260:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM build_lock\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1261:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM builder_steps\")\r\n    -> Route DB writes through builder handles only.\r\nERROR MUTATOR-01 tools/ck3lens_mcp/server.py:1263:0 \u2014 SQL mutator detected outside builder/write-handle modules.\r\n    cur.execute(\"DELETE FROM builder_runs\")\r\n    -> Route DB writes through builder handles only.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1448:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Unified conflict detection for the active playset.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1449:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1450:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Commands:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1451:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1452:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=symbols  \u2192 Find symbols defined by multiple mods (default)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1513:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    if hasattr(m, 'cvid') and m.cvid is not None\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1514:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    )\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1515:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1516:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    if not cvids:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1517:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    return {\"error\": \"No mods in session.mods[] - no active playset?\"}\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1518:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1519:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    if command == \"symbols\":\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1520:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    # Use the internal method that was powering the deleted tools\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1521:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    result = db._get_symbol_conflicts_internal(\r\nERROR BANNED_TERM tools/ck3lens_mcp/server.py:1522:12 [visible_cvids] \u2014 Banned term 'visible_cvids' used.\r\n    visible_cvids=cvids,\r\n    -> Remove/rename to canonical architecture.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    path: File path (for get/read from filesystem)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    mod_name: Target for file operations. Can be:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - \"wip\" \u2192 WIP workspace (~/.ck3raven/wip/) - always writable\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1722:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    rel_path: Relative path within target\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:1724:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    rel_path: Relative path within target\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    include_ast: Include parsed AST (for get)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    content: File content (for write)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    start_line: Start line for read (1-indexed)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1798:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    \"\"\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1799:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    Unified folder operations tool.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1886:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1886:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1887:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=get        ? Get active playset info\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1887:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=get        ? Get active playset info\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1888:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=list       ? List all playsets\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1888:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=list       ? List all playsets\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1889:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=switch     ? Switch to different playset (playset_name required)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1889:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=switch     ? Switch to different playset (playset_name required)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1890:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=mods       ? Get mods in active playset\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1890:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=mods       ? Get mods in active playset\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1891:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    command=add_mod    ? Add mod to playset (mod_name required)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1891:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=add_mod    ? Add mod to playset (mod_name required)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1892:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=remove_mod ? Remove mod from playset (mod_name required)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1893:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=reorder    ? Change mod load order (mod_name, new_position required)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1894:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    command=create     ? Create new playset (name required)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1932:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    if f.name.endswith(\".schema.json\") or f.name == \"playset_manifest.json\" or f.name == \"sub_agent_templates.json\":\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1933:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    continue\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1934:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    try:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1935:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    data = json.loads(f.read_text(encoding=\"utf-8-sig\"))\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1936:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    enabled_mods = [m for m in data.get(\"mods\", []) if m.get(\"enabled\", True)]\r\nERROR BANNED_TERM tools/ck3lens_mcp/server.py:1936:16 [enabled_mods] \u2014 Banned term 'enabled_mods' used.\r\n    enabled_mods = [m for m in data.get(\"mods\", []) if m.get(\"enabled\", True)]\r\n    -> Remove/rename to canonical architecture.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1937:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    playsets.append({\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1938:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"filename\": f.name,\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1938:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"filename\": f.name,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1939:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"name\": data.get(\"playset_name\", f.stem),\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1939:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"name\": data.get(\"playset_name\", f.stem),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1940:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"description\": data.get(\"description\", \"\"),\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1940:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"description\": data.get(\"description\", \"\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1941:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"mod_count\": len(enabled_mods),\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1941:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"mod_count\": len(enabled_mods),\r\nERROR BANNED_TERM tools/ck3lens_mcp/server.py:1941:37 [enabled_mods] \u2014 Banned term 'enabled_mods' used.\r\n    \"mod_count\": len(enabled_mods),\r\n    -> Remove/rename to canonical architecture.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1942:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"is_active\": f.name == manifest_active,\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1942:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"is_active\": f.name == manifest_active,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1943:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    })\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1943:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    })\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1944:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    except Exception as e:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1944:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    except Exception as e:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:1945:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    playsets.append({\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:1945:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    playsets.append({\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2074:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"mod_count\": len(new_scope.get(\"active_mod_ids\", set())),\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:2074:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    \"mod_count\": len(new_scope.get(\"active_mod_ids\", set())),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2075:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    }\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:2075:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    }\r\nERROR MUTATOR-03 tools/ck3lens_mcp/server.py:2115:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    subprocess.Popen(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:2115:24 [subprocess.Popen] \u2014 Raw I/O call 'subprocess.Popen(...)' outside allowed modules.\r\n    subprocess.Popen(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/server.py:2124:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    subprocess.Popen(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:2124:24 [subprocess.Popen] \u2014 Raw I/O call 'subprocess.Popen(...)' outside allowed modules.\r\n    subprocess.Popen(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2178:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"playset_name\": scope.get(\"playset_name\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2179:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"source\": scope.get(\"source\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2180:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"mod_count\": len(scope.get(\"active_mod_ids\", set())),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2181:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"has_agent_briefing\": bool(scope.get(\"agent_briefing\")),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2181:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"has_agent_briefing\": bool(scope.get(\"agent_briefing\")),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2182:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"vanilla_root\": scope.get(\"vanilla_root\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2182:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    \"vanilla_root\": scope.get(\"vanilla_root\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2183:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    }\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2183:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\n    }\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2184:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2184:1 \u2014 Path oracle: mod root \u2014 matched pattern 'mod%root'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2194:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"success\": True,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2195:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"playset_name\": scope.get(\"playset_name\"),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2196:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"enabled_count\": len(enabled),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2197:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"disabled_count\": len(disabled),\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2198:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"mods\": enabled[:limit] if limit else enabled,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2199:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"truncated\": limit is not None and len(enabled) > limit,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2200:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    }\r\nERROR FORBIDDEN_PATH_API tools/ck3lens_mcp/server.py:2234:27 \u2014 Path(...).resolve() used outside canonical modules. Use WorldAdapter.resolve().\r\n    mod_path = str(Path(mod_name).resolve())  # Needed for absolute path\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2305:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"enabled\": True,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2306:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"is_compatch\": False,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2307:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    \"notes\": f\"Added by ck3_playset add_mod on {datetime.now().isoformat()}\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2308:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    }\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2309:1 \u2014 Parallel truth: enabled mods \u2014 matched pattern 'enabled%mods'.\r\n    mods_list.append(new_mod_entry)\r\nERROR IO-01 tools/ck3lens_mcp/server.py:2686:8 [shutil.copy2] \u2014 Raw I/O call 'shutil.copy2(...)' outside allowed modules.\r\n    shutil.copy2(launcher_db, backup_path)\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-02 tools/ck3lens_mcp/server.py:2778:0 \u2014 Filesystem write mutator detected outside builder/write-handle modules.\r\n    with open(f, 'r', encoding='utf-8') as fp:\r\n    -> Route file writes through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:2778:21 [open] \u2014 Raw I/O call 'open(...)' outside allowed modules.\r\n    with open(f, 'r', encoding='utf-8') as fp:\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-02 tools/ck3lens_mcp/server.py:2842:0 \u2014 Filesystem write mutator detected outside builder/write-handle modules.\r\n    with open(playset_file, 'w', encoding='utf-8') as fp:\r\n    -> Route file writes through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:2842:17 [open] \u2014 Raw I/O call 'open(...)' outside allowed modules.\r\n    with open(playset_file, 'w', encoding='utf-8') as fp:\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2920:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    pass\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2921:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:2922:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    # Check for mods with missing paths\r\nERROR IO-01 tools/ck3lens_mcp/server.py:3218:16 [shutil.move] \u2014 Raw I/O call 'shutil.move(...)' outside allowed modules.\r\n    shutil.move(str(f), str(archive_dir / f.name))\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3263:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3264:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    This is the ONLY safe way for agents to run shell commands.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3265:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    All commands are evaluated against the policy engine:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3266:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3267:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    - Safe commands (cat, git status, etc.) ? Allowed automatically\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3268:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    - Risky commands (rm *.py, git push) ? Require approval token\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3332:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    if working_dir:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3333:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    resolution = normalize_path_input(world, path=working_dir)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3334:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    if not resolution.found:\r\nERROR MUTATOR-03 tools/ck3lens_mcp/server.py:3660:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    proc = subprocess.run(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:3660:19 [subprocess.run] \u2014 Raw I/O call 'subprocess.run(...)' outside allowed modules.\r\n    proc = subprocess.run(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/server.py:3671:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    proc = subprocess.run(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:3671:19 [subprocess.run] \u2014 Raw I/O call 'subprocess.run(...)' outside allowed modules.\r\n    proc = subprocess.run(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3753:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    Args:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3754:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    command: Action to perform\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3755:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    token_type: Type of token to request (for request)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3756:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    reason: Why this token is needed (for request)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3757:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    path_patterns: Allowed paths (for request)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3758:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    command_patterns: Allowed commands (for request)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3759:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    ttl_minutes: Override TTL (for request)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:3760:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    token_id: Token to validate/revoke\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3928:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    {\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3929:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    \"query\": str,\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3930:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    \"symbols\": {definitions, references_by_mod},\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3931:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    \"content\": {line-by-line matches},\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:3932:1 \u2014 Path oracle: mod paths \u2014 matched pattern 'mod%paths'.\r\n    \"files\": {matching paths},\r\nERROR BANNED_TERM tools/ck3lens_mcp/server.py:3977:8 [visible_cvids] \u2014 Banned term 'visible_cvids' used.\r\n    visible_cvids=cvids if cvids else None\r\n    -> Remove/rename to canonical architecture.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4052:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4052:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4053:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    USE THIS instead of VS Code's grep_search when you need to search files\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4053:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    USE THIS instead of VS Code's grep_search when you need to search files\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4054:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    outside the ck3raven database. Every search is logged for policy validation.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4054:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    outside the ck3raven database. Every search is logged for policy validation.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4055:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4055:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4056:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    In ck3lens mode: Only paths within the active playset (vanilla + mods) are searchable.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4056:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    In ck3lens mode: Only paths within the active playset (vanilla + mods) are searchable.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4057:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    In ck3raven-dev mode: Broader access for infrastructure testing.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4057:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    In ck3raven-dev mode: Broader access for infrastructure testing.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4058:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4058:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4059:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Args:\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4059:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    Args:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4060:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    path: Absolute path to search in (file or directory)\r\nERROR BANNED_NEAR tools/ck3lens_mcp/server.py:4060:1 \u2014 Parallel truth: active mods (near-match) \u2014 near-window match ['active', 'mods'] within 6 tokens.\r\n    path: Absolute path to search in (file or directory)\r\nERROR MUTATOR-02 tools/ck3lens_mcp/server.py:4125:0 \u2014 Filesystem write mutator detected outside builder/write-handle modules.\r\n    with open(file_path, 'r', encoding='utf-8', errors='replace') as f:\r\n    -> Route file writes through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:4125:21 [open] \u2014 Raw I/O call 'open(...)' outside allowed modules.\r\n    with open(file_path, 'r', encoding='utf-8', errors='replace') as f:\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4172:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    - ck3raven-dev mode: Defaults to ck3raven repo root (for infrastructure work)\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4173:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    - ck3lens mode: Defaults to vanilla game path\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4174:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4175:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    IMPORTANT: In ck3lens mode, while the default is vanilla, you can explicitly\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4176:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    set base_path to search other allowed paths including ck3raven source\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4177:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    (which is in read_allowed for research purposes). The WorldAdapter validates\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4178:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    all paths against mode visibility rules.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4179:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4180:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    Args:\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4181:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    pattern: Glob pattern to match (e.g., \"**/*.txt\", \"common/traits/*.txt\")\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4405:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Get the agent briefing notes for the active playset.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4406:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4407:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    Agent briefings contain user-written notes that help the AI understand:\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4408:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - Which errors to prioritize vs ignore\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4409:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    - Which conflicts are expected (from compatch mods)\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4792:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"CK3 Lens mode active. You can:\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4792:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"CK3 Lens mode active. You can:\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4793:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Search symbols, files, content via database\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4793:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Search symbols, files, content via database\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4794:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4794:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4795:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Use ck3_repair for launcher/cache issues\\n\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4795:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Use ck3_repair for launcher/cache issues\\n\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4796:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"You CANNOT write to workshop mods, vanilla, or ck3raven source.\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4796:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"You CANNOT write to workshop mods, vanilla, or ck3raven source.\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4797:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    )\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4798:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    elif mode == \"ck3raven-dev\":\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4798:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    elif mode == \"ck3raven-dev\":\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4798:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    elif mode == \"ck3raven-dev\":\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4799:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    return (\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4799:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    return (\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4799:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    return (\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4800:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"CK3 Raven Dev mode active. You can:\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4800:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"CK3 Raven Dev mode active. You can:\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4800:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    \"CK3 Raven Dev mode active. You can:\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4801:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Read all source code and mods (for parser/ingestion testing)\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4801:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Read all source code and mods (for parser/ingestion testing)\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4801:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    \"- Read all source code and mods (for parser/ingestion testing)\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4802:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Write/edit ck3raven infrastructure code\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4802:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Write/edit ck3raven infrastructure code\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4802:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    \"- Write/edit ck3raven infrastructure code\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4803:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Execute commands via ck3_exec (NOT run_in_terminal)\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4803:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Execute commands via ck3_exec (NOT run_in_terminal)\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4803:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    \"- Execute commands via ck3_exec (NOT run_in_terminal)\\n\"\r\nERROR BANNED_COMPOSITE tools/ck3lens_mcp/server.py:4804:1 \u2014 Parallel truth: active mods \u2014 matched pattern 'active%mods'.\r\n    \"- Write analysis scripts to <repo>/.wip/\\n\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4804:1 \u2014 Oracle: can_write pattern \u2014 matched pattern 'can%write'.\r\n    \"- Write analysis scripts to <repo>/.wip/\\n\\n\"\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:4804:1 \u2014 Oracle: can_edit pattern \u2014 matched pattern 'can%edit'.\r\n    \"- Write analysis scripts to <repo>/.wip/\\n\\n\"\r\nERROR MUTATOR-02 tools/ck3lens_mcp/server.py:5120:0 \u2014 Filesystem write mutator detected outside builder/write-handle modules.\r\n    with open(sql_file, 'r', encoding='utf-8') as f:\r\n    -> Route file writes through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:5120:21 [open] \u2014 Raw I/O call 'open(...)' outside allowed modules.\r\n    with open(sql_file, 'r', encoding='utf-8') as f:\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5126:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5127:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    # Safety: only allow SELECT\r\nERROR BANNED_ORACLE tools/ck3lens_mcp/server.py:5128:1 \u2014 Oracle: is_allowed pattern \u2014 matched pattern 'is%allowed'.\r\n    sql_upper = sql.strip().upper()\r\nERROR MUTATOR-02 tools/ck3lens_mcp/server.py:5300:0 \u2014 Filesystem write mutator detected outside builder/write-handle modules.\r\n    with open(log_file, \"a\", encoding=\"utf-8\") as log_handle:\r\n    -> Route file writes through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:5300:17 [open] \u2014 Raw I/O call 'open(...)' outside allowed modules.\r\n    with open(log_file, \"a\", encoding=\"utf-8\") as log_handle:\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nERROR MUTATOR-03 tools/ck3lens_mcp/server.py:5305:0 \u2014 Subprocess/system call detected outside builder/write-handle modules.\r\n    proc = subprocess.Popen(\r\n    -> Route side-effecting exec through builder handles only.\r\nERROR IO-01 tools/ck3lens_mcp/server.py:5305:23 [subprocess.Popen] \u2014 Raw I/O call 'subprocess.Popen(...)' outside allowed modules.\r\n    proc = subprocess.Popen(\r\n    -> Route I/O through handles minted by WorldAdapter.\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/policy/types.py:52:0 \u2014 Legacy code marker detected. Schedule for removal. (keyword: 'legacy')\r\n    # AcceptanceTest REMOVED - Part of legacy contract schema\r\nWARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:236:0 [get_ck3lens_wip_path] \u2014 Top-level function 'get_ck3lens_wip_path' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:241:0 [get_ck3raven_dev_wip_path] \u2014 Top-level function 'get_ck3raven_dev_wip_path' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:256:0 [WipWorkspaceInfo] \u2014 Top-level class 'WipWorkspaceInfo' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    active_roots: Optional[set[str]] = None\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    active_roots: Optional[set[str]] = None\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:337:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    active_roots: Optional[set[str]] = None\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    vanilla_root: Optional[str] = None\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    vanilla_root: Optional[str] = None\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:338:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    vanilla_root: Optional[str] = None\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:339:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:342:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:342:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - vanilla_version_id\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - vanilla_version_id\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:372:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - vanilla_version_id\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - active_mod_ids\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - active_mod_ids\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:373:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - active_mod_ids\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - active_roots\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - active_roots\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:374:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - active_roots\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - vanilla_root\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - vanilla_root\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:375:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - vanilla_root\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - local_mods\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - local_mods\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:376:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - local_mods\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - ck3raven_root\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - ck3raven_root\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:377:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - ck3raven_root\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:378:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:379:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Returns:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:379:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Returns:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:380:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Self for chaining\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:380:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Self for chaining\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    if scope.get(\"active_roots\") is not None:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    if scope.get(\"active_roots\") is not None:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:388:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    if scope.get(\"active_roots\") is not None:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    self.active_roots = scope[\"active_roots\"]\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    self.active_roots = scope[\"active_roots\"]\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:389:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    self.active_roots = scope[\"active_roots\"]\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    if scope.get(\"vanilla_root\") is not None:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    if scope.get(\"vanilla_root\") is not None:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:390:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    if scope.get(\"vanilla_root\") is not None:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    self.vanilla_root = scope[\"vanilla_root\"]\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    self.vanilla_root = scope[\"vanilla_root\"]\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:391:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    self.vanilla_root = scope[\"vanilla_root\"]\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:394:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    if scope.get(\"ck3raven_root\") is not None:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:394:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    if scope.get(\"ck3raven_root\") is not None:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:395:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    self.ck3raven_root = Path(scope[\"ck3raven_root\"])\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:395:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    self.ck3raven_root = Path(scope[\"ck3raven_root\"])\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:396:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    return self\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:396:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    return self\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/policy/types.py:397:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/policy/types.py:397:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN UNUSED-01 tools/ck3lens_mcp/ck3lens/policy/types.py:412:0 [PolicyOutcome] \u2014 Top-level class 'PolicyOutcome' appears unused (no repo references found).\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:612:12 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # Fallback for raw path when no resolution available\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:615:12 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # Fallback for mod addressing when no resolution available\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:632:12 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # Fallback for raw path when no resolution available\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:635:12 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # Fallback for mod addressing when no resolution available\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:706:1 \u2014 Suspect fallback logic using visibility \u2014 matched pattern 'else%visibility'.\r\n    return {\"error\": f\"File not found: {path}\"}\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:707:1 \u2014 Suspect fallback logic using visibility \u2014 matched pattern 'else%visibility'.\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/ck3lens/unified_tools.py:708:1 \u2014 Suspect fallback logic using visibility \u2014 matched pattern 'else%visibility'.\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:717:4 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # world parameter is REQUIRED - no fallback to banned playset_scope\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:894:8 \u2014 Architectural workaround detected. (keyword: 'workaround')\r\n    # Track core source change for WIP workaround detection\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:966:8 \u2014 Architectural workaround detected. (keyword: 'workaround')\r\n    # Track core source change for WIP workaround detection\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1188:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    else:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1188:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    else:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1189:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # Get WorldAdapter for canonical path resolution\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1189:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # Get WorldAdapter for canonical path resolution\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1190:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # Note: WorldAdapter should be pre-initialized; we use mods from session\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1190:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # Note: WorldAdapter should be pre-initialized; we use mods from session\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1191:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    adapter = get_world(\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1191:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    adapter = get_world(\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1193:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    mods=session.mods\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1193:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    mods=session.mods\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1194:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    )\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1194:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    )\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1195:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1195:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/ck3lens/unified_tools.py:1196:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    files = []\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/ck3lens/unified_tools.py:1196:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    files = []\r\nWARN SUSPECT_RESOLVE tools/ck3lens_mcp/ck3lens/unified_tools.py:1201:30 \u2014 Suspicious .resolve() call on 'WorldAdapter'. Only WorldAdapter (world.resolve()) is allowed.\r\n    # Use WorldAdapter.resolve() to get canonical address\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/ck3lens/unified_tools.py:1206:28 \u2014 Explicit fallback logic detected. Verify architectural compliance. (keyword: 'fallback')\r\n    # Fallback: just use filename\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:3:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:3:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    An MCP server providing CK3 modding tools:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    An MCP server providing CK3 modding tools:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:5:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Symbol search (from ck3raven SQLite DB)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:5:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Symbol search (from ck3raven SQLite DB)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:6:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Conflict detection\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:6:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Conflict detection\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:8:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Git operations\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:8:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Git operations\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:9:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Validation\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:9:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Validation\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:10:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:10:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:11:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Architecture:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:11:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Architecture:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:12:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - ALL reads come from ck3raven's SQLite database (symbols, files, AST)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:12:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - ALL reads come from ck3raven's SQLite database (symbols, files, AST)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:14:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"\"\"\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:14:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"\"\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:15:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    from __future__ import annotations\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:15:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    from __future__ import annotations\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:16:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    import sys\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:16:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    import sys\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:17:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    import os\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:17:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    import os\r\nWARN SUSPECT_RESOLVE tools/ck3lens_mcp/server.py:217:6 \u2014 Suspicious .resolve() call on 'WorldAdapter'. Only WorldAdapter (world.resolve()) is allowed.\r\n    # Use WorldAdapter.resolve() for visibility, enforcement.py for decisions.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:255:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # the error should propagate with a clear message about calling\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:255:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # the error should propagate with a clear message about calling\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:256:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # ck3_get_mode_instructions() first.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:256:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # ck3_get_mode_instructions() first.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:257:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    adapter = get_world(\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:257:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    adapter = get_world(\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:258:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    db=None,  # DB not needed for path resolution - get it when needed\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:258:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    db=None,  # DB not needed for path resolution - get it when needed\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:260:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    mods=session.mods\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:260:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    mods=session.mods\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:261:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    )\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:261:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    )\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:262:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    _cached_world_adapter = adapter\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:262:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    _cached_world_adapter = adapter\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:263:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    _cached_world_mode = mode\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:263:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    _cached_world_mode = mode\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:360:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    vanilla_config = data.get(\"vanilla\", {})\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:360:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    vanilla_config = data.get(\"vanilla\", {})\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:360:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    vanilla_config = data.get(\"vanilla\", {})\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:361:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    vanilla_root = vanilla_config.get(\"path\", \"C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game\")\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:361:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    vanilla_root = vanilla_config.get(\"path\", \"C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game\")\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:361:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    vanilla_root = vanilla_config.get(\"path\", \"C:/Program Files (x86)/Steam/steamapps/common/Crusader Kings III/game\")\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:362:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:362:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:366:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:366:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:367:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # NOTE: No editable_mods list - enforcement.py determines writability at execution time\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:367:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # NOTE: No editable_mods list - enforcement.py determines writability at execution time\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:369:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:369:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:378:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    \"vanilla_version_id\": None,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:378:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"vanilla_version_id\": None,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:378:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"vanilla_version_id\": None,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:379:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    \"vanilla_root\": str(Path(vanilla_root).expanduser()),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:379:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"vanilla_root\": str(Path(vanilla_root).expanduser()),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:379:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"vanilla_root\": str(Path(vanilla_root).expanduser()),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:380:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    \"source\": \"json\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:380:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"source\": \"json\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:380:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"source\": \"json\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:381:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    \"file_path\": str(playset_file),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:381:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"file_path\": str(playset_file),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:381:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"file_path\": str(playset_file),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:383:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"agent_briefing\": agent_briefing,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:383:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"agent_briefing\": agent_briefing,\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:392:0 \u2014 Legacy code marker detected. Schedule for removal. (keyword: 'legacy')\r\n    # REMOVED: _load_legacy_playset - Legacy playset format BANNED (December 2025)\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:438:4 \u2014 Legacy code marker detected. Schedule for removal. (keyword: 'legacy')\r\n    # No playset available - legacy format support REMOVED\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:554:0 [ck3_get_instance_info] \u2014 Top-level function 'ck3_get_instance_info' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:574:0 [ck3_ping] \u2014 Top-level function 'ck3_ping' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:597:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:597:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:597:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:598:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    CANONICAL MODEL:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:598:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    CANONICAL MODEL:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:598:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    CANONICAL MODEL:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:599:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - Session is loaded from active playset via load_config()\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:599:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Session is loaded from active playset via load_config()\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:599:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Session is loaded from active playset via load_config()\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:600:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - mods[] contains all mods from playset\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:600:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - mods[] contains all mods from playset\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:600:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - mods[] contains all mods from playset\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:603:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:603:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:603:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:604:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Returns session info dict.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:604:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Returns session info dict.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:605:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"\"\"\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:605:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"\"\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:606:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    from ck3lens.workspace import load_config\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:606:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    from ck3lens.workspace import load_config\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:642:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"db_path\": str(_db.db_path) if _db.db_path else None,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:642:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"db_path\": str(_db.db_path) if _db.db_path else None,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:643:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"playset_name\": playset_name,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:643:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"playset_name\": playset_name,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:644:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"mod_count\": mod_count,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:644:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"mod_count\": mod_count,\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:766:0 [ck3_close_db] \u2014 Top-level function 'ck3_close_db' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:822:0 [ck3_db] \u2014 Top-level function 'ck3_db' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:893:0 [ck3_db_delete] \u2014 Top-level function 'ck3_db_delete' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1298:0 [ck3_get_policy_status] \u2014 Top-level function 'ck3_get_policy_status' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1342:0 [ck3_logs] \u2014 Top-level function 'ck3_logs' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1437:0 [ck3_conflicts] \u2014 Top-level function 'ck3_conflicts' appears unused (no repo references found).\r\nWARN FALLBACK-01 tools/ck3lens_mcp/server.py:1510:0 \u2014 Fallback pattern detected - fallbacks often retain banned ideas during refactor.\r\n    # No db_visibility() or visible_cvids - derive inline from mods[]\r\n    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1668:0 [ck3_file] \u2014 Top-level function 'ck3_file' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    path: File path (for get/read from filesystem)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    path: File path (for get/read from filesystem)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1719:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    path: File path (for get/read from filesystem)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1719:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    path: File path (for get/read from filesystem)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    mod_name: Target for file operations. Can be:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    mod_name: Target for file operations. Can be:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1720:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    mod_name: Target for file operations. Can be:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1720:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    mod_name: Target for file operations. Can be:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - \"wip\" \u2192 WIP workspace (~/.ck3raven/wip/) - always writable\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - \"wip\" \u2192 WIP workspace (~/.ck3raven/wip/) - always writable\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1721:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    - \"wip\" \u2192 WIP workspace (~/.ck3raven/wip/) - always writable\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1721:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - \"wip\" \u2192 WIP workspace (~/.ck3raven/wip/) - always writable\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1722:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1722:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - \"vanilla\" \u2192 Vanilla game files (read-only)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    rel_path: Relative path within target\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    rel_path: Relative path within target\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1724:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    rel_path: Relative path within target\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1724:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    rel_path: Relative path within target\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    include_ast: Include parsed AST (for get)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    include_ast: Include parsed AST (for get)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1725:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    include_ast: Include parsed AST (for get)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1725:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    include_ast: Include parsed AST (for get)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    content: File content (for write)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1726:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    content: File content (for write)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1726:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    content: File content (for write)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 \u2014 Likely drift: active local mods \u2014 matched pattern 'active%local%mods'.\r\n    start_line: Start line for read (1-indexed)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:1727:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    start_line: Start line for read (1-indexed)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:1727:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    start_line: Start line for read (1-indexed)\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1784:0 [ck3_folder] \u2014 Top-level function 'ck3_folder' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:1861:0 [ck3_playset] \u2014 Top-level function 'ck3_playset' appears unused (no repo references found).\r\nWARN SUSPECT_RESOLVE tools/ck3lens_mcp/server.py:2270:55 \u2014 Suspicious .resolve() call on 'folder'. Only WorldAdapter (world.resolve()) is allowed.\r\n    mod_path = str(folder.resolve())  # Needed for absolute path\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:2370:0 [ck3_git] \u2014 Top-level function 'ck3_git' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:2441:0 [ck3_validate] \u2014 Top-level function 'ck3_validate' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:2503:0 [ck3_vscode] \u2014 Top-level function 'ck3_vscode' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:2559:0 [ck3_repair] \u2014 Top-level function 'ck3_repair' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2793:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # At this point playset_file is guaranteed to be set (found in loop above)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2793:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # At this point playset_file is guaranteed to be set (found in loop above)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2794:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    assert playset_file is not None\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2794:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    assert playset_file is not None\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2795:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2795:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2796:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # Detect path mismatch\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2796:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # Detect path mismatch\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2799:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2799:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2800:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    if not mismatch:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2800:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    if not mismatch:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2801:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # Check individual mod paths too\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2801:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # Check individual mod paths too\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2802:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    mods = playset_data.get(\"mods\", [])\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2802:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    mods = playset_data.get(\"mods\", [])\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2810:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    if not mismatch:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2810:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    if not mismatch:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2811:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    return {\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2811:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    return {\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2812:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"success\": True,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2812:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"success\": True,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2813:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"message\": \"No path migration needed - paths already match current user profile\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2813:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"message\": \"No path migration needed - paths already match current user profile\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2815:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    }\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2815:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    }\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2816:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2816:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2817:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    old_user, new_user = mismatch\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2817:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    old_user, new_user = mismatch\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:2818:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:2818:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:2954:0 [ck3_contract] \u2014 Top-level function 'ck3_contract' appears unused (no repo references found).\r\nWARN SUSPECT_COMMENT tools/ck3lens_mcp/server.py:3230:8 \u2014 Legacy code marker detected. Schedule for removal. (keyword: 'legacy')\r\n    # Move all pre-v1 contracts to legacy folder\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:3249:0 [ck3_exec] \u2014 Top-level function 'ck3_exec' appears unused (no repo references found).\r\nWARN FALLBACK-01 tools/ck3lens_mcp/server.py:3326:0 \u2014 Fallback pattern detected - fallbacks often retain banned ideas during refactor.\r\n    # DB unavailable or not initialized - continue without path visibility checks\r\n    -> Review: if this falls back to deprecated visibility/scope patterns, delete it.\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3466:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"output\": sandbox_result.get(\"output\", \"\"),\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3467:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"exit_code\": 0 if sandbox_result[\"success\"] else 1,\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3468:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"policy\": {\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3469:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"decision\": \"ALLOW\",\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3470:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"reason\": \"Executed in LensWorld sandbox\",\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:3471:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    \"category\": \"WIP_SCRIPT_SANDBOXED\",\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:3710:0 [ck3_token] \u2014 Top-level function 'ck3_token' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:3890:0 [ck3_search] \u2014 Top-level function 'ck3_search' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4043:0 [ck3_grep_raw] \u2014 Top-level function 'ck3_grep_raw' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4160:0 [ck3_file_search] \u2014 Top-level function 'ck3_file_search' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4272:0 [ck3_parse_content] \u2014 Top-level function 'ck3_parse_content' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4320:0 [ck3_report_validation_issue] \u2014 Top-level function 'ck3_report_validation_issue' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4403:0 [ck3_get_agent_briefing] \u2014 Top-level function 'ck3_get_agent_briefing' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4455:0 [ck3_search_mods] \u2014 Top-level function 'ck3_search_mods' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4547:0 [ck3_get_mode_instructions] \u2014 Top-level function 'ck3_get_mode_instructions' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4660:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"wip_workspace\": wip_info,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4660:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"wip_workspace\": wip_info,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4660:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"wip_workspace\": wip_info,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4661:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"session_note\": _get_mode_session_note(mode),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4661:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"session_note\": _get_mode_session_note(mode),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4661:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"session_note\": _get_mode_session_note(mode),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4662:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    # Session info (from what ck3_init_session used to return)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4662:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    # Session info (from what ck3_init_session used to return)\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4662:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    # Session info (from what ck3_init_session used to return)\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4663:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"session\": {\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4663:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"session\": {\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4663:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"session\": {\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4665:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"db_path\": session_info.get(\"db_path\"),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4665:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"db_path\": session_info.get(\"db_path\"),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4666:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"playset_id\": session_info.get(\"playset_id\"),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4666:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"playset_id\": session_info.get(\"playset_id\"),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4667:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"playset_name\": session_info.get(\"playset_name\"),\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4667:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"playset_name\": session_info.get(\"playset_name\"),\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4705:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4705:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4705:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ScopeDomain.CK3RAVEN_SOURCE.value,  # Read OK for error context\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4706:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4706:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4706:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4707:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4707:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ],\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4707:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4708:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"write_allowed\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4708:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"write_allowed\": [\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4708:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"write_allowed\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4710:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4710:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4710:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ScopeDomain.WIP_WORKSPACE.value,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4711:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4711:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ],\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4711:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4712:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"delete_requires_token\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4712:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"delete_requires_token\": [\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4712:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"delete_requires_token\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4714:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4714:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    ],\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4714:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4715:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"always_denied\": [\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4715:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"always_denied\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4717:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"write to VANILLA_GAME\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4717:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"write to VANILLA_GAME\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4718:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"write to CK3RAVEN_SOURCE\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4718:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"write to CK3RAVEN_SOURCE\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4719:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    ],\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4719:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    ],\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4720:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    },\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4720:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    },\r\nWARN SUSPECT_FALLBACK tools/ck3lens_mcp/server.py:4788:1 \u2014 Suspect fallback logic using lens \u2014 matched pattern 'else%lens'.\r\n    def _get_mode_session_note(mode: str) -> str:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4792:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"CK3 Lens mode active. You can:\\n\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4793:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"- Search symbols, files, content via database\\n\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4794:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"- Draft Python scripts in WIP workspace (~/.ck3raven/wip/)\\n\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4795:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"- Use ck3_repair for launcher/cache issues\\n\\n\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4796:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    \"You CANNOT write to workshop mods, vanilla, or ck3raven source.\"\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4797:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    )\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4798:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    elif mode == \"ck3raven-dev\":\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4812:0 [ck3_get_detected_mode] \u2014 Top-level function 'ck3_get_detected_mode' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:4890:0 [ck3_get_workspace_config] \u2014 Top-level function 'ck3_get_workspace_config' appears unused (no repo references found).\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4893:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4893:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4893:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4894:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Use this to understand:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4894:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    Use this to understand:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4894:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Use this to understand:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4895:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Available modes/tool sets and what tools they enable\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4895:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    - Available modes/tool sets and what tools they enable\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4895:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Available modes/tool sets and what tools they enable\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4896:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - MCP server configuration\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4896:1 \u2014 Suspicious: workspace mods registry \u2014 matched pattern 'workspace%mods'.\r\n    - MCP server configuration\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4896:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - MCP server configuration\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4898:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    - Database path\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4898:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    - Database path\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4899:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4899:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4900:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Returns:\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4900:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Returns:\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4901:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    Complete workspace configuration\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4901:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    Complete workspace configuration\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4914:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"path\": db_path_str,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4914:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"path\": db_path_str,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4915:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"exists\": db_exists,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4915:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"exists\": db_exists,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4916:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    },\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4916:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    },\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4917:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"playset_name\": session.playset_name,\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4917:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"playset_name\": session.playset_name,\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4919:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"available_modes\": [\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4919:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"available_modes\": [\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4920:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    {\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4920:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    {\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4921:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"name\": \"ck3lens\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4921:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"name\": \"ck3lens\",\r\nWARN SUSPECT_COMPOSITE tools/ck3lens_mcp/server.py:4922:1 \u2014 Suspicious: local mods (ensure not a parallel truth) \u2014 matched pattern 'local%mods'.\r\n    \"description\": \"CK3 modding - database search, conflict detection, mod editing\",\r\nWARN SUSPECT_NEAR tools/ck3lens_mcp/server.py:4922:1 \u2014 Suspicious: local mods (near-match) \u2014 near-window match ['local', 'mods'] within 6 tokens.\r\n    \"description\": \"CK3 modding - database search, conflict detection, mod editing\",\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:5059:0 [ck3_db_query] \u2014 Top-level function 'ck3_db_query' appears unused (no repo references found).\r\nWARN UNUSED-01 tools/ck3lens_mcp/server.py:5216:0 [ck3_qbuilder] \u2014 Top-level function 'ck3_qbuilder' appears unused (no repo references found).\r\n",
  "stderr": "",
  "error_count": 0,
  "warning_count": 0,
  "files_linted": [
    "tools/ck3lens_mcp/ck3lens/policy/__init__.py",
    "tools/ck3lens_mcp/ck3lens/policy/types.py",
    "tools/ck3lens_mcp/ck3lens/unified_tools.py",
    "tools/ck3lens_mcp/server.py"
  ],
  "base_commit": "9168387",
  "head_commit": "e20716b7d83a9623b1742d1d1a25c0b2dc57b405"
}